const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/calendarService-BLiLHtBa.js","assets/chunk-8WlaufA8.js","assets/chunk-pjYta8vt.js","assets/chunk-BQPSriyy.js","assets/calendarSynchronizationService-A8-_sGLl.js","assets/chunk-CJViCmxo.js","assets/Tasks-BSYKFw1G.js","assets/chunk-dSH-ZfBJ.js","assets/chunk-Cg2ZZDgQ.js","assets/chunk-DvQYMAQ6.js","assets/chunk-DHsBTIyN.js","assets/chunk-DSRmHbBO.js","assets/chunk-cjCmUzJ1.js","assets/chunk-Bw8oe1_L.js","assets/chunk-DktN3Kjy.js","assets/chunk-BdHZTqfh.js","assets/chunk-B-BuOqLK.js","assets/chunk-FXPmmNOU.js","assets/chunk-kzSEtJwL.js","assets/chunk-DTiRvVQj.js","assets/Metrics-CnHKdtyk.js","assets/chunk-An1cF_3A.js","assets/Stakeholders-CTSP4UDG.js","assets/Projects-B40Ne4Vf.js","assets/chunk-KzYfAQy1.js","assets/chunk-CkTSnDel.js","assets/chunk-N38jzkpe.js","assets/chunk-UjCvYLMJ.js","assets/Settings-DO0bOo4S.js","assets/chunk-BtUKRQ1H.js","assets/Team-CDRF78_7.js","assets/chunk-B6BcMUO9.js","assets/chunk-Dm0CwYXu.js","assets/ProjectDetails-nmbXL_yi.js","assets/TeamMemberProfile-yctdmpTj.js","assets/chunk-2Qq0zNiP.js","assets/Peers-BnE_j2M1.js","assets/PeerProfile-Cys9Wjf6.js"])))=>i.map(i=>d[i]);
import{j as r,b as Xe,F as Je,I as Qe,S as Kt,d as Ht,e as Yt,f as qt,U as Wt,g as $e,h as Xt,X as Ze,i as Jt,k as Qt,L as Zt,M as es,l as ts,m as et,n as ss,o as Te,p as F,A as rs,q as as,r as ns,s as os,t as is,v as L,w as ge,P as J,x as tt,B as cs,y as ls,V as st,z as ds,D as us,E as ms,T as rt,H as fs,G as hs}from"./chunk-8WlaufA8.js";import{f as gs,g as ps,a as c,L as ze,B as xs,u as ys,h as _s,i as C,b as ws,R as at}from"./chunk-pjYta8vt.js";import{t as vs,c as bs,a as ye}from"./chunk-BQPSriyy.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();var ue={},Ge;function Es(){if(Ge)return ue;Ge=1;var t=gs();return ue.createRoot=t.createRoot,ue.hydrateRoot=t.hydrateRoot,ue}var js=Es();const Ns=ps(js),Ss="modulepreload",Ts=function(t){return"/"+t},Ke={},T=function(e,s,a){let n=Promise.resolve();if(s&&s.length>0){let l=function(u){return Promise.all(u.map(g=>Promise.resolve(g).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");n=l(s.map(u=>{if(u=Ts(u),u in Ke)return;Ke[u]=!0;const g=u.endsWith(".css"),f=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":Ss,g||(x.as="script"),x.crossOrigin="",x.href=u,p&&x.setAttribute("nonce",p),document.head.appendChild(x),g)return new Promise((w,S)=>{x.addEventListener("load",w),x.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return n.then(l=>{for(const d of l||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})};function V(t){return"/"+t.toLowerCase().replace(/ /g,"-")}function b(...t){return vs(bs(t))}const Os={text:(t,e=255)=>!(typeof t!="string"||t.length>e||t.trim().length===0),email:t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),url:t=>{try{return new URL(t),!0}catch{return!1}},array:(t,e=100)=>!(!Array.isArray(t)||t.length>e),required:t=>t==null?!1:typeof t=="string"?t.trim().length>0:Array.isArray(t)?t.length>0:!0},X=()=>{try{const t="__localStorage_test__";return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}},As=t=>{if(!X())return console.warn("localStorage is not available"),null;try{return localStorage.getItem(t)}catch(e){return console.warn(`Failed to get item from localStorage: ${t}`,e),null}},Ds=(t,e)=>{if(!X())return console.warn("localStorage is not available"),!1;try{return localStorage.setItem(t,e),!0}catch(s){return console.warn(`Failed to set item in localStorage: ${t}`,s),!1}},nt=t=>{if(!X())return console.warn("localStorage is not available"),!1;try{return localStorage.removeItem(t),!0}catch(e){return console.warn(`Failed to remove item from localStorage: ${t}`,e),!1}},Is=t=>{const e=As(t);if(!e)return null;try{return JSON.parse(e)}catch(s){return console.warn(`Failed to parse JSON from localStorage: ${t}`,s),nt(t),null}},Rs=(t,e)=>{try{const s=JSON.stringify(e);return Ds(t,s)}catch(s){return console.warn(`Failed to stringify and store JSON in localStorage: ${t}`,s),!1}},re={username:"admin",password:"password123"},Ee="auth_token";class H{static validateCredentials(e,s){return!e||!s?!1:e===re.username&&s===re.password}static generateToken(e){return{value:Math.random().toString(36).substring(2)+Date.now().toString(36),timestamp:Date.now(),username:e}}static isValidToken(e){return!(!e||typeof e!="object"||!e.value||!e.timestamp||!e.username)}static clearAuthData(){if(!X())return console.warn("localStorage is not available - cannot clear authentication data"),!1;try{return nt(Ee)}catch(e){return console.warn("Failed to clear authentication data:",e),!1}}static storeToken(e){if(!X()){const s=new Error("localStorage is not available - browser storage may be disabled");throw s.type="STORAGE_UNAVAILABLE",s}try{if(!Rs(Ee,e)){const a=new Error("Unable to store authentication data - storage may be full or restricted");throw a.type="STORAGE_QUOTA_EXCEEDED",a}}catch(s){if(s.name==="QuotaExceededError"||s.code===22){const a=new Error("Browser storage is full - please clear some data and try again");throw a.type="STORAGE_QUOTA_EXCEEDED",a}else if(s.name==="SecurityError"){const a=new Error("Browser storage access is restricted - please check your privacy settings");throw a.type="STORAGE_SECURITY_ERROR",a}else{const a=new Error("Failed to save authentication data - please try again");throw a.type="STORAGE_UNKNOWN_ERROR",a.originalError=s,a}}}static getStoredToken(){if(!X()){const e=new Error("localStorage is not available - cannot retrieve authentication token");throw e.type="STORAGE_UNAVAILABLE",e}try{const e=Is(Ee);return this.isValidToken(e)?e:null}catch{return console.warn("Corrupted authentication token detected, clearing storage"),this.clearAuthData(),null}}static isAuthenticated(){try{return this.getStoredToken()!==null}catch(e){if(e.type==="STORAGE_UNAVAILABLE")throw e;return console.warn("Error checking authentication status:",e),!1}}static async changePassword(e,s,a){if(e!==re.username||s!==re.password)throw new Error("Incorrect current password.");re.password=a,console.log("Password for user '"+e+"' has been changed."),this.clearAuthData()}}const He=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"})),ot="audit_logs",Cs=()=>{try{return H.getStoredToken()?.username||null}catch(t){return console.warn("Unable to get current user for audit log:",t),null}},Ps=()=>{try{const t=localStorage.getItem(ot);return t?JSON.parse(t):[]}catch(t){return console.error("Error reading audit logs:",t),[]}},ks=t=>{try{localStorage.setItem(ot,JSON.stringify(t))}catch(e){console.error("Error saving audit logs:",e)}},$=(t,e,s,a={})=>{const n=Cs();if(!n){console.warn("Cannot create audit log: no authenticated user");return}const o={id:crypto.randomUUID?crypto.randomUUID():`audit_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date().toISOString(),user:n,action:t,resource:e,resourceId:s,metadata:a,userAgent:navigator.userAgent,ipAddress:"localhost"},l=Ps();l.unshift(o),l.length>1e3&&l.splice(1e3),ks(l)},z={CREATE:"CREATE",READ:"READ",UPDATE:"UPDATE",DELETE:"DELETE",EXPORT:"EXPORT",PRINT:"PRINT"},G={PERSONAL_FILE_ITEM:"PERSONAL_FILE_ITEM",AGENDA_ITEM:"AGENDA_ITEM",TEAM_MEMBER:"TEAM_MEMBER"};function i(t){try{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch(e){return console.error(`Error reading data from localStorage key "${t}":`,e),[]}}function h(t,e){try{if(!Os.array(e))throw new Error("Invalid data format - must be an array");localStorage.setItem(t,JSON.stringify(e))}catch(s){throw console.error(`Error saving data to localStorage key "${t}":`,s),s}}function O(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"_"+Date.now().toString(36)+Math.random().toString(36).substr(2,9)}function Ls(){try{return H.getStoredToken()?.username||null}catch(t){return console.warn("Unable to get current user:",t),null}}function K(t,e,s=null){const a=Ls();if(!a)throw new Error("Access denied: User not authenticated");if(s&&s.createdBy&&s.createdBy!==a)throw new Error("Access denied: You can only access your own personal file items");return a}const A={entities:{Task:{async list(){return i("tasks")},async create(t){const e=i("tasks"),s={...t,id:O(),created_date:new Date().toISOString(),updated_date:new Date().toISOString(),due_date:t.due_date||null,assignee:t.assignee||null,estimated_hours:t.estimated_hours||null,actual_hours:t.actual_hours||null,completion_date:null};return e.unshift(s),h("tasks",e),s},async update(t,e){const s=i("tasks"),a=s.findIndex(n=>n.id===t);if(a!==-1){const n=s[a],o={...n,...e,updated_date:new Date().toISOString()};return e.status==="done"&&n.status!=="done"?o.completion_date=new Date().toISOString():e.status&&e.status!=="done"&&n.status==="done"&&(o.completion_date=null),s[a]=o,h("tasks",s),s[a]}throw new Error("Task not found")},async delete(t){let e=i("tasks");return e=e.filter(s=>s.id!==t),h("tasks",e),!0}},Project:{async list(){return i("projects")},async create(t){const e=i("projects"),s={...t,id:O(),created_date:new Date().toISOString(),deadline:t.deadline||null,budget:t.budget||null,cost:t.cost||null,priority_level:t.priority_level||"medium",progress_percentage:t.progress_percentage||0};return e.unshift(s),h("projects",e),s},async update(t,e){const s=i("projects"),a=s.findIndex(n=>n.id===t);if(a!==-1)return s[a]={...s[a],...e},h("projects",s),s[a];throw new Error("Project not found")},async delete(t){let e=i("projects");return e=e.filter(s=>s.id!==t),h("projects",e),!0}},Stakeholder:{async list(){return i("stakeholders")},async create(t){const e=i("stakeholders"),s={...t,id:O(),created_date:new Date().toISOString(),phone:t.phone||null,contact_info:t.contact_info||null,company:t.company||t.organization||null};return delete s.organization,e.unshift(s),h("stakeholders",e),s},async update(t,e){const s=i("stakeholders"),a=s.findIndex(n=>n.id===t);if(a!==-1){const n={...s[a],...e};return e.organization&&!e.company&&(n.company=e.organization,delete n.organization),s[a]=n,h("stakeholders",s),s[a]}throw new Error("Stakeholder not found")},async delete(t){let e=i("stakeholders");return e=e.filter(s=>s.id!==t),h("stakeholders",e),!0}},TeamMember:{async list(){return i("team_members")},async get(t){return i("team_members").find(s=>s.id===t)||null},async create(t){const e=i("team_members"),s={...t,id:O(),created_date:new Date().toISOString(),phone:t.phone||null,company:t.company||null,birthday:t.birthday||null,duties:t.duties||[],last_activity:null};return e.unshift(s),h("team_members",e),s},async update(t,e){const s=i("team_members"),a=s.findIndex(n=>n.id===t);if(a!==-1)return s[a]={...s[a],...e},h("team_members",s),s[a];throw new Error("Team member not found")},async delete(t){let e=i("team_members");return e=e.filter(s=>s.id!==t),h("team_members",e),!0},async getDuties(t){return i("duties").filter(s=>s.team_member_id===t)},async getCurrentDuties(t){const e=i("duties"),s=new Date;return e.filter(a=>{if(a.team_member_id!==t)return!1;const n=new Date(a.start_date),o=new Date(a.end_date);return s>=n&&s<=o})}},OneOnOne:{async list(){return i("one_on_ones")},async create(t){const e=i("one_on_ones"),s={...t,id:O(),created_date:new Date().toISOString(),updated_date:new Date().toISOString(),team_member_id:t.team_member_id||t.participant_id||null,status:t.status||"scheduled",location:t.location||null,next_meeting_calendar_event_id:t.next_meeting_calendar_event_id||null};if(delete s.participant_id,e.unshift(s),h("one_on_ones",e),s.next_meeting_date&&s.team_member_id)try{const{CalendarService:a}=await T(async()=>{const{CalendarService:o}=await import("./calendarService-BLiLHtBa.js");return{CalendarService:o}},__vite__mapDeps([0,1,2,3])),n=await a.createAndLinkOneOnOneMeeting(s.id,s.team_member_id,s.next_meeting_date);s.next_meeting_calendar_event_id=n.calendarEvent.id,e[0]=s,h("one_on_ones",e)}catch(a){console.warn("Failed to create calendar event for OneOnone:",a)}try{const{CalendarSynchronizationService:a}=await T(async()=>{const{CalendarSynchronizationService:n}=await import("./calendarSynchronizationService-A8-_sGLl.js");return{CalendarSynchronizationService:n}},__vite__mapDeps([4,0,1,2,3,5]));a.ensureOneOnOneVisibility({teamMemberId:s.team_member_id,createMissing:!0}).catch(n=>{console.warn("Background calendar sync failed after OneOnOne creation:",n)})}catch(a){console.warn("Failed to import CalendarSynchronizationService:",a)}return s},async update(t,e){const s=i("one_on_ones"),a=s.findIndex(n=>n.id===t);if(a!==-1){const n=s[a],o={...n,...e,updated_date:new Date().toISOString()};if(e.participant_id&&!e.team_member_id&&(o.team_member_id=e.participant_id,delete o.participant_id),e.next_meeting_date&&e.next_meeting_date!==n.next_meeting_date)try{const{CalendarService:l}=await T(async()=>{const{CalendarService:d}=await import("./calendarService-BLiLHtBa.js");return{CalendarService:d}},__vite__mapDeps([0,1,2,3]));if(n.next_meeting_calendar_event_id)await l.updateOneOnOneMeeting(n.next_meeting_calendar_event_id,e.next_meeting_date);else if(o.team_member_id){const d=await l.createAndLinkOneOnOneMeeting(t,o.team_member_id,e.next_meeting_date);o.next_meeting_calendar_event_id=d.calendarEvent.id}}catch(l){console.warn("Failed to update calendar event for OneOnOne:",l)}try{const{CalendarSynchronizationService:l}=await T(async()=>{const{CalendarSynchronizationService:d}=await import("./calendarSynchronizationService-A8-_sGLl.js");return{CalendarSynchronizationService:d}},__vite__mapDeps([4,0,1,2,3,5]));l.ensureOneOnOneVisibility({teamMemberId:o.team_member_id,createMissing:!0}).catch(d=>{console.warn("Background calendar sync failed after OneOnOne update:",d)})}catch(l){console.warn("Failed to import CalendarSynchronizationService:",l)}if((e.next_meeting_date===null||e.next_meeting_date==="")&&n.next_meeting_calendar_event_id)try{const{CalendarService:l}=await T(async()=>{const{CalendarService:d}=await import("./calendarService-BLiLHtBa.js");return{CalendarService:d}},__vite__mapDeps([0,1,2,3]));await l.deleteOneOnOneMeeting(n.next_meeting_calendar_event_id),o.next_meeting_calendar_event_id=null}catch(l){console.warn("Failed to delete calendar event for OneOnOne:",l)}return s[a]=o,h("one_on_ones",s),s[a]}throw new Error("OneOnOne not found")},async delete(t){const e=i("one_on_ones"),s=e.find(n=>n.id===t);if(s&&s.next_meeting_calendar_event_id)try{const{CalendarService:n}=await T(async()=>{const{CalendarService:o}=await import("./calendarService-BLiLHtBa.js");return{CalendarService:o}},__vite__mapDeps([0,1,2,3]));await n.deleteOneOnOneMeeting(s.next_meeting_calendar_event_id)}catch(n){console.warn("Failed to delete associated calendar event:",n)}const a=e.filter(n=>n.id!==t);return h("one_on_ones",a),!0}},TaskAttribute:{async list(){return i("task_attributes")},async create(t){const e=i("task_attributes"),s={...t,id:O(),created_date:new Date().toISOString(),updated_date:new Date().toISOString()};return e.unshift(s),h("task_attributes",e),s},async update(t,e){const s=i("task_attributes"),a=s.findIndex(n=>n.id===t);if(a!==-1)return s[a]={...s[a],...e,updated_date:new Date().toISOString()},h("task_attributes",s),s[a];throw new Error("TaskAttribute not found")},async delete(t){let e=i("task_attributes");return e=e.filter(s=>s.id!==t),h("task_attributes",e),!0}},Meeting:{async list(){return i("meetings")},async get(t){return i("meetings").find(s=>s.id===t)||null},async create(t){const e=i("meetings"),s={...t,id:O(),created_date:new Date().toISOString(),updated_date:new Date().toISOString(),status:t.status||"scheduled",participants:t.participants||[],agenda_items:t.agenda_items||[],action_items:t.action_items||[]};return e.unshift(s),h("meetings",e),s},async update(t,e){const s=i("meetings"),a=s.findIndex(n=>n.id===t);if(a!==-1)return s[a]={...s[a],...e,updated_date:new Date().toISOString()},h("meetings",s),s[a];throw new Error("Meeting not found")},async delete(t){let e=i("meetings");return e=e.filter(s=>s.id!==t),h("meetings",e),!0}},CalendarEvent:{async list(){return i("calendar_events")},async get(t){return i("calendar_events").find(s=>s.id===t)||null},async create(t){const e=i("calendar_events"),s=["meeting","one_on_one","duty","birthday","out_of_office"];if(t.event_type&&!s.includes(t.event_type))throw new Error(`Invalid event_type. Must be one of: ${s.join(", ")}`);t.event_type==="duty"&&!t.duty_id&&console.warn("Duty event created without duty_id - this may cause display issues"),t.event_type==="out_of_office"&&!t.out_of_office_id&&console.warn("Out of office event created without out_of_office_id - this may cause display issues");const a={...t,id:O(),created_date:new Date().toISOString(),all_day:t.all_day||!1,recurrence_rule:t.recurrence_rule||null,event_type:t.event_type||"meeting",duty_id:t.duty_id||null,out_of_office_id:t.out_of_office_id||null,recurrence:t.recurrence||null};return a.event_type==="birthday"&&!a.recurrence&&(a.recurrence={type:"yearly",interval:1}),e.unshift(a),h("calendar_events",e),a},async update(t,e){const s=i("calendar_events"),a=s.findIndex(n=>n.id===t);if(a!==-1)return s[a]={...s[a],...e},h("calendar_events",s),s[a];throw new Error("Calendar event not found")},async delete(t){let e=i("calendar_events");return e=e.filter(s=>s.id!==t),h("calendar_events",e),!0},async createDutyEvent(t,e,s,a,n,o=null){return await this.create({title:s,description:o||`Duty assignment: ${s}`,start_date:a,end_date:n,all_day:!0,event_type:"duty",duty_id:t,team_member_id:e,linked_entity_type:"duty",linked_entity_id:t})},async createBirthdayEvent(t,e,s){return await this.create({title:`ðŸŽ‚ ${e}'s Birthday`,description:`Birthday celebration for ${e}`,start_date:s,end_date:s,all_day:!0,event_type:"birthday",team_member_id:t,linked_entity_type:"team_member",linked_entity_id:t,recurrence:{type:"yearly",interval:1}})},async createOutOfOfficeEvent(t,e,s,a,n,o="vacation"){return await this.create({title:`${s} - Out of Office (${o})`,description:`${s} is out of office`,start_date:a,end_date:n,all_day:!0,event_type:"out_of_office",out_of_office_id:t,team_member_id:e,linked_entity_type:"out_of_office",linked_entity_id:t})},async getByType(t){return(await this.list()).filter(s=>s.event_type===t)},async getByDutyId(t){return(await this.list()).filter(s=>s.duty_id===t)},async getByOutOfOfficeId(t){return(await this.list()).filter(s=>s.out_of_office_id===t)},async getBirthdayEvents(){return await this.getByType("birthday")},async getDutyEvents(){return await this.getByType("duty")},async getOutOfOfficeEvents(){return await this.getByType("out_of_office")},async getMeetingEvents(){return(await this.list()).filter(e=>e.event_type==="meeting"||e.event_type==="one_on_one")}},Notification:{async list(){return i("notifications")},async get(t){return i("notifications").find(s=>s.id===t)||null},async create(t){const e=i("notifications"),s={...t,id:O(),created_date:new Date().toISOString(),read:t.read||!1,scheduled_date:t.scheduled_date||null};return e.unshift(s),h("notifications",e),s},async update(t,e){const s=i("notifications"),a=s.findIndex(n=>n.id===t);if(a!==-1)return s[a]={...s[a],...e},h("notifications",s),s[a];throw new Error("Notification not found")},async delete(t){let e=i("notifications");return e=e.filter(s=>s.id!==t),h("notifications",e),!0}},Reminder:{async list(){return i("reminders")},async get(t){return i("reminders").find(s=>s.id===t)||null},async create(t){const e=i("reminders"),s={...t,id:O(),created_date:new Date().toISOString(),completed:t.completed||!1};return e.unshift(s),h("reminders",e),s},async update(t,e){const s=i("reminders"),a=s.findIndex(n=>n.id===t);if(a!==-1)return s[a]={...s[a],...e},h("reminders",s),s[a];throw new Error("Reminder not found")},async delete(t){let e=i("reminders");return e=e.filter(s=>s.id!==t),h("reminders",e),!0}},Comment:{async list(){return i("comments")},async get(t){return i("comments").find(s=>s.id===t)||null},async create(t){const e=i("comments"),s={...t,id:O(),created_date:new Date().toISOString(),updated_date:new Date().toISOString(),author_name:t.author_name||"Local User"};return e.unshift(s),h("comments",e),s},async update(t,e){const s=i("comments"),a=s.findIndex(n=>n.id===t);if(a!==-1)return s[a]={...s[a],...e,updated_date:new Date().toISOString()},h("comments",s),s[a];throw new Error("Comment not found")},async delete(t){let e=i("comments");return e=e.filter(s=>s.id!==t),h("comments",e),!0}},OutOfOffice:{async list(){return i("out_of_office")},async get(t){return i("out_of_office").find(s=>s.id===t)||null},async create(t){const e=i("out_of_office"),s={...t,id:O(),created_date:new Date().toISOString(),updated_date:new Date().toISOString(),notes:t.notes||null,team_member_id:t.team_member_id||null,peer_id:t.peer_id||null};return e.unshift(s),h("out_of_office",e),s},async update(t,e){const s=i("out_of_office"),a=s.findIndex(n=>n.id===t);if(a!==-1)return s[a]={...s[a],...e,updated_date:new Date().toISOString()},h("out_of_office",s),s[a];throw new Error("OutOfOffice not found")},async delete(t){let e=i("out_of_office");return e=e.filter(s=>s.id!==t),h("out_of_office",e),!0},async getByTeamMember(t){return i("out_of_office").filter(s=>s.team_member_id===t)},async getByPeer(t){return i("out_of_office").filter(s=>s.peer_id===t)},async getActiveForDate(t){const e=i("out_of_office"),s=new Date(t);return e.filter(a=>{const n=new Date(a.start_date),o=new Date(a.end_date);return s>=n&&s<=o})},async getCountForYear(t,e){const a=i("out_of_office").filter(d=>d.team_member_id===t);let n=0;const o=new Date(e,0,1),l=new Date(e,11,31);return a.forEach(d=>{const p=new Date(d.start_date),u=new Date(d.end_date),g=new Date(Math.max(p.getTime(),o.getTime())),f=new Date(Math.min(u.getTime(),l.getTime()));if(g<=f){const x=f.getTime()-g.getTime(),w=Math.floor(x/(1e3*3600*24))+1;n+=w}}),n},async getCountForYearByPeer(t,e){const a=i("out_of_office").filter(d=>d.peer_id===t);let n=0;const o=new Date(e,0,1),l=new Date(e,11,31);return a.forEach(d=>{const p=new Date(d.start_date),u=new Date(d.end_date),g=new Date(Math.max(p.getTime(),o.getTime())),f=new Date(Math.min(u.getTime(),l.getTime()));if(g<=f){const x=f.getTime()-g.getTime(),w=Math.floor(x/(1e3*3600*24))+1;n+=w}}),n}},Peer:{async list(){return i("peers")},async get(t){return i("peers").find(s=>s.id===t)||null},async create(t){const e=i("peers"),s={...t,id:O(),created_date:new Date().toISOString(),last_activity:null,organization:t.organization||"",collaboration_context:t.collaboration_context||"",relationship_type:t.relationship_type||"other",name:t.name,role:t.role||"",email:t.email||"",phone:t.phone||"",department:t.department||"",availability:t.availability||"",skills:Array.isArray(t.skills)?t.skills:[],notes:t.notes||"",avatar:t.avatar||""};return e.unshift(s),h("peers",e),s},async update(t,e){const s=i("peers"),a=s.findIndex(n=>n.id===t);if(a!==-1)return s[a]={...s[a],...e},h("peers",s),s[a];throw new Error("Peer not found")},async delete(t){let e=i("peers");return e=e.filter(s=>s.id!==t),h("peers",e),!0}},Duty:{async list(){return i("duties")},async get(t){return i("duties").find(s=>s.id===t)||null},async create(t){const e=i("duties");if(!t.team_member_id)throw new Error("team_member_id is required");if(!t.type)throw new Error("duty type is required");if(!t.title)throw new Error("duty title is required");if(!t.start_date)throw new Error("start_date is required");if(!t.end_date)throw new Error("end_date is required");const s=["devops","on_call","other"];if(!s.includes(t.type))throw new Error(`Invalid duty type. Must be one of: ${s.join(", ")}`);const a=new Date(t.start_date),n=new Date(t.end_date);if(a>=n)throw new Error("start_date must be before end_date");e.filter(p=>p.team_member_id===t.team_member_id).some(p=>{const u=new Date(p.start_date),g=new Date(p.end_date);return a<=g&&n>=u})&&console.warn("Duty assignment conflicts with existing duty for this team member");const d={...t,id:O(),created_date:new Date().toISOString(),updated_date:new Date().toISOString(),team_member_id:t.team_member_id,type:t.type,title:t.title,description:t.description||null,start_date:t.start_date,end_date:t.end_date};return e.unshift(d),h("duties",e),d},async update(t,e){const s=i("duties"),a=s.findIndex(p=>p.id===t);if(a===-1)throw new Error("Duty not found");const n=s[a];if(e.type){const p=["devops","on_call","other"];if(!p.includes(e.type))throw new Error(`Invalid duty type. Must be one of: ${p.join(", ")}`)}const o=new Date(e.start_date||n.start_date),l=new Date(e.end_date||n.end_date);if(o>=l)throw new Error("start_date must be before end_date");if(e.start_date||e.end_date||e.team_member_id){const p=e.team_member_id||n.team_member_id;s.filter(f=>f.team_member_id===p&&f.id!==t).some(f=>{const x=new Date(f.start_date),w=new Date(f.end_date);return o<=w&&l>=x})&&console.warn("Updated duty assignment conflicts with existing duty for this team member")}const d={...n,...e,updated_date:new Date().toISOString()};return s[a]=d,h("duties",s),d},async delete(t){let e=i("duties");if(!e.some(a=>a.id===t))throw new Error("Duty not found");return e=e.filter(a=>a.id!==t),h("duties",e),!0},async getByTeamMember(t){return i("duties").filter(s=>s.team_member_id===t)},async getActiveForDate(t){const e=i("duties"),s=new Date(t);return e.filter(a=>{const n=new Date(a.start_date),o=new Date(a.end_date);return s>=n&&s<=o})},async getConflicts(t,e,s,a=null){const n=i("duties"),o=new Date(e),l=new Date(s);return n.filter(d=>{if(a&&d.id===a||d.team_member_id!==t)return!1;const p=new Date(d.start_date),u=new Date(d.end_date);return o<=u&&l>=p})}},AgendaItem:{async list(){return i("agenda_items")},async get(t){return i("agenda_items").find(s=>s.id===t)||null},async create(t){const e=i("agenda_items"),s={...t,id:O(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),status:t.status||"pending",priority:t.priority||2,tags:t.tags||[]};return e.unshift(s),h("agenda_items",e),s},async update(t,e){const s=i("agenda_items"),a=s.findIndex(n=>n.id===t);if(a!==-1)return s[a]={...s[a],...e,updatedAt:new Date().toISOString()},h("agenda_items",s),s[a];throw new Error("AgendaItem not found")},async delete(t){let e=i("agenda_items");return e=e.filter(s=>s.id!==t),h("agenda_items",e),!0},async getByTeamMember(t){return i("agenda_items").filter(s=>s.teamMemberId===t)},async getByStatus(t){return i("agenda_items").filter(s=>s.status===t)},async getForNextMeeting(t){return i("agenda_items").filter(s=>s.teamMemberId===t&&s.status==="pending")}},PersonalFileItem:{async list(){const t=K(),s=i("personal_file_items").filter(a=>a.createdBy===t);return $(z.READ,G.PERSONAL_FILE_ITEM,"all",{operation:"list",itemCount:s.length}),s},async get(t){const e=K(),a=i("personal_file_items").find(n=>n.id===t);if(!a)return null;if(a.createdBy!==e)throw new Error("Access denied: You can only access your own personal file items");return $(z.READ,G.PERSONAL_FILE_ITEM,t,{operation:"get",teamMemberId:a.teamMemberId}),a},async create(t){const e=K(),s=i("personal_file_items"),a={...t,id:O(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:e,category:t.category||"general",tags:t.tags||[],importance:t.importance||3};return s.unshift(a),h("personal_file_items",s),$(z.CREATE,G.PERSONAL_FILE_ITEM,a.id,{operation:"create",teamMemberId:a.teamMemberId,category:a.category,importance:a.importance}),a},async update(t,e){const s=K(),a=i("personal_file_items"),n=a.findIndex(d=>d.id===t);if(n===-1)throw new Error("PersonalFileItem not found");const o=a[n];if(o.createdBy!==s)throw new Error("Access denied: You can only update your own personal file items");const l={...o,...e,updatedAt:new Date().toISOString(),createdBy:o.createdBy};return a[n]=l,h("personal_file_items",a),$(z.UPDATE,G.PERSONAL_FILE_ITEM,t,{operation:"update",teamMemberId:l.teamMemberId,changes:Object.keys(e)}),l},async delete(t){const e=K();let s=i("personal_file_items");const a=s.find(n=>n.id===t);if(!a)throw new Error("PersonalFileItem not found");if(a.createdBy!==e)throw new Error("Access denied: You can only delete your own personal file items");return s=s.filter(n=>n.id!==t),h("personal_file_items",s),$(z.DELETE,G.PERSONAL_FILE_ITEM,t,{operation:"delete",teamMemberId:a.teamMemberId,category:a.category}),!0},async getByTeamMember(t){const e=K(),a=i("personal_file_items").filter(n=>n.teamMemberId===t&&n.createdBy===e);return $(z.READ,G.PERSONAL_FILE_ITEM,"team_member",{operation:"getByTeamMember",teamMemberId:t,itemCount:a.length}),a},async getByCategory(t){const e=K(),a=i("personal_file_items").filter(n=>n.category===t&&n.createdBy===e);return $(z.READ,G.PERSONAL_FILE_ITEM,"category",{operation:"getByCategory",category:t,itemCount:a.length}),a},async searchByTags(t){if(!Array.isArray(t)||t.length===0)return[];const e=K(),a=i("personal_file_items").filter(n=>n.createdBy===e&&n.tags&&n.tags.some(o=>t.includes(o)));return $(z.READ,G.PERSONAL_FILE_ITEM,"tags",{operation:"searchByTags",tags:t,itemCount:a.length}),a}}}},Ms=A.entities.Task,Fs=A.entities.Project,Us=A.entities.Stakeholder,Bs=A.entities.TeamMember,Vs=A.entities.TaskAttribute,$s=A.entities.OneOnOne,zs=A.entities.Meeting,Gs=A.entities.CalendarEvent,Ks=A.entities.Notification,Hs=A.entities.Reminder,Ys=A.entities.Comment,qs=A.entities.OutOfOffice,Ws=A.entities.Peer,Xs=A.entities.Duty,Js=A.entities.AgendaItem,Qs=A.entities.PersonalFileItem,it={me:async()=>{const e=(await T(async()=>{const{default:a}=await Promise.resolve().then(()=>He);return{default:a}},void 0)).default.getStoredToken();if(!e)throw new Error("No authenticated user found");return{id:"local-user",name:e.username==="admin"?"Administrator":e.username.charAt(0).toUpperCase()+e.username.slice(1),username:e.username,isAuthenticated:!0,loginTime:new Date(e.timestamp).toISOString()}},logout:async()=>((await T(async()=>{const{default:e}=await Promise.resolve().then(()=>He);return{default:e}},void 0)).default.clearAuthData(),!0)},aa=Object.freeze(Object.defineProperty({__proto__:null,AgendaItem:Js,CalendarEvent:Gs,Comment:Ys,Duty:Xs,Meeting:zs,Notification:Ks,OneOnOne:$s,OutOfOffice:qs,Peer:Ws,PersonalFileItem:Qs,Project:Fs,Reminder:Hs,Stakeholder:Us,Task:Ms,TaskAttribute:Vs,TeamMember:Bs,User:it},Symbol.toStringTag,{value:"Module"})),Oe=c.forwardRef(({className:t,...e},s)=>r.jsx(Xe,{ref:s,className:b("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Oe.displayName=Xe.displayName;const Zs=c.forwardRef(({className:t,...e},s)=>r.jsx(Qe,{ref:s,className:b("aspect-square h-full w-full",t),...e}));Zs.displayName=Qe.displayName;const Ae=c.forwardRef(({className:t,...e},s)=>r.jsx(Je,{ref:s,className:b("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Ae.displayName=Je.displayName;const ct=c.createContext(null),Le=()=>{const t=c.useContext(ct);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},er=({children:t})=>{const[e,s]=c.useState(!1),[a,n]=c.useState(!0),[o,l]=c.useState(null);c.useEffect(()=>{(async()=>{try{l(null);const x=H.isAuthenticated();s(x)}catch(x){console.error("Failed to initialize authentication state:",x);let w="Failed to initialize authentication. Please refresh the page.";switch(x.type){case"STORAGE_UNAVAILABLE":w="Browser storage is not available. Please enable cookies and local storage in your browser settings.";break;case"STORAGE_SECURITY_ERROR":w="Browser storage access is restricted. Please check your privacy settings.";break;default:x.message?.includes("localStorage")&&(w="Browser storage is not available. Please enable cookies and local storage.")}l(w),s(!1)}finally{n(!1)}})()},[]);const g={isAuthenticated:e,login:async(f,x)=>{try{if(l(null),!f||!x)return{success:!1,error:"Please fill in all fields"};if(!H.validateCredentials(f,x))return{success:!1,error:"Invalid username or password"};const S=H.generateToken(f);return H.storeToken(S),s(!0),{success:!0}}catch(w){console.error("Login failed:",w);let S="Authentication failed. Please try again.";switch(w.type){case"STORAGE_UNAVAILABLE":S="Browser storage is disabled. Please enable cookies and local storage in your browser settings.";break;case"STORAGE_QUOTA_EXCEEDED":S="Browser storage is full. Please clear some browser data and try again.";break;case"STORAGE_SECURITY_ERROR":S="Browser storage access is restricted. Please check your privacy settings and try again.";break;case"STORAGE_UNKNOWN_ERROR":S="Unable to save login session. Please try again or contact support.";break;default:w.message?.includes("localStorage")?S="Unable to save login session. Please check your browser settings.":w.message?.includes("Unable to store")&&(S="Unable to save login session. Your browser storage may be full.")}return{success:!1,error:S}}},logout:()=>{try{l(null);const f=H.clearAuthData();s(!1),f||console.warn("Unable to clear browser storage during logout - session data may persist")}catch(f){console.error("Logout failed:",f),s(!1),f.type==="STORAGE_UNAVAILABLE"?console.warn("localStorage unavailable during logout - session cleared from memory only"):console.warn("Unexpected error during logout:",f)}},loading:a,error:o,clearError:()=>{l(null)}};return r.jsx(ct.Provider,{value:g,children:t})};function tr({children:t,currentPageName:e}){const[s,a]=c.useState(!1),[n,o]=c.useState(null),[l,d]=c.useState(!0),{logout:p,isAuthenticated:u}=Le();c.useEffect(()=>{(async()=>{if(!u){o(null),d(!1);return}try{d(!0);const w=await it.me();o(w)}catch(w){console.error("Error fetching user data:",w),o(null)}finally{d(!1)}})()},[u]);const g=()=>{p()},f=[{name:"Tasks",icon:Kt,href:V("Tasks"),current:e==="Tasks"},{name:"Calendar",icon:Ht,href:V("Calendar"),current:e==="Calendar"},{name:"Projects",icon:Yt,href:V("Projects"),current:e==="Projects"},{name:"Metrics",icon:qt,href:V("Metrics"),current:e==="Metrics"},{name:"Team",icon:Wt,href:V("Team"),current:e==="Team"},{name:"Stakeholders",icon:$e,href:V("Stakeholders"),current:e==="Stakeholders"},{name:"Peers",icon:$e,href:V("Peers"),current:e==="Peers"}];return r.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[s&&r.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 lg:hidden",onClick:()=>a(!1)}),r.jsxs("div",{className:b("fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-200 ease-in-out lg:translate-x-0 overflow-y-auto",s?"translate-x-0":"-translate-x-full"),children:[r.jsx("div",{className:"sticky top-0 bg-white z-10 border-b",children:r.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Xt,{className:"h-8 w-8 text-indigo-600"}),r.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"P&E Manager"})]}),r.jsx("button",{onClick:()=>a(!1),className:"lg:hidden text-gray-500 hover:text-gray-700",children:r.jsx(Ze,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"flex flex-col h-[calc(100%-4rem)] justify-between",children:[r.jsx("nav",{className:"flex-1 p-4 overflow-y-auto",children:r.jsx("div",{className:"space-y-1",children:f.map(x=>r.jsxs(ze,{to:x.href,onClick:()=>a(!1),className:b("flex items-center px-4 py-3 text-sm font-medium rounded-md",x.current?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-gray-100"),children:[r.jsx(x.icon,{className:"h-5 w-5 mr-3"}),x.name]},x.name))})}),r.jsxs("div",{className:"p-4 border-t",children:[l?r.jsxs("div",{className:"mb-4 px-4 py-3 flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full animate-pulse"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-1"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-2/3"})]})]}):n?r.jsxs("div",{className:"mb-4 px-4 py-3 flex items-center gap-3",children:[r.jsx(Oe,{className:"h-10 w-10 bg-indigo-100",children:r.jsx(Ae,{className:"text-indigo-700",children:n.name?.split(" ").map(x=>x[0]).join("").toUpperCase()||"U"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:n.name||"User"}),r.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["@",n.username||"user"]})]})]}):u&&r.jsxs("div",{className:"mb-4 px-4 py-3 flex items-center gap-3",children:[r.jsx(Oe,{className:"h-10 w-10 bg-gray-100",children:r.jsx(Ae,{className:"text-gray-500",children:r.jsx(Jt,{className:"h-5 w-5"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"User"}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:"Authenticated"})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs(ze,{to:V("Settings"),onClick:()=>a(!1),className:b("flex items-center px-4 py-3 text-sm font-medium rounded-md",e==="Settings"?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-gray-100"),children:[r.jsx(Qt,{className:"h-5 w-5 mr-3"}),"Settings"]}),r.jsxs("button",{onClick:g,className:"w-full flex items-center px-4 py-3 text-sm font-medium rounded-md text-gray-700 hover:bg-gray-100",children:[r.jsx(Zt,{className:"h-5 w-5 mr-3"}),"Log out"]})]})]})]})]}),r.jsxs("div",{className:"flex-1 flex flex-col min-w-0 lg:ml-64",children:[r.jsx("header",{className:"sticky top-0 bg-white shadow-sm z-10",children:r.jsx("div",{className:"flex justify-between items-center h-16 px-4 sm:px-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("button",{onClick:()=>a(!0),className:"lg:hidden text-gray-500 hover:text-gray-700 mr-4",children:r.jsx(es,{className:"h-6 w-6"})}),r.jsxs("div",{className:"text-md font-medium text-gray-800",children:["P&E Manager ",e&&r.jsxs("span",{className:"text-gray-500",children:[" > ",e]})]})]})})}),r.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:t})]})]})}const q=c.forwardRef(({className:t,...e},s)=>r.jsx("div",{ref:s,className:b("rounded-xl border bg-card text-card-foreground shadow",t),...e}));q.displayName="Card";const Q=c.forwardRef(({className:t,...e},s)=>r.jsx("div",{ref:s,className:b("flex flex-col space-y-1.5 p-6",t),...e}));Q.displayName="CardHeader";const _e=c.forwardRef(({className:t,...e},s)=>r.jsx("div",{ref:s,className:b("font-semibold leading-none tracking-tight",t),...e}));_e.displayName="CardTitle";const we=c.forwardRef(({className:t,...e},s)=>r.jsx("div",{ref:s,className:b("text-sm text-muted-foreground",t),...e}));we.displayName="CardDescription";const W=c.forwardRef(({className:t,...e},s)=>r.jsx("div",{ref:s,className:b("p-6 pt-0",t),...e}));W.displayName="CardContent";const sr=c.forwardRef(({className:t,...e},s)=>r.jsx("div",{ref:s,className:b("flex items-center p-6 pt-0",t),...e}));sr.displayName="CardFooter";const rr=ye("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),k=c.forwardRef(({className:t,variant:e,size:s,asChild:a=!1,...n},o)=>{const l=a?ts:"button";return r.jsx(l,{className:b(rr({variant:e,size:s,className:t})),ref:o,...n})});k.displayName="Button";const De=c.forwardRef(({className:t,type:e,...s},a)=>r.jsx("input",{type:e,className:b("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...s}));De.displayName="Input";const ar=ye("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ie=c.forwardRef(({className:t,...e},s)=>r.jsx(et,{ref:s,className:b(ar(),t),...e}));Ie.displayName=et.displayName;const nr=ye("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),pe=c.forwardRef(({className:t,variant:e,...s},a)=>r.jsx("div",{ref:a,role:"alert",className:b(nr({variant:e}),t),...s}));pe.displayName="Alert";const or=c.forwardRef(({className:t,...e},s)=>r.jsx("h5",{ref:s,className:b("mb-1 font-medium leading-none tracking-tight",t),...e}));or.displayName="AlertTitle";const xe=c.forwardRef(({className:t,...e},s)=>r.jsx("div",{ref:s,className:b("text-sm [&_p]:leading-relaxed",t),...e}));xe.displayName="AlertDescription";const ir=()=>{const[t,e]=c.useState({username:"",password:""}),[s,a]=c.useState({}),[n,o]=c.useState(!1),[l,d]=c.useState(""),[p,u]=c.useState(0),{login:g,error:f,clearError:x}=Le(),w=()=>{const y={};return t.username.trim()||(y.username="Username is required"),t.password.trim()||(y.password="Password is required"),a(y),Object.keys(y).length===0},S=y=>{const{name:E,value:v}=y.target;e(j=>({...j,[E]:v})),s[E]&&a(j=>({...j,[E]:""})),l&&d(""),f&&x&&x()},N=async y=>{if(y.preventDefault(),!!w()){o(!0),d("");try{const E=await g(t.username,t.password);if(E.success)u(0);else{u(j=>j+1);let v=E.error||"Login failed. Please try again.";p>=2&&E.error?.includes("Invalid username or password")?v='Invalid username or password. Default credentials are username: "admin", password: "password123"':p>=1&&E.error?.includes("storage")&&(v=`${E.error} Try refreshing the page or using a different browser.`),d(v)}}catch(E){console.error("Login error:",E),u(j=>j+1);let v="Authentication failed. Please try again.";E.type==="STORAGE_UNAVAILABLE"?v="Browser storage is not available. Please enable cookies and local storage.":E.type==="STORAGE_QUOTA_EXCEEDED"?v="Browser storage is full. Please clear some browser data and try again.":p>=2&&(v="Repeated authentication failures. Please refresh the page or contact support."),d(v)}finally{o(!1)}}};return r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:r.jsxs(q,{className:"w-full max-w-md",children:[r.jsxs(Q,{className:"space-y-1",children:[r.jsx(_e,{className:"text-2xl font-bold text-center",children:"Sign In"}),r.jsx(we,{className:"text-center",children:"Enter your credentials to access the application"})]}),r.jsx(W,{children:r.jsxs("form",{onSubmit:N,className:"space-y-4",children:[f&&r.jsx(pe,{variant:"destructive",children:r.jsx(xe,{children:f})}),l&&r.jsx(pe,{variant:"destructive",children:r.jsx(xe,{children:l})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ie,{htmlFor:"username",children:"Username"}),r.jsx(De,{id:"username",name:"username",type:"text",placeholder:"Enter your username",value:t.username,onChange:S,className:s.username?"border-destructive":"",disabled:n}),s.username&&r.jsx("p",{className:"text-sm text-destructive",children:s.username})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ie,{htmlFor:"password",children:"Password"}),r.jsx(De,{id:"password",name:"password",type:"password",placeholder:"Enter your password",value:t.password,onChange:S,className:s.password?"border-destructive":"",disabled:n}),s.password&&r.jsx("p",{className:"text-sm text-destructive",children:s.password})]}),r.jsx(k,{type:"submit",className:"w-full",disabled:n,children:n?"Signing In...":"Sign In"}),p>=1&&r.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-md",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:r.jsx("strong",{children:"Having trouble signing in?"})}),r.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[r.jsxs("li",{children:["â€¢ Default username: ",r.jsx("code",{className:"bg-background px-1 rounded",children:"admin"})]}),r.jsxs("li",{children:["â€¢ Default password: ",r.jsx("code",{className:"bg-background px-1 rounded",children:"password123"})]}),r.jsx("li",{children:"â€¢ Make sure cookies and local storage are enabled"}),r.jsx("li",{children:"â€¢ Try refreshing the page if you see storage errors"})]})]})]})})]})})},cr=({size:t="md",className:e="",text:s="",showText:a=!1,variant:n="primary"})=>{const o={xs:"h-3 w-3",sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},l={primary:"text-indigo-600",secondary:"text-gray-600",white:"text-white",muted:"text-gray-400"},d={xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"};return r.jsxs("div",{className:b("flex items-center justify-center",e),children:[r.jsx(ss,{className:b("animate-spin",o[t],l[n])}),(a||s)&&r.jsx("span",{className:b("ml-2",d[t],l[n]),children:s||"Loading..."})]})},lr=({children:t})=>{const{isAuthenticated:e,loading:s}=Le();return s?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(cr,{})}):e?t:r.jsx(ir,{})};function m({className:t,...e}){return r.jsx("div",{className:b("animate-pulse rounded-md bg-primary/10",t),...e})}function dr(){return r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[r.jsx(m,{className:"h-9 w-48 mb-4 sm:mb-0"}),r.jsx(m,{className:"h-10 w-32"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(m,{className:"h-12 w-full"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((t,e)=>r.jsxs(q,{children:[r.jsxs(Q,{children:[r.jsx(m,{className:"h-6 w-3/4"}),r.jsx(m,{className:"h-4 w-1/2"})]}),r.jsx(W,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsx(m,{className:"h-4 w-full"}),r.jsx(m,{className:"h-4 w-2/3"}),r.jsx(m,{className:"h-4 w-1/3"})]})})]},e))})]})]})})}function ur(){return r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[r.jsx(m,{className:"h-9 w-24 mb-4 sm:mb-0"}),r.jsx(m,{className:"h-10 w-28"})]}),r.jsx("div",{className:"mb-6 p-4 border rounded-lg",children:r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsx(m,{className:"h-10 w-32"}),r.jsx(m,{className:"h-10 w-32"}),r.jsx(m,{className:"h-10 w-32"}),r.jsx(m,{className:"h-10 w-48"})]})}),r.jsx("div",{className:"space-y-4",children:Array.from({length:8}).map((t,e)=>r.jsx(q,{children:r.jsx(W,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(m,{className:"h-4 w-4 rounded"}),r.jsx(m,{className:"h-5 w-3/4"})]}),r.jsx(m,{className:"h-4 w-1/2"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(m,{className:"h-6 w-16 rounded-full"}),r.jsx(m,{className:"h-6 w-20 rounded-full"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(m,{className:"h-8 w-8 rounded"}),r.jsx(m,{className:"h-8 w-8 rounded"})]})]})})},e))})]})})}function mr(){return r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"space-y-4 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(m,{className:"h-7 w-40"}),r.jsx("div",{className:"flex space-x-2",children:Array.from({length:5}).map((t,e)=>r.jsx(m,{className:"h-10 w-10 rounded"},e))})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"flex gap-2 p-1 bg-gray-100 rounded-lg",children:Array.from({length:4}).map((t,e)=>r.jsx(m,{className:"h-8 w-20 rounded"},e))})})]}),r.jsxs("div",{className:"bg-white rounded-lg border",children:[r.jsx("div",{className:"grid grid-cols-7 border-b",children:Array.from({length:7}).map((t,e)=>r.jsx("div",{className:"p-2 text-center",children:r.jsx(m,{className:"h-4 w-16 mx-auto"})},e))}),r.jsx("div",{className:"grid grid-cols-7",children:Array.from({length:35}).map((t,e)=>r.jsxs("div",{className:"min-h-[120px] p-2 border-r border-b",children:[r.jsx(m,{className:"h-4 w-6 mb-2"}),r.jsxs("div",{className:"space-y-1",children:[Math.random()>.5&&r.jsx(m,{className:"h-6 w-full rounded"}),Math.random()>.7&&r.jsx(m,{className:"h-6 w-3/4 rounded"})]})]},e))})]})]})})}function fr(){return r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[r.jsx(m,{className:"h-9 w-48"}),r.jsx(m,{className:"h-10 w-40"})]}),r.jsx("div",{className:"relative mb-6",children:r.jsx(m,{className:"h-10 w-full"})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((t,e)=>r.jsxs(q,{children:[r.jsxs(Q,{className:"pb-3",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx(m,{className:"h-12 w-12 rounded-full"}),r.jsxs("div",{children:[r.jsx(m,{className:"h-6 w-32 mb-1"}),r.jsx(m,{className:"h-4 w-24"})]})]}),r.jsx(m,{className:"h-8 w-8 rounded"})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[r.jsx(m,{className:"h-6 w-20 rounded-full"}),r.jsx(m,{className:"h-6 w-16 rounded-full"})]})]}),r.jsxs(W,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(m,{className:"h-4 w-16 mb-2"}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.jsx(m,{className:"h-5 w-12 rounded-full"}),r.jsx(m,{className:"h-5 w-16 rounded-full"}),r.jsx(m,{className:"h-5 w-14 rounded-full"})]})]}),r.jsx(m,{className:"h-4 w-full"}),r.jsx(m,{className:"h-4 w-3/4"})]})]},e))})]})})}function na({className:t=""}){return r.jsx("div",{className:`flex items-center justify-center p-8 ${t}`,children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Loading component..."})]})})}function oa(){return r.jsxs("div",{className:"space-y-6 p-6 border rounded-lg",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(m,{className:"h-4 w-20"}),r.jsx(m,{className:"h-10 w-full"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(m,{className:"h-4 w-16"}),r.jsx(m,{className:"h-10 w-full"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(m,{className:"h-4 w-24"}),r.jsx(m,{className:"h-10 w-full"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(m,{className:"h-4 w-28"}),r.jsx(m,{className:"h-20 w-full"})]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(m,{className:"h-10 w-20"}),r.jsx(m,{className:"h-10 w-16"})]})]})}const P=(t,e=3,s=1e3)=>t().catch(a=>{if(e>0)return console.warn(`Failed to load chunk, retrying... (${e} attempts left)`,a),new Promise((n,o)=>{setTimeout(()=>{P(t,e-1,s*1.5).then(n).catch(o)},s)});throw console.error("Failed to load chunk after all retries:",a),a});class hr extends c.Component{constructor(e){super(e),this.state={hasError:!1,error:null,retryCount:0,isRetrying:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){console.error("Page chunk loading error:",e,s),window.reportError&&window.reportError(e,{context:"page_chunk_loading",page:this.props.pageName,errorInfo:s})}handleRetry=async()=>{this.setState({isRetrying:!0});try{await new Promise(e=>setTimeout(e,1500)),this.setState({hasError:!1,error:null,retryCount:this.state.retryCount+1,isRetrying:!1})}catch{this.setState({isRetrying:!1})}};handleGoBack=()=>{window.history.length>1?window.history.back():window.location.href="/"};render(){if(this.state.hasError){const{retryCount:e,isRetrying:s}=this.state,{pageName:a="page"}=this.props;return r.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gray-50",children:r.jsx("div",{className:"max-w-lg w-full bg-white rounded-lg shadow-sm border p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:r.jsx(Te,{className:"h-6 w-6 text-red-600"})}),r.jsxs("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:["Failed to load ",a]}),r.jsx("p",{className:"text-gray-600 mb-6",children:"We're having trouble loading this page. This could be due to a network issue or a temporary problem with the application."}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(k,{onClick:this.handleRetry,disabled:s,className:"w-full",children:s?r.jsxs(r.Fragment,{children:[r.jsx(F,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]}):r.jsxs(r.Fragment,{children:[r.jsx(F,{className:"mr-2 h-4 w-4"}),"Try Again"]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(k,{onClick:this.handleGoBack,variant:"outline",className:"flex-1",children:[r.jsx(rs,{className:"mr-2 h-4 w-4"}),"Go Back"]}),r.jsxs(k,{onClick:()=>window.location.reload(),variant:"outline",className:"flex-1",children:[r.jsx(F,{className:"mr-2 h-4 w-4"}),"Reload"]})]})]}),e>0&&r.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Retry attempts: ",e]})]})})})}return this.props.children}}class ia extends c.Component{constructor(e){super(e),this.state={hasError:!1,error:null,retryCount:0,isRetrying:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){console.error("Component chunk loading error:",e,s),window.reportError&&window.reportError(e,{context:"component_chunk_loading",component:this.props.componentName,errorInfo:s})}handleRetry=async()=>{this.setState({isRetrying:!0});try{await new Promise(e=>setTimeout(e,1e3)),this.setState({hasError:!1,error:null,retryCount:this.state.retryCount+1,isRetrying:!1})}catch{this.setState({isRetrying:!1})}};render(){if(this.state.hasError){const{isRetrying:e}=this.state,{componentName:s="component",inline:a=!1}=this.props;return a?r.jsx("div",{className:"p-4 border border-red-200 bg-red-50 rounded-md",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Te,{className:"h-4 w-4 text-red-600 mr-2"}),r.jsxs("span",{className:"text-sm text-red-800",children:["Failed to load ",s]})]}),r.jsx(k,{onClick:this.handleRetry,disabled:e,size:"sm",variant:"outline",children:e?r.jsx(F,{className:"h-3 w-3 animate-spin"}):r.jsx(F,{className:"h-3 w-3"})})]})}):r.jsx("div",{className:"flex items-center justify-center p-8 border border-red-200 bg-red-50 rounded-lg",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Te,{className:"h-8 w-8 text-red-600 mx-auto mb-3"}),r.jsxs("h3",{className:"text-lg font-medium text-red-900 mb-2",children:["Failed to load ",s]}),r.jsx("p",{className:"text-sm text-red-700 mb-4",children:"There was an error loading this component."}),r.jsx(k,{onClick:this.handleRetry,disabled:e,size:"sm",children:e?r.jsxs(r.Fragment,{children:[r.jsx(F,{className:"mr-2 h-4 w-4 animate-spin"}),"Retrying..."]}):r.jsxs(r.Fragment,{children:[r.jsx(F,{className:"mr-2 h-4 w-4"}),"Try Again"]})})]})})}return this.props.children}}function gr(){return r.jsx(dr,{})}function pr(){return r.jsx(ur,{})}function xr(){return r.jsx(mr,{})}function yr(){return r.jsx(fr,{})}const Re=c.lazy(()=>P(()=>T(()=>import("./Tasks-BSYKFw1G.js"),__vite__mapDeps([6,1,2,7,8,3,9,10,11,12,13,14,15,16])),3,1e3)),lt=c.lazy(()=>P(()=>T(()=>import("./chunk-FXPmmNOU.js").then(t=>t.b),__vite__mapDeps([17,1,2,8,3,18,19,5,12,11,13,14,4,0])),3,1e3)),dt=c.lazy(()=>P(()=>T(()=>import("./Metrics-CnHKdtyk.js"),__vite__mapDeps([20,1,2,8,3,21])),3,1e3)),ut=c.lazy(()=>P(()=>T(()=>import("./Stakeholders-CTSP4UDG.js"),__vite__mapDeps([22,1,2,8,3,14,12,11,13])),3,1e3)),mt=c.lazy(()=>P(()=>T(()=>import("./Projects-B40Ne4Vf.js"),__vite__mapDeps([23,1,2,24,8,3,25,9,11,14,26,27,15,21])),3,1e3)),ft=c.lazy(()=>P(()=>T(()=>import("./Settings-DO0bOo4S.js"),__vite__mapDeps([28,1,2,29,16,8,3,9])),3,1e3)),ht=c.lazy(()=>P(()=>T(()=>import("./Team-CDRF78_7.js"),__vite__mapDeps([30,1,2,31,32,11,8,3,14,9,27,15,19,5])),3,1e3)),gt=c.lazy(()=>P(()=>T(()=>import("./ProjectDetails-nmbXL_yi.js"),__vite__mapDeps([33,1,2,24,8,3,29,25,14,7,9,10,11,12,13,15])),3,1e3)),pt=c.lazy(()=>P(()=>T(()=>import("./TeamMemberProfile-yctdmpTj.js"),__vite__mapDeps([34,1,2,31,0,3,19,5,35,14,18,8,13,12,11,29,9,26,16])),3,1e3)),xt=c.lazy(()=>P(()=>T(()=>import("./Peers-BnE_j2M1.js"),__vite__mapDeps([36,1,2,31,32,11,8,3,14,9,27,15,12,13])),3,1e3)),yt=c.lazy(()=>P(()=>T(()=>import("./PeerProfile-Cys9Wjf6.js"),__vite__mapDeps([37,1,2,31,0,3,35,14,18,8,26,16])),3,1e3)),Ye={Tasks:Re,Calendar:lt,Metrics:dt,Stakeholders:ut,Projects:mt,Settings:ft,Team:ht,ProjectDetails:gt,TeamMemberProfile:pt,Peers:xt,PeerProfile:yt};function _r(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(Ye).find(a=>a.toLowerCase()===e.toLowerCase())||Object.keys(Ye)[0]}function wr(t){const e=t.toLowerCase();return e.includes("tasks")||e==="/"?r.jsx(pr,{}):e.includes("calendar")?r.jsx(xr,{}):e.includes("team")?r.jsx(yr,{}):r.jsx(gr,{})}function vr(){const t=ys(),e=_r(t.pathname),s=wr(t.pathname);return r.jsx(tr,{currentPageName:e,children:r.jsx(hr,{pageName:e,children:r.jsx(c.Suspense,{fallback:s,children:r.jsxs(_s,{children:[r.jsx(C,{path:"/",element:r.jsx(Re,{})}),r.jsx(C,{path:"/Tasks",element:r.jsx(Re,{})}),r.jsx(C,{path:"/Calendar",element:r.jsx(lt,{})}),r.jsx(C,{path:"/Metrics",element:r.jsx(dt,{})}),r.jsx(C,{path:"/Stakeholders",element:r.jsx(ut,{})}),r.jsx(C,{path:"/Projects",element:r.jsx(mt,{})}),r.jsx(C,{path:"/Settings",element:r.jsx(ft,{})}),r.jsx(C,{path:"/Team",element:r.jsx(ht,{})}),r.jsx(C,{path:"/ProjectDetails",element:r.jsx(gt,{})}),r.jsx(C,{path:"/TeamMemberProfile",element:r.jsx(pt,{})}),r.jsx(C,{path:"/Peers",element:r.jsx(xt,{})}),r.jsx(C,{path:"/PeerProfile",element:r.jsx(yt,{})})]})})})})}function br(){return r.jsx(xs,{children:r.jsx(lr,{children:r.jsx(vr,{})})})}const Er=20,jr=1e6,U={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let je=0;function Nr(){return je=(je+1)%Number.MAX_VALUE,je.toString()}const Ne=new Map,qe=t=>{if(Ne.has(t))return;const e=setTimeout(()=>{Ne.delete(t),ae({type:U.REMOVE_TOAST,toastId:t})},jr);Ne.set(t,e)},Sr=(t,e)=>{switch(e.type){case U.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,Er)};case U.UPDATE_TOAST:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case U.DISMISS_TOAST:{const{toastId:s}=e;return s?qe(s):t.toasts.forEach(a=>{qe(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===s||s===void 0?{...a,open:!1}:a)}}case U.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)}}},fe=[];let he={toasts:[]};function ae(t){he=Sr(he,t),fe.forEach(e=>{e(he)})}function Tr({...t}){const e=Nr(),s=n=>ae({type:U.UPDATE_TOAST,toast:{...n,id:e}}),a=()=>ae({type:U.DISMISS_TOAST,toastId:e});return ae({type:U.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:n=>{n||a()}}}),{id:e,dismiss:a,update:s}}function Or(){const[t,e]=c.useState(he);return c.useEffect(()=>(fe.push(e),()=>{const s=fe.indexOf(e);s>-1&&fe.splice(s,1)}),[t]),{...t,toast:Tr,dismiss:s=>ae({type:U.DISMISS_TOAST,toastId:s})}}var Me="ToastProvider",[Fe,Ar,Dr]=as("Toast"),[_t,ca]=ns("Toast",[Dr]),[Ir,ve]=_t(Me),wt=t=>{const{__scopeToast:e,label:s="Notification",duration:a=5e3,swipeDirection:n="right",swipeThreshold:o=50,children:l}=t,[d,p]=c.useState(null),[u,g]=c.useState(0),f=c.useRef(!1),x=c.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${Me}\`. Expected non-empty \`string\`.`),r.jsx(Fe.Provider,{scope:e,children:r.jsx(Ir,{scope:e,label:s,duration:a,swipeDirection:n,swipeThreshold:o,toastCount:u,viewport:d,onViewportChange:p,onToastAdd:c.useCallback(()=>g(w=>w+1),[]),onToastRemove:c.useCallback(()=>g(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:x,children:l})})};wt.displayName=Me;var vt="ToastViewport",Rr=["F8"],Ce="toast.viewportPause",Pe="toast.viewportResume",bt=c.forwardRef((t,e)=>{const{__scopeToast:s,hotkey:a=Rr,label:n="Notifications ({hotkey})",...o}=t,l=ve(vt,s),d=Ar(s),p=c.useRef(null),u=c.useRef(null),g=c.useRef(null),f=c.useRef(null),x=tt(e,f,l.onViewportChange),w=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=l.toastCount>0;c.useEffect(()=>{const y=E=>{a.length!==0&&a.every(j=>E[j]||E.code===j)&&f.current?.focus()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[a]),c.useEffect(()=>{const y=p.current,E=f.current;if(S&&y&&E){const v=()=>{if(!l.isClosePausedRef.current){const D=new CustomEvent(Ce);E.dispatchEvent(D),l.isClosePausedRef.current=!0}},j=()=>{if(l.isClosePausedRef.current){const D=new CustomEvent(Pe);E.dispatchEvent(D),l.isClosePausedRef.current=!1}},I=D=>{!y.contains(D.relatedTarget)&&j()},R=()=>{y.contains(document.activeElement)||j()};return y.addEventListener("focusin",v),y.addEventListener("focusout",I),y.addEventListener("pointermove",v),y.addEventListener("pointerleave",R),window.addEventListener("blur",v),window.addEventListener("focus",j),()=>{y.removeEventListener("focusin",v),y.removeEventListener("focusout",I),y.removeEventListener("pointermove",v),y.removeEventListener("pointerleave",R),window.removeEventListener("blur",v),window.removeEventListener("focus",j)}}},[S,l.isClosePausedRef]);const N=c.useCallback(({tabbingDirection:y})=>{const v=d().map(j=>{const I=j.ref.current,R=[I,...Kr(I)];return y==="forwards"?R:R.reverse()});return(y==="forwards"?v.reverse():v).flat()},[d]);return c.useEffect(()=>{const y=f.current;if(y){const E=v=>{const j=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!j){const R=document.activeElement,D=v.shiftKey;if(v.target===y&&D){u.current?.focus();return}const ee=N({tabbingDirection:D?"backwards":"forwards"}),ie=ee.findIndex(Y=>Y===R);Se(ee.slice(ie+1))?v.preventDefault():D?u.current?.focus():g.current?.focus()}};return y.addEventListener("keydown",E),()=>y.removeEventListener("keydown",E)}},[d,N]),r.jsxs(cs,{ref:p,role:"region","aria-label":n.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&r.jsx(ke,{ref:u,onFocusFromOutsideViewport:()=>{const y=N({tabbingDirection:"forwards"});Se(y)}}),r.jsx(Fe.Slot,{scope:s,children:r.jsx(J.ol,{tabIndex:-1,...o,ref:x})}),S&&r.jsx(ke,{ref:g,onFocusFromOutsideViewport:()=>{const y=N({tabbingDirection:"backwards"});Se(y)}})]})});bt.displayName=vt;var Et="ToastFocusProxy",ke=c.forwardRef((t,e)=>{const{__scopeToast:s,onFocusFromOutsideViewport:a,...n}=t,o=ve(Et,s);return r.jsx(st,{"aria-hidden":!0,tabIndex:0,...n,ref:e,style:{position:"fixed"},onFocus:l=>{const d=l.relatedTarget;!o.viewport?.contains(d)&&a()}})});ke.displayName=Et;var ne="Toast",Cr="toast.swipeStart",Pr="toast.swipeMove",kr="toast.swipeCancel",Lr="toast.swipeEnd",jt=c.forwardRef((t,e)=>{const{forceMount:s,open:a,defaultOpen:n,onOpenChange:o,...l}=t,[d,p]=os({prop:a,defaultProp:n??!0,onChange:o,caller:ne});return r.jsx(is,{present:s||d,children:r.jsx(Ur,{open:d,...l,ref:e,onClose:()=>p(!1),onPause:ge(t.onPause),onResume:ge(t.onResume),onSwipeStart:L(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:L(t.onSwipeMove,u=>{const{x:g,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:L(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:L(t.onSwipeEnd,u=>{const{x:g,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),p(!1)})})})});jt.displayName=ne;var[Mr,Fr]=_t(ne,{onClose(){}}),Ur=c.forwardRef((t,e)=>{const{__scopeToast:s,type:a="foreground",duration:n,open:o,onClose:l,onEscapeKeyDown:d,onPause:p,onResume:u,onSwipeStart:g,onSwipeMove:f,onSwipeCancel:x,onSwipeEnd:w,...S}=t,N=ve(ne,s),[y,E]=c.useState(null),v=tt(e,_=>E(_)),j=c.useRef(null),I=c.useRef(null),R=n||N.duration,D=c.useRef(0),Z=c.useRef(R),oe=c.useRef(0),{onToastAdd:ee,onToastRemove:ie}=N,Y=ge(()=>{y?.contains(document.activeElement)&&N.viewport?.focus(),l()}),ce=c.useCallback(_=>{!_||_===1/0||(window.clearTimeout(oe.current),D.current=new Date().getTime(),oe.current=window.setTimeout(Y,_))},[Y]);c.useEffect(()=>{const _=N.viewport;if(_){const M=()=>{ce(Z.current),u?.()},B=()=>{const te=new Date().getTime()-D.current;Z.current=Z.current-te,window.clearTimeout(oe.current),p?.()};return _.addEventListener(Ce,B),_.addEventListener(Pe,M),()=>{_.removeEventListener(Ce,B),_.removeEventListener(Pe,M)}}},[N.viewport,R,p,u,ce]),c.useEffect(()=>{o&&!N.isClosePausedRef.current&&ce(R)},[o,R,N.isClosePausedRef,ce]),c.useEffect(()=>(ee(),()=>ie()),[ee,ie]);const Be=c.useMemo(()=>y?It(y):null,[y]);return N.viewport?r.jsxs(r.Fragment,{children:[Be&&r.jsx(Br,{__scopeToast:s,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:Be}),r.jsx(Mr,{scope:s,onClose:Y,children:ws.createPortal(r.jsx(Fe.ItemSlot,{scope:s,children:r.jsx(ls,{asChild:!0,onEscapeKeyDown:L(d,()=>{N.isFocusedToastEscapeKeyDownRef.current||Y(),N.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(J.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":N.swipeDirection,...S,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:L(t.onKeyDown,_=>{_.key==="Escape"&&(d?.(_.nativeEvent),_.nativeEvent.defaultPrevented||(N.isFocusedToastEscapeKeyDownRef.current=!0,Y()))}),onPointerDown:L(t.onPointerDown,_=>{_.button===0&&(j.current={x:_.clientX,y:_.clientY})}),onPointerMove:L(t.onPointerMove,_=>{if(!j.current)return;const M=_.clientX-j.current.x,B=_.clientY-j.current.y,te=!!I.current,se=["left","right"].includes(N.swipeDirection),le=["left","up"].includes(N.swipeDirection)?Math.min:Math.max,zt=se?le(0,M):0,Gt=se?0:le(0,B),be=_.pointerType==="touch"?10:2,de={x:zt,y:Gt},Ve={originalEvent:_,delta:de};te?(I.current=de,me(Pr,f,Ve,{discrete:!1})):We(de,N.swipeDirection,be)?(I.current=de,me(Cr,g,Ve,{discrete:!1}),_.target.setPointerCapture(_.pointerId)):(Math.abs(M)>be||Math.abs(B)>be)&&(j.current=null)}),onPointerUp:L(t.onPointerUp,_=>{const M=I.current,B=_.target;if(B.hasPointerCapture(_.pointerId)&&B.releasePointerCapture(_.pointerId),I.current=null,j.current=null,M){const te=_.currentTarget,se={originalEvent:_,delta:M};We(M,N.swipeDirection,N.swipeThreshold)?me(Lr,w,se,{discrete:!0}):me(kr,x,se,{discrete:!0}),te.addEventListener("click",le=>le.preventDefault(),{once:!0})}})})})}),N.viewport)})]}):null}),Br=t=>{const{__scopeToast:e,children:s,...a}=t,n=ve(ne,e),[o,l]=c.useState(!1),[d,p]=c.useState(!1);return zr(()=>l(!0)),c.useEffect(()=>{const u=window.setTimeout(()=>p(!0),1e3);return()=>window.clearTimeout(u)},[]),d?null:r.jsx(ds,{asChild:!0,children:r.jsx(st,{...a,children:o&&r.jsxs(r.Fragment,{children:[n.label," ",s]})})})},Vr="ToastTitle",Nt=c.forwardRef((t,e)=>{const{__scopeToast:s,...a}=t;return r.jsx(J.div,{...a,ref:e})});Nt.displayName=Vr;var $r="ToastDescription",St=c.forwardRef((t,e)=>{const{__scopeToast:s,...a}=t;return r.jsx(J.div,{...a,ref:e})});St.displayName=$r;var Tt="ToastAction",Ot=c.forwardRef((t,e)=>{const{altText:s,...a}=t;return s.trim()?r.jsx(Dt,{altText:s,asChild:!0,children:r.jsx(Ue,{...a,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Tt}\`. Expected non-empty \`string\`.`),null)});Ot.displayName=Tt;var At="ToastClose",Ue=c.forwardRef((t,e)=>{const{__scopeToast:s,...a}=t,n=Fr(At,s);return r.jsx(Dt,{asChild:!0,children:r.jsx(J.button,{type:"button",...a,ref:e,onClick:L(t.onClick,n.onClose)})})});Ue.displayName=At;var Dt=c.forwardRef((t,e)=>{const{__scopeToast:s,altText:a,...n}=t;return r.jsx(J.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...n,ref:e})});function It(t){const e=[];return Array.from(t.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&e.push(a.textContent),Gr(a)){const n=a.ariaHidden||a.hidden||a.style.display==="none",o=a.dataset.radixToastAnnounceExclude==="";if(!n)if(o){const l=a.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...It(a))}}),e}function me(t,e,s,{discrete:a}){const n=s.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:s});e&&n.addEventListener(t,e,{once:!0}),a?ms(n,o):n.dispatchEvent(o)}var We=(t,e,s=0)=>{const a=Math.abs(t.x),n=Math.abs(t.y),o=a>n;return e==="left"||e==="right"?o&&a>s:!o&&n>s};function zr(t=()=>{}){const e=ge(t);us(()=>{let s=0,a=0;return s=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(a)}},[e])}function Gr(t){return t.nodeType===t.ELEMENT_NODE}function Kr(t){const e=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)e.push(s.currentNode);return e}function Se(t){const e=document.activeElement;return t.some(s=>s===e?!0:(s.focus(),document.activeElement!==e))}var Hr=wt,Rt=bt,Ct=jt,Pt=Nt,kt=St,Lt=Ot,Mt=Ue;const Yr=Hr,Ft=c.forwardRef(({className:t,...e},s)=>r.jsx(Rt,{ref:s,className:b("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Ft.displayName=Rt.displayName;const qr=ye("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ut=c.forwardRef(({className:t,variant:e,...s},a)=>r.jsx(Ct,{ref:a,className:b(qr({variant:e}),t),...s}));Ut.displayName=Ct.displayName;const Wr=c.forwardRef(({className:t,...e},s)=>r.jsx(Lt,{ref:s,className:b("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Wr.displayName=Lt.displayName;const Bt=c.forwardRef(({className:t,...e},s)=>r.jsx(Mt,{ref:s,className:b("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:r.jsx(Ze,{className:"h-4 w-4"})}));Bt.displayName=Mt.displayName;const Vt=c.forwardRef(({className:t,...e},s)=>r.jsx(Pt,{ref:s,className:b("text-sm font-semibold",t),...e}));Vt.displayName=Pt.displayName;const $t=c.forwardRef(({className:t,...e},s)=>r.jsx(kt,{ref:s,className:b("text-sm opacity-90",t),...e}));$t.displayName=kt.displayName;function Xr(){const{toasts:t}=Or();return r.jsxs(Yr,{children:[t.map(function({id:e,title:s,description:a,action:n,...o}){return r.jsxs(Ut,{...o,children:[r.jsxs("div",{className:"grid gap-1",children:[s&&r.jsx(Vt,{children:s}),a&&r.jsx($t,{children:a})]}),n,r.jsx(Bt,{})]},e)}),r.jsx(Ft,{})]})}class Jr extends at.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,errorId:null}}static getDerivedStateFromError(e){return{hasError:!0,errorId:Date.now().toString()}}componentDidCatch(e,s){console.error("Error caught by boundary:",e,s),this.setState({error:e,errorInfo:s}),this.props.onError&&this.props.onError(e,s)}handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null})};handleGoHome=()=>{this.handleRetry(),window.location.href="/"};render(){return this.state.hasError?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:r.jsxs(q,{className:"w-full max-w-md",children:[r.jsxs(Q,{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 p-3 bg-red-100 rounded-full w-fit",children:r.jsx(rt,{className:"h-8 w-8 text-red-600"})}),r.jsx(_e,{className:"text-xl text-gray-900",children:"Something went wrong"}),r.jsx(we,{children:this.props.fallbackMessage||"We're sorry, but something unexpected happened. Please try again."})]}),r.jsxs(W,{className:"space-y-4",children:[!1,this.state.errorId&&r.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Error ID: ",this.state.errorId]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(k,{onClick:this.handleRetry,variant:"outline",className:"flex-1",children:[r.jsx(F,{className:"h-4 w-4 mr-2"}),"Try Again"]}),r.jsxs(k,{onClick:this.handleGoHome,className:"flex-1",children:[r.jsx(fs,{className:"h-4 w-4 mr-2"}),"Go Home"]})]})]})]})}):this.props.children}}class Qr{static MIGRATION_VERSION="1.0.0";static MIGRATION_KEY="pe_manager_migration_version";static async runMigrations(){localStorage.getItem(this.MIGRATION_KEY)!==this.MIGRATION_VERSION&&(console.log("Running data migrations..."),await this.migrateTasksSchema(),await this.migrateProjectsSchema(),await this.migrateStakeholdersSchema(),await this.migrateTeamMembersSchema(),await this.migrateOneOnOnesSchema(),await this.migrateTaskAttributesSchema(),localStorage.setItem(this.MIGRATION_KEY,this.MIGRATION_VERSION),console.log("Data migration completed successfully"))}static async migrateTasksSchema(){const e=this.getData("tasks");if(!e.length)return;const s=e.map(a=>({...a,due_date:a.due_date||null,assignee:a.assignee||null,estimated_hours:a.estimated_hours||null,actual_hours:a.actual_hours||null,completion_date:a.completion_date||(a.status==="done"?a.updated_date:null)}));this.setData("tasks",s),console.log(`Migrated ${s.length} tasks`)}static async migrateProjectsSchema(){const e=this.getData("projects");if(!e.length)return;const s=e.map(a=>({...a,deadline:a.deadline||null,budget:a.budget||null,cost:a.cost||null,priority_level:a.priority_level||"medium",progress_percentage:a.progress_percentage||0}));this.setData("projects",s),console.log(`Migrated ${s.length} projects`)}static async migrateStakeholdersSchema(){const e=this.getData("stakeholders");if(!e.length)return;const s=e.map(a=>{const n={...a,phone:a.phone||null,contact_info:a.contact_info||null,company:a.company||a.organization||null};return delete n.organization,n});this.setData("stakeholders",s),console.log(`Migrated ${s.length} stakeholders`)}static async migrateTeamMembersSchema(){const e=this.getData("team_members");if(!e.length)return;const s=e.map(a=>({...a,phone:a.phone||null,company:a.company||null,last_activity:a.last_activity||null}));this.setData("team_members",s),console.log(`Migrated ${s.length} team members`)}static async migrateOneOnOnesSchema(){const e=this.getData("one_on_ones");if(!e.length)return;const s=e.map(a=>{const n={...a,updated_date:a.updated_date||a.created_date,status:a.status||"scheduled",location:a.location||null,team_member_id:a.team_member_id||a.participant_id||null};return delete n.participant_id,n});this.setData("one_on_ones",s),console.log(`Migrated ${s.length} one-on-ones`)}static async migrateTaskAttributesSchema(){const e=this.getData("task_attributes");if(!e.length)return;const s=e.map(a=>({...a,updated_date:a.updated_date||a.created_date}));this.setData("task_attributes",s),console.log(`Migrated ${s.length} task attributes`)}static getData(e){try{const s=localStorage.getItem(e);return s?JSON.parse(s):[]}catch(s){return console.error(`Error reading data from localStorage key "${e}":`,s),[]}}static setData(e,s){try{localStorage.setItem(e,JSON.stringify(s))}catch(a){throw console.error(`Error saving data to localStorage key "${e}":`,a),a}}static async calculateLastActivity(){const e=this.getData("team_members"),s=this.getData("tasks"),a=this.getData("meetings"),n=e.map(o=>{let l=null;const d=s.filter(g=>g.metadata?.meeting?.participants?.includes(o.name)),p=a.filter(g=>g.participants?.includes(o.id)||g.participants?.includes(o.name)),u=[...d.map(g=>({date:g.updated_date||g.created_date,type:"task"})),...p.map(g=>({date:g.updated_date||g.created_date,type:"meeting"}))];return u.length>0&&(l=u.sort((f,x)=>new Date(x.date)-new Date(f.date))[0].date),{...o,last_activity:l}});this.setData("team_members",n),console.log("Updated last_activity for all team members")}}function Zr(){return c.useEffect(()=>{Qr.runMigrations().catch(t=>{console.error("Data migration failed:",t)})},[]),r.jsxs(Jr,{fallbackMessage:"The application encountered an error. Please refresh the page or try again later.",children:[r.jsx(br,{}),r.jsx(Xr,{})]})}class ea extends at.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,errorType:"unknown"}}static getDerivedStateFromError(e){let s="unknown";return e.message?.includes("localStorage")?s="storage":e.message?.includes("authentication")||e.message?.includes("auth")?s="authentication":(e.message?.includes("network")||e.message?.includes("fetch"))&&(s="network"),{hasError:!0,errorType:s}}componentDidCatch(e,s){console.error("Authentication error caught by boundary:",e,s),this.setState({error:e,errorInfo:s}),this.props.onAuthError&&this.props.onAuthError(e,s,this.state.errorType)}handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorType:"unknown"})};handleForceLogout=()=>{try{localStorage.removeItem("auth_token")}catch{}this.handleRetry(),window.location.reload()};getErrorMessage(){switch(this.state.errorType){case"storage":return{title:"Storage Error",message:"Unable to access browser storage. Please check your browser settings and try again.",suggestion:"Make sure cookies and local storage are enabled in your browser."};case"authentication":return{title:"Authentication Error",message:"There was a problem with the authentication system.",suggestion:"Please try logging in again or contact support if the problem persists."};case"network":return{title:"Connection Error",message:"Unable to connect to the authentication service.",suggestion:"Please check your internet connection and try again."};default:return{title:"Authentication System Error",message:"An unexpected error occurred in the authentication system.",suggestion:"Please try again or contact support if the problem persists."}}}render(){if(this.state.hasError){const e=this.getErrorMessage();return r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:r.jsxs(q,{className:"w-full max-w-md",children:[r.jsxs(Q,{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 p-3 bg-destructive/10 rounded-full w-fit",children:r.jsx(rt,{className:"h-8 w-8 text-destructive"})}),r.jsx(_e,{className:"text-xl",children:e.title}),r.jsx(we,{children:e.message})]}),r.jsxs(W,{className:"space-y-4",children:[r.jsx(pe,{children:r.jsx(xe,{children:e.suggestion})}),!1,r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(k,{onClick:this.handleRetry,variant:"outline",className:"flex-1",children:[r.jsx(F,{className:"h-4 w-4 mr-2"}),"Try Again"]}),r.jsxs(k,{onClick:this.handleForceLogout,className:"flex-1",children:[r.jsx(hs,{className:"h-4 w-4 mr-2"}),"Reset Login"]})]})]})]})})}return this.props.children}}Ns.createRoot(document.getElementById("root")).render(r.jsx(ea,{children:r.jsx(er,{children:r.jsx(Zr,{})})}));export{pe as A,k as B,ia as C,Xs as D,Ws as E,oa as F,Tr as G,A as H,De as I,aa as J,Ie as L,qs as O,Fs as P,Us as S,Ms as T,T as _,or as a,xe as b,b as c,Gs as d,Bs as e,na as f,q as g,W as h,Q as i,_e as j,we as k,sr as l,V as m,H as n,Vs as o,Oe as p,Zs as q,P as r,Ae as s,cr as t,Or as u,$ as v,G as w,z as x,rr as y,$s as z};
