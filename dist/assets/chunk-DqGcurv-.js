import{j as s,X as v}from"./chunk-CDfVSsCp.js";import{a as c}from"./chunk-pjYta8vt.js";import{B as w}from"./chunk-2Vqr1Avx.js";import{I as j}from"./index-CjGPc2b_.js";import{s as k}from"./chunk-BdHZTqfh.js";function C({value:u=[],onChange:a=()=>{},placeholder:m="Enter tags...",maxTags:f=100,className:d="",disabled:o=!1}){const n=k(u),[r,i]=c.useState(""),p=c.useRef(null),x=e=>{const t=e.target.value;i(t),t.endsWith(",")&&l(t.slice(0,-1))},h=e=>{if(e.key==="Enter")e.preventDefault(),l(r);else if(e.key==="Backspace"&&r===""&&n.length>0){const t=[...n];t.pop(),a(t)}},l=e=>{!e.trim()||n.length>=f||(n.includes(e.trim())||a([...n,e.trim()]),i(""))},g=c.useCallback(e=>{a(n.filter(t=>t!==e))},[n,a]),y=()=>{p.current?.focus()};return s.jsxs("div",{className:`flex flex-wrap gap-1.5 p-2 border rounded-md min-h-10 ${d} ${o?"bg-gray-100 opacity-60":"cursor-text"}`,onClick:y,children:[n.map(e=>s.jsxs(w,{variant:"secondary",className:"flex items-center h-6 px-2 text-sm",children:[e,!o&&s.jsx("button",{type:"button",onClick:t=>{t.stopPropagation(),g(e)},className:"ml-1 rounded-full hover:bg-gray-200 p-0.5",children:s.jsx(v,{className:"h-3 w-3"})})]},e)),s.jsx(j,{ref:p,value:r,onChange:x,onKeyDown:h,onBlur:()=>r.trim()&&l(r),placeholder:n.length===0?m:"",className:"flex-1 border-none p-0 min-w-[80px] shadow-none focus-visible:ring-0 placeholder:text-gray-400",disabled:o})]})}export{C as T};
