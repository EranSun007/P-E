import{j as e,az as ve,p as Pe,aO as $e,D as je,aJ as ue,aR as U,aS as H,T as K,b5 as q,b6 as G,aK as J,aY as _,b7 as ge}from"./chunk-WPKCbDK8.js";import{h as Oe,a as y,d as ye}from"./chunk-BKwDNIOR.js";import{A as Re,d as Ie,u as ze,B as N,a as be,c as Be,I as f,C as Q,h as Y,H as W,J as X,K as Z,i as ee,m as ae,j as se,q as te,L as v,t as Ve,M as le,l as ie,r as Ue}from"./index-CnhOL4vI.js";import{B as x}from"./chunk-DIYexMSd.js";import{D as He,a as Ke,b as qe,c as Ge,e as Je,d as Qe}from"./chunk-D8_EjMoV.js";import{S as Ye,a as We,b as Xe,c as Ze,d as T}from"./chunk-BOs1hDSJ.js";import{A as fe,a as Ne,b as we,c as Ce}from"./chunk-I0XyyDKD.js";import{D as ne,a as re,b as ce,d as A}from"./chunk-Di6AD2c4.js";import{T as ea}from"./chunk-DXrvJpCX.js";import{e as ke}from"./chunk-DR7VNuLi.js";import{c as aa,b as sa,a as ta,g as la}from"./chunk-uiVOWrDz.js";import"./chunk-DGs6foQ1.js";import"./chunk-BwuEqr1N.js";import"./chunk-BdHZTqfh.js";function ya(){const _e=Oe(),{tasks:F,teamMembers:E,loading:Ae,refreshAll:De}=y.useContext(Re),{isPresentationMode:h}=Ie(),[k,Me]=y.useState([]),[w,Se]=y.useState(""),[Le,D]=y.useState(!1),[m,oe]=y.useState(null),[de,M]=y.useState(null),[C,P]=y.useState("flat"),j=(a,s,t)=>{if(!h)return a[s];switch(s){case"name":return ta(a.name,t,"Team Member");case"email":return sa(a.email);case"phone":return a.phone?"●●● ●●● ●●●●":"";case"notes":return aa(a.notes);case"leave_title":return a.leave_title?"[Leave]":"";default:return a[s]}},$=(a,s)=>h?la(s,"TM"):a.name.split(" ").map(t=>t[0]).join("").toUpperCase().substring(0,2),[n,S]=y.useState({name:"",role:"",email:"",phone:"",company:"",department:"",availability:"full_time",skills:[],notes:"",avatar:"",leave_from:"",leave_to:"",leave_title:""});y.useEffect(()=>{const a=Array.isArray(E)?E:[],s=Array.isArray(F)?F:[],t=a.map(i=>{const l=s.filter(g=>(g.metadata?.meeting?.participants||[]).includes(i.name));let u=null;return l.length>0&&(u=l.reduce((g,c)=>{const r=new Date(c.created_date);return!g||r>g?r:g},null)),{...i,tasks:l,taskCount:l.length,lastActivity:u?u.toISOString():null}});Me(t)},[E,F]);const xe=async()=>{M(null);try{await De()}catch(a){ie.error("Failed to refresh team members",{error:String(a)}),M("Failed to load team members. Please try again.")}},he=()=>{S({name:"",role:"",email:"",phone:"",company:"",department:"",availability:"full_time",skills:[],notes:"",avatar:"",leave_from:"",leave_to:"",leave_title:""}),oe(null),D(!0)},O=a=>{a&&(S({name:a.name||"",role:a.role||"",email:a.email||"",phone:a.phone||"",company:a.company||"",department:a.department||"",availability:a.availability||"full_time",skills:Array.isArray(a.skills)?a.skills:[],notes:a.notes||"",avatar:a.avatar||"",leave_from:a.leave_from||"",leave_to:a.leave_to||"",leave_title:a.leave_title||""}),oe(a),D(!0))},p=(a,s)=>{if(a==="skills"){const t=Array.isArray(s)?s:[];S(i=>({...i,[a]:t}))}else S(t=>({...t,[a]:s}))},Te=async()=>{try{const a={name:n.name,email:n.email||null,role:n.role||null,skills:Array.isArray(n.skills)?n.skills:[],phone:n.phone||null,company:n.company||null,leave_from:n.leave_from||null,leave_to:n.leave_to||null,leave_title:n.leave_title||null};m?await le.update(m.id,a):await le.create(a),D(!1),await xe()}catch(a){ie.error("Failed to save team member",{error:String(a)}),M("Failed to save team member. Please try again.")}},R=async a=>{try{await le.delete(a),await xe()}catch(s){ie.error("Failed to delete team member",{error:String(s)}),M("Failed to delete team member. Please try again.")}},d=w?k.filter(a=>a.name.toLowerCase().includes(w.toLowerCase())||(a.role||"").toLowerCase().includes(w.toLowerCase())||(a.department||"").toLowerCase().includes(w.toLowerCase())||Array.isArray(a.skills)&&a.skills.some(s=>s.toLowerCase().includes(w.toLowerCase()))):k,Fe=a=>{const s={};return a.forEach(t=>{const i=t.department?.trim()||"Unassigned";s[i]||(s[i]=[]),s[i].push(t)}),s},Ee=a=>{if(!a.leave_from||!a.leave_to)return!1;const s=new Date;s.setHours(0,0,0,0);const t=new Date(a.leave_from);t.setHours(0,0,0,0);const i=new Date(a.leave_to);return i.setHours(0,0,0,0),s>=t&&s<=i},me=ye.useMemo(()=>{const a=Fe(d);return Object.keys(a).sort((t,i)=>t==="Unassigned"?1:i==="Unassigned"?-1:t.localeCompare(i)).map(t=>({department:t,members:a[t]}))},[d]),pe=ye.useMemo(()=>{const a=[],s=[];return d.forEach(t=>{Ee(t)?a.push(t):s.push(t)}),[{status:"On Leave",members:a},{status:"Not on Leave",members:s}]},[d]),I=a=>{const s=["bg-blue-100 text-blue-800","bg-green-100 text-green-800","bg-purple-100 text-purple-800","bg-pink-100 text-pink-800","bg-yellow-100 text-yellow-800","bg-indigo-100 text-indigo-800","bg-red-100 text-red-800","bg-orange-100 text-orange-800"],t=a.split("").reduce((i,l)=>i+l.charCodeAt(0),0)%s.length;return s[t]},z=a=>{if(!a)return"No recent activity";const s=new Date(a),i=new Date-s,l=Math.floor(i/(1e3*60*60*24));return l===0?"Today":l===1?"Yesterday":l<7?`${l} days ago`:l<30?`${Math.floor(l/7)} week${Math.floor(l/7)>1?"s":""} ago`:l<365?`${Math.floor(l/30)} month${Math.floor(l/30)>1?"s":""} ago`:`${Math.floor(l/365)} year${Math.floor(l/365)>1?"s":""} ago`},b=a=>{const s={full_time:"bg-green-100 text-green-800",part_time:"bg-blue-100 text-blue-800",contractor:"bg-orange-100 text-orange-800",remote:"bg-purple-100 text-purple-800"},t={full_time:"Full-time",part_time:"Part-time",contractor:"Contractor",remote:"Remote"};return e.jsx(x,{className:s[a]||"bg-gray-100 text-gray-800",children:t[a]||a})},B=a=>{_e(Ue("TeamMemberProfile")+`?id=${a}`)},{updatePageContext:L}=ze();return y.useEffect(()=>{const a=ke(d,{},m);L({page:"/team",summary:a,selection:m?{id:m.id,type:"team_member"}:null,data:{memberCount:d.length,totalMemberCount:k.length,viewMode:C}})},[d,w,m,k.length,C,L]),y.useEffect(()=>{const a=()=>{const s=ke(d,{},m);L({page:"/team",summary:s,selection:m?{id:m.id,type:"team_member"}:null,data:{memberCount:d.length,totalMemberCount:k.length,viewMode:C}})};return window.addEventListener("ai-context-refresh",a),()=>window.removeEventListener("ai-context-refresh",a)},[d,w,m,k.length,C,L]),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Team Members"}),e.jsxs(N,{onClick:he,children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Add Team Member"]})]}),de&&e.jsx(be,{variant:"destructive",className:"mb-6",children:e.jsx(Be,{children:de})}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(f,{placeholder:"Search team members by name, role, department, or skills...",value:w,onChange:a=>Se(a.target.value),className:"pl-9"})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"View:"}),e.jsxs(N,{variant:C==="flat"?"default":"outline",size:"sm",onClick:()=>P("flat"),className:"flex items-center gap-2",children:[e.jsx($e,{className:"h-4 w-4"}),"All Members"]}),e.jsxs(N,{variant:C==="team"?"default":"outline",size:"sm",onClick:()=>P("team"),className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-4 w-4"}),"Group by Team"]}),e.jsxs(N,{variant:C==="leave"?"default":"outline",size:"sm",onClick:()=>P("leave"),className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-4 w-4"}),"Group by Leave Status"]})]}),Ae?e.jsxs("div",{className:"text-center p-12",children:[e.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-indigo-600 border-t-transparent rounded-full mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading team members..."})]}):d.length===0?e.jsx("div",{className:"text-center p-12 border border-dashed rounded-lg",children:w?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No team members found"}),e.jsx("p",{className:"text-gray-500",children:"Try adjusting your search term"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No team members yet"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Add team members to track participants in meetings and collaboration"}),e.jsxs(N,{onClick:he,children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Add First Team Member"]})]})}):C==="team"?e.jsx(fe,{type:"multiple",defaultValue:me.map(a=>a.department),className:"w-full",children:me.map(a=>e.jsxs(Ne,{value:a.department,children:[e.jsx(we,{className:"text-lg font-semibold",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-5 w-5 text-muted-foreground"}),a.department,e.jsx(x,{variant:"secondary",className:"ml-2",children:a.members.length})]})}),e.jsx(Ce,{children:a.members.length===0?e.jsx("div",{className:"text-center py-6 text-gray-500",children:"No team members in this department"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pt-2",children:a.members.map(s=>{const t=I(s.name),i=d.findIndex(r=>r.id===s.id),l=j(s,"name",i),u=j(s,"email",i),g=j(s,"notes",i),c=j(s,"leave_title",i);return e.jsxs(Q,{className:"overflow-hidden",children:[e.jsxs(Y,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4 cursor-pointer group",onClick:()=>B(s.id),children:[e.jsxs(W,{className:`h-12 w-12 ${s.avatar&&!h?"":t} ring-2 ring-white transition-transform group-hover:scale-105`,children:[s.avatar&&!h?e.jsx(X,{src:s.avatar,alt:l}):null,e.jsx(Z,{children:$(s,i)})]}),e.jsxs("div",{children:[e.jsx(ee,{className:"group-hover:text-indigo-600 transition-colors",children:l}),s.role&&e.jsx(ae,{className:"mt-1",children:s.role})]})]}),e.jsxs(ne,{children:[e.jsx(re,{asChild:!0,children:e.jsx(N,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(U,{className:"h-4 w-4"})})}),e.jsxs(ce,{align:"end",children:[e.jsxs(A,{onClick:()=>O(s),children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsxs(A,{onClick:()=>R(s.id),className:"text-red-600",children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),e.jsx("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:s.availability&&b(s.availability)})]}),e.jsxs(se,{className:"space-y-4",children:[s.leave_from&&s.leave_to&&e.jsxs("div",{className:"text-xs",children:[e.jsx(x,{variant:"secondary",className:"mb-1",children:c||"On leave"}),e.jsxs("div",{className:"text-gray-600",children:[new Date(s.leave_from).toLocaleDateString()," - ",new Date(s.leave_to).toLocaleDateString()]})]}),Array.isArray(s.skills)&&s.skills.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-500 mb-2 flex items-center gap-1",children:[e.jsx(q,{className:"h-3.5 w-3.5"}),"Skills"]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Array.isArray(s.skills)&&s.skills.map((r,o)=>e.jsx(x,{variant:"outline",className:"text-xs",children:r},o))})]}),s.notes&&e.jsx("p",{className:"text-sm text-gray-600",children:g}),Array.isArray(s.tasks)&&s.tasks.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Recent Meetings"}),e.jsx("div",{className:"space-y-2",children:s.tasks.filter(r=>r.type==="meeting").sort((r,o)=>new Date(o.created_date)-new Date(r.created_date)).slice(0,2).map(r=>e.jsx("div",{className:"p-2 bg-gray-50 rounded-md text-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"truncate",children:r.title}),e.jsxs(x,{variant:"outline",className:"ml-2 flex items-center gap-1 whitespace-nowrap",children:[e.jsx(G,{className:"h-3 w-3"}),r.status]})]})},r.id))})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(J,{className:"h-3 w-3"}),z(s.lastActivity)]}),s.taskCount>0&&e.jsxs("span",{children:[s.taskCount," meetings"]})]})]}),s.email&&e.jsx(te,{className:"border-t pt-4",children:h?e.jsxs("span",{className:"text-sm text-gray-400 flex items-center gap-1",children:[e.jsx(_,{className:"h-3.5 w-3.5"}),u]}):e.jsxs("a",{href:`mailto:${s.email}`,className:"text-sm text-blue-600 hover:underline flex items-center gap-1",children:[e.jsx(_,{className:"h-3.5 w-3.5"}),s.email]})})]},s.id)})})})]},a.department))}):C==="leave"?e.jsx(fe,{type:"multiple",defaultValue:pe.map(a=>a.status),className:"w-full",children:pe.map(a=>e.jsxs(Ne,{value:a.status,children:[e.jsx(we,{className:"text-lg font-semibold",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-5 w-5 text-muted-foreground"}),a.status,e.jsx(x,{variant:"secondary",className:"ml-2",children:a.members.length})]})}),e.jsx(Ce,{children:a.members.length===0?e.jsxs("div",{className:"text-center py-6 text-gray-500",children:["No team members ",a.status==="On Leave"?"currently on leave":"available"]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pt-2",children:a.members.map(s=>{const t=I(s.name),i=a.status==="On Leave",l=d.findIndex(o=>o.id===s.id),u=j(s,"name",l),g=j(s,"email",l),c=j(s,"notes",l),r=j(s,"leave_title",l);return e.jsxs(Q,{className:"overflow-hidden",children:[e.jsxs(Y,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4 cursor-pointer group",onClick:()=>B(s.id),children:[e.jsxs(W,{className:`h-12 w-12 ${s.avatar&&!h?"":t} ring-2 ring-white transition-transform group-hover:scale-105`,children:[s.avatar&&!h?e.jsx(X,{src:s.avatar,alt:u}):null,e.jsx(Z,{children:$(s,l)})]}),e.jsxs("div",{children:[e.jsx(ee,{className:"group-hover:text-indigo-600 transition-colors",children:i&&(h?r:s.leave_title)?`${u} (${h?r:s.leave_title})`:u}),s.role&&e.jsx(ae,{className:"mt-1",children:s.role})]})]}),e.jsxs(ne,{children:[e.jsx(re,{asChild:!0,children:e.jsx(N,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(U,{className:"h-4 w-4"})})}),e.jsxs(ce,{align:"end",children:[e.jsxs(A,{onClick:()=>O(s),children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsxs(A,{onClick:()=>R(s.id),className:"text-red-600",children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[s.department&&e.jsxs(x,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(ge,{className:"h-3 w-3"}),s.department]}),s.availability&&b(s.availability)]})]}),e.jsxs(se,{className:"space-y-4",children:[s.leave_from&&s.leave_to&&e.jsxs("div",{className:"text-xs",children:[e.jsx(x,{variant:"secondary",className:"mb-1",children:r||"On leave"}),e.jsxs("div",{className:"text-gray-600",children:[new Date(s.leave_from).toLocaleDateString()," - ",new Date(s.leave_to).toLocaleDateString()]})]}),Array.isArray(s.skills)&&s.skills.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-500 mb-2 flex items-center gap-1",children:[e.jsx(q,{className:"h-3.5 w-3.5"}),"Skills"]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Array.isArray(s.skills)&&s.skills.map((o,V)=>e.jsx(x,{variant:"outline",className:"text-xs",children:o},V))})]}),s.notes&&e.jsx("p",{className:"text-sm text-gray-600",children:c}),Array.isArray(s.tasks)&&s.tasks.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Recent Meetings"}),e.jsx("div",{className:"space-y-2",children:s.tasks.filter(o=>o.type==="meeting").sort((o,V)=>new Date(V.created_date)-new Date(o.created_date)).slice(0,2).map(o=>e.jsx("div",{className:"p-2 bg-gray-50 rounded-md text-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"truncate",children:o.title}),e.jsxs(x,{variant:"outline",className:"ml-2 flex items-center gap-1 whitespace-nowrap",children:[e.jsx(G,{className:"h-3 w-3"}),o.status]})]})},o.id))})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(J,{className:"h-3 w-3"}),z(s.lastActivity)]}),s.taskCount>0&&e.jsxs("span",{children:[s.taskCount," meetings"]})]})]}),s.email&&e.jsx(te,{className:"border-t pt-4",children:h?e.jsxs("span",{className:"text-sm text-gray-400 flex items-center gap-1",children:[e.jsx(_,{className:"h-3.5 w-3.5"}),g]}):e.jsxs("a",{href:`mailto:${s.email}`,className:"text-sm text-blue-600 hover:underline flex items-center gap-1",children:[e.jsx(_,{className:"h-3.5 w-3.5"}),s.email]})})]},s.id)})})})]},a.status))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map((a,s)=>{const t=I(a.name),i=j(a,"name",s),l=j(a,"email",s),u=j(a,"notes",s),g=j(a,"leave_title",s);return e.jsxs(Q,{className:"overflow-hidden",children:[e.jsxs(Y,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4 cursor-pointer group",onClick:()=>B(a.id),children:[e.jsxs(W,{className:`h-12 w-12 ${a.avatar&&!h?"":t} ring-2 ring-white transition-transform group-hover:scale-105`,children:[a.avatar&&!h?e.jsx(X,{src:a.avatar,alt:i}):null,e.jsx(Z,{children:$(a,s)})]}),e.jsxs("div",{children:[e.jsx(ee,{className:"group-hover:text-indigo-600 transition-colors",children:i}),a.role&&e.jsx(ae,{className:"mt-1",children:a.role})]})]}),e.jsxs(ne,{children:[e.jsx(re,{asChild:!0,children:e.jsx(N,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(U,{className:"h-4 w-4"})})}),e.jsxs(ce,{align:"end",children:[e.jsxs(A,{onClick:()=>O(a),children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsxs(A,{onClick:()=>R(a.id),className:"text-red-600",children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[a.department&&e.jsxs(x,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(ge,{className:"h-3 w-3"}),a.department]}),a.availability&&b(a.availability)]})]}),e.jsxs(se,{className:"space-y-4",children:[a.leave_from&&a.leave_to&&e.jsxs("div",{className:"text-xs",children:[e.jsx(x,{variant:"secondary",className:"mb-1",children:g||"On leave"}),e.jsxs("div",{className:"text-gray-600",children:[new Date(a.leave_from).toLocaleDateString()," - ",new Date(a.leave_to).toLocaleDateString()]})]}),Array.isArray(a.skills)&&a.skills.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-500 mb-2 flex items-center gap-1",children:[e.jsx(q,{className:"h-3.5 w-3.5"}),"Skills"]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Array.isArray(a.skills)&&a.skills.map((c,r)=>e.jsx(x,{variant:"outline",className:"text-xs",children:c},r))})]}),a.notes&&e.jsx("p",{className:"text-sm text-gray-600",children:u}),Array.isArray(a.tasks)&&a.tasks.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Recent Meetings"}),e.jsx("div",{className:"space-y-2",children:a.tasks.filter(c=>c.type==="meeting").sort((c,r)=>new Date(r.created_date)-new Date(c.created_date)).slice(0,2).map(c=>e.jsx("div",{className:"p-2 bg-gray-50 rounded-md text-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"truncate",children:c.title}),e.jsxs(x,{variant:"outline",className:"ml-2 flex items-center gap-1 whitespace-nowrap",children:[e.jsx(G,{className:"h-3 w-3"}),c.status]})]})},c.id))})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(J,{className:"h-3 w-3"}),z(a.lastActivity)]}),a.taskCount>0&&e.jsxs("span",{children:[a.taskCount," meetings"]})]})]}),a.email&&e.jsx(te,{className:"border-t pt-4",children:h?e.jsxs("span",{className:"text-sm text-gray-400 flex items-center gap-1",children:[e.jsx(_,{className:"h-3.5 w-3.5"}),l]}):e.jsxs("a",{href:`mailto:${a.email}`,className:"text-sm text-blue-600 hover:underline flex items-center gap-1",children:[e.jsx(_,{className:"h-3.5 w-3.5"}),a.email]})})]},a.id)})})]}),e.jsx(He,{open:Le,onOpenChange:D,children:e.jsxs(Ke,{className:"sm:max-w-[60vw] max-h-[85vh] overflow-y-auto",children:[e.jsxs(qe,{children:[e.jsx(Ge,{children:m?"Edit Team Member":"Add Team Member"}),e.jsx(Je,{children:m?"Update team member information. Required fields are marked with an asterisk.":"Add a new team member to your team. Fill in the details below."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"name",children:"Name"}),e.jsx(f,{id:"name",value:n.name,onChange:a=>p("name",a.target.value),placeholder:"Full name"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"role",children:"Role / Position"}),e.jsx(f,{id:"role",value:n.role,onChange:a=>p("role",a.target.value),placeholder:"e.g. Product Manager"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"department",children:"Department"}),e.jsx(f,{id:"department",value:n.department,onChange:a=>p("department",a.target.value),placeholder:"e.g. Engineering"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"email",children:"Email"}),e.jsx(f,{id:"email",type:"email",value:n.email,onChange:a=>p("email",a.target.value),placeholder:"Email address"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"phone",children:"Phone"}),e.jsx(f,{id:"phone",type:"tel",value:n.phone,onChange:a=>p("phone",a.target.value),placeholder:"Phone number"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"company",children:"Company"}),e.jsx(f,{id:"company",value:n.company,onChange:a=>p("company",a.target.value),placeholder:"Company name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"availability",children:"Availability"}),e.jsxs(Ye,{value:n.availability,onValueChange:a=>p("availability",a),children:[e.jsx(We,{children:e.jsx(Xe,{placeholder:"Select availability"})}),e.jsxs(Ze,{children:[e.jsx(T,{value:"full_time",children:"Full-time"}),e.jsx(T,{value:"part_time",children:"Part-time"}),e.jsx(T,{value:"contractor",children:"Contractor"}),e.jsx(T,{value:"remote",children:"Remote"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"skills",children:"Skills"}),e.jsx(ea,{value:n.skills||[],onChange:a=>p("skills",a),placeholder:"Enter skills, press Enter or comma to add"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Press Enter or comma after each skill"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"avatar",children:"Avatar URL (optional)"}),e.jsx(f,{id:"avatar",value:n.avatar,onChange:a=>p("avatar",a.target.value),placeholder:"https://example.com/avatar.jpg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"notes",children:"Notes"}),e.jsx(Ve,{id:"notes",value:n.notes,onChange:a=>p("notes",a.target.value),placeholder:"Additional information about this team member",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"leave_from",children:"Leave From"}),e.jsx(f,{id:"leave_from",type:"date",value:n.leave_from||"",onChange:a=>p("leave_from",a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"leave_to",children:"Leave To"}),e.jsx(f,{id:"leave_to",type:"date",value:n.leave_to||"",onChange:a=>p("leave_to",a.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"leave_title",children:"Leave Title"}),e.jsx(f,{id:"leave_title",value:n.leave_title,onChange:a=>p("leave_title",a.target.value),placeholder:"Vacation, Maternity Leave, PTO, etc."})]})]}),e.jsxs(Qe,{children:[e.jsx(N,{variant:"outline",onClick:()=>D(!1),children:"Cancel"}),e.jsx(N,{onClick:Te,children:m?"Update":"Add"})]})]})})]})}export{ya as default};
