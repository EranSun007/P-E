import{j as e,_ as pe,N as Fe,ac as Ee,h as ve,aq as je,ag as V,ah as U,a2 as H,ar as q,as as G,at as K,au as w,av as ge}from"./chunk-CDfVSsCp.js";import{j as Pe,a as y,R as ue}from"./chunk-pjYta8vt.js";import{A as $e,u as Oe,B as u,a as Re,c as Ie,I as g,C as Q,g as Y,q as b,r as J,s as W,h as X,i as Z,f as ee,j as ae,L as m,t as se,l as te,k as ze}from"./index-CjGPc2b_.js";import{T as Be}from"./chunk-BRoLf8OO.js";import{B as d,D as Ve,e as Ue,f as He,g as qe,i as Ge,S as Ke,a as Qe,b as Ye,c as be,d as L,h as Je}from"./chunk-2Vqr1Avx.js";import{A as ye,a as Ne,b as fe,c as we}from"./chunk-BaBIjyPE.js";import{D as le,a as ie,b as ne,d as C}from"./chunk-BrWpdzOD.js";import{T as We}from"./chunk-DqGcurv-.js";import{c as Xe,b as Ze,a as ea,g as aa}from"./chunk-uiVOWrDz.js";import"./chunk-DGzW4aIb.js";import"./chunk-BdHZTqfh.js";function ma(){const Ce=Pe(),{tasks:S,teamMembers:T,loading:ke,refreshAll:_e}=y.useContext($e),{isPresentationMode:x}=Oe(),[re,Ae]=y.useState([]),[f,De]=y.useState(""),[Me,k]=y.useState(!1),[_,ce]=y.useState(null),[oe,D]=y.useState(null),[A,F]=y.useState("flat"),p=(a,s,t)=>{if(!x)return a[s];switch(s){case"name":return ea(a.name,t,"Team Member");case"email":return Ze(a.email);case"phone":return a.phone?"●●● ●●● ●●●●":"";case"notes":return Xe(a.notes);case"leave_title":return a.leave_title?"[Leave]":"";default:return a[s]}},E=(a,s)=>x?aa(s,"TM"):a.name.split(" ").map(t=>t[0]).join("").toUpperCase().substring(0,2),[n,M]=y.useState({name:"",role:"",email:"",phone:"",company:"",department:"",availability:"full_time",skills:[],notes:"",avatar:"",leave_from:"",leave_to:"",leave_title:""});y.useEffect(()=>{const a=Array.isArray(T)?T:[],s=Array.isArray(S)?S:[],t=a.map(i=>{const l=s.filter(j=>(j.metadata?.meeting?.participants||[]).includes(i.name));let v=null;return l.length>0&&(v=l.reduce((j,c)=>{const r=new Date(c.created_date);return!j||r>j?r:j},null)),{...i,tasks:l,taskCount:l.length,lastActivity:v?v.toISOString():null}});Ae(t)},[T,S]);const de=async()=>{D(null);try{await _e()}catch(a){te.error("Failed to refresh team members",{error:String(a)}),D("Failed to load team members. Please try again.")}},xe=()=>{M({name:"",role:"",email:"",phone:"",company:"",department:"",availability:"full_time",skills:[],notes:"",avatar:"",leave_from:"",leave_to:"",leave_title:""}),ce(null),k(!0)},P=a=>{a&&(M({name:a.name||"",role:a.role||"",email:a.email||"",phone:a.phone||"",company:a.company||"",department:a.department||"",availability:a.availability||"full_time",skills:Array.isArray(a.skills)?a.skills:[],notes:a.notes||"",avatar:a.avatar||"",leave_from:a.leave_from||"",leave_to:a.leave_to||"",leave_title:a.leave_title||""}),ce(a),k(!0))},h=(a,s)=>{if(a==="skills"){const t=Array.isArray(s)?s:[];M(i=>({...i,[a]:t}))}else M(t=>({...t,[a]:s}))},Le=async()=>{try{const a={name:n.name,email:n.email||null,role:n.role||null,skills:Array.isArray(n.skills)?n.skills:[],phone:n.phone||null,company:n.company||null,leave_from:n.leave_from||null,leave_to:n.leave_to||null,leave_title:n.leave_title||null};_?await se.update(_.id,a):await se.create(a),k(!1),await de()}catch(a){te.error("Failed to save team member",{error:String(a)}),D("Failed to save team member. Please try again.")}},$=async a=>{try{await se.delete(a),await de()}catch(s){te.error("Failed to delete team member",{error:String(s)}),D("Failed to delete team member. Please try again.")}},N=f?re.filter(a=>a.name.toLowerCase().includes(f.toLowerCase())||(a.role||"").toLowerCase().includes(f.toLowerCase())||(a.department||"").toLowerCase().includes(f.toLowerCase())||Array.isArray(a.skills)&&a.skills.some(s=>s.toLowerCase().includes(f.toLowerCase()))):re,Se=a=>{const s={};return a.forEach(t=>{const i=t.department?.trim()||"Unassigned";s[i]||(s[i]=[]),s[i].push(t)}),s},Te=a=>{if(!a.leave_from||!a.leave_to)return!1;const s=new Date;s.setHours(0,0,0,0);const t=new Date(a.leave_from);t.setHours(0,0,0,0);const i=new Date(a.leave_to);return i.setHours(0,0,0,0),s>=t&&s<=i},he=ue.useMemo(()=>{const a=Se(N);return Object.keys(a).sort((t,i)=>t==="Unassigned"?1:i==="Unassigned"?-1:t.localeCompare(i)).map(t=>({department:t,members:a[t]}))},[N]),me=ue.useMemo(()=>{const a=[],s=[];return N.forEach(t=>{Te(t)?a.push(t):s.push(t)}),[{status:"On Leave",members:a},{status:"Not on Leave",members:s}]},[N]),O=a=>{const s=["bg-blue-100 text-blue-800","bg-green-100 text-green-800","bg-purple-100 text-purple-800","bg-pink-100 text-pink-800","bg-yellow-100 text-yellow-800","bg-indigo-100 text-indigo-800","bg-red-100 text-red-800","bg-orange-100 text-orange-800"],t=a.split("").reduce((i,l)=>i+l.charCodeAt(0),0)%s.length;return s[t]},R=a=>{if(!a)return"No recent activity";const s=new Date(a),i=new Date-s,l=Math.floor(i/(1e3*60*60*24));return l===0?"Today":l===1?"Yesterday":l<7?`${l} days ago`:l<30?`${Math.floor(l/7)} week${Math.floor(l/7)>1?"s":""} ago`:l<365?`${Math.floor(l/30)} month${Math.floor(l/30)>1?"s":""} ago`:`${Math.floor(l/365)} year${Math.floor(l/365)>1?"s":""} ago`},I=a=>{const s={full_time:"bg-green-100 text-green-800",part_time:"bg-blue-100 text-blue-800",contractor:"bg-orange-100 text-orange-800",remote:"bg-purple-100 text-purple-800"},t={full_time:"Full-time",part_time:"Part-time",contractor:"Contractor",remote:"Remote"};return e.jsx(d,{className:s[a]||"bg-gray-100 text-gray-800",children:t[a]||a})},z=a=>{Ce(ze("TeamMemberProfile")+`?id=${a}`)};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Team Members"}),e.jsxs(u,{onClick:xe,children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"Add Team Member"]})]}),oe&&e.jsx(Re,{variant:"destructive",className:"mb-6",children:e.jsx(Ie,{children:oe})}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx(Fe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(g,{placeholder:"Search team members by name, role, department, or skills...",value:f,onChange:a=>De(a.target.value),className:"pl-9"})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"View:"}),e.jsxs(u,{variant:A==="flat"?"default":"outline",size:"sm",onClick:()=>F("flat"),className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"h-4 w-4"}),"All Members"]}),e.jsxs(u,{variant:A==="team"?"default":"outline",size:"sm",onClick:()=>F("team"),className:"flex items-center gap-2",children:[e.jsx(ve,{className:"h-4 w-4"}),"Group by Team"]}),e.jsxs(u,{variant:A==="leave"?"default":"outline",size:"sm",onClick:()=>F("leave"),className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-4 w-4"}),"Group by Leave Status"]})]}),ke?e.jsxs("div",{className:"text-center p-12",children:[e.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-indigo-600 border-t-transparent rounded-full mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading team members..."})]}):N.length===0?e.jsx("div",{className:"text-center p-12 border border-dashed rounded-lg",children:f?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No team members found"}),e.jsx("p",{className:"text-gray-500",children:"Try adjusting your search term"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No team members yet"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Add team members to track participants in meetings and collaboration"}),e.jsxs(u,{onClick:xe,children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"Add First Team Member"]})]})}):A==="team"?e.jsx(ye,{type:"multiple",defaultValue:he.map(a=>a.department),className:"w-full",children:he.map(a=>e.jsxs(Ne,{value:a.department,children:[e.jsx(fe,{className:"text-lg font-semibold",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ve,{className:"h-5 w-5 text-muted-foreground"}),a.department,e.jsx(d,{variant:"secondary",className:"ml-2",children:a.members.length})]})}),e.jsx(we,{children:a.members.length===0?e.jsx("div",{className:"text-center py-6 text-gray-500",children:"No team members in this department"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pt-2",children:a.members.map(s=>{const t=O(s.name),i=N.findIndex(r=>r.id===s.id),l=p(s,"name",i),v=p(s,"email",i),j=p(s,"notes",i),c=p(s,"leave_title",i);return e.jsxs(Q,{className:"overflow-hidden",children:[e.jsxs(Y,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4 cursor-pointer group",onClick:()=>z(s.id),children:[e.jsxs(b,{className:`h-12 w-12 ${s.avatar&&!x?"":t} ring-2 ring-white transition-transform group-hover:scale-105`,children:[s.avatar&&!x?e.jsx(J,{src:s.avatar,alt:l}):null,e.jsx(W,{children:E(s,i)})]}),e.jsxs("div",{children:[e.jsx(X,{className:"group-hover:text-indigo-600 transition-colors",children:l}),s.role&&e.jsx(Z,{className:"mt-1",children:s.role})]})]}),e.jsxs(le,{children:[e.jsx(ie,{asChild:!0,children:e.jsx(u,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(V,{className:"h-4 w-4"})})}),e.jsxs(ne,{align:"end",children:[e.jsxs(C,{onClick:()=>P(s),children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsxs(C,{onClick:()=>$(s.id),className:"text-red-600",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),e.jsx("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:s.availability&&I(s.availability)})]}),e.jsxs(ee,{className:"space-y-4",children:[s.leave_from&&s.leave_to&&e.jsxs("div",{className:"text-xs",children:[e.jsx(d,{variant:"secondary",className:"mb-1",children:c||"On leave"}),e.jsxs("div",{className:"text-gray-600",children:[new Date(s.leave_from).toLocaleDateString()," - ",new Date(s.leave_to).toLocaleDateString()]})]}),Array.isArray(s.skills)&&s.skills.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-500 mb-2 flex items-center gap-1",children:[e.jsx(q,{className:"h-3.5 w-3.5"}),"Skills"]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Array.isArray(s.skills)&&s.skills.map((r,o)=>e.jsx(d,{variant:"outline",className:"text-xs",children:r},o))})]}),s.notes&&e.jsx("p",{className:"text-sm text-gray-600",children:j}),Array.isArray(s.tasks)&&s.tasks.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Recent Meetings"}),e.jsx("div",{className:"space-y-2",children:s.tasks.filter(r=>r.type==="meeting").sort((r,o)=>new Date(o.created_date)-new Date(r.created_date)).slice(0,2).map(r=>e.jsx("div",{className:"p-2 bg-gray-50 rounded-md text-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"truncate",children:r.title}),e.jsxs(d,{variant:"outline",className:"ml-2 flex items-center gap-1 whitespace-nowrap",children:[e.jsx(G,{className:"h-3 w-3"}),r.status]})]})},r.id))})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(K,{className:"h-3 w-3"}),R(s.lastActivity)]}),s.taskCount>0&&e.jsxs("span",{children:[s.taskCount," meetings"]})]})]}),s.email&&e.jsx(ae,{className:"border-t pt-4",children:x?e.jsxs("span",{className:"text-sm text-gray-400 flex items-center gap-1",children:[e.jsx(w,{className:"h-3.5 w-3.5"}),v]}):e.jsxs("a",{href:`mailto:${s.email}`,className:"text-sm text-blue-600 hover:underline flex items-center gap-1",children:[e.jsx(w,{className:"h-3.5 w-3.5"}),s.email]})})]},s.id)})})})]},a.department))}):A==="leave"?e.jsx(ye,{type:"multiple",defaultValue:me.map(a=>a.status),className:"w-full",children:me.map(a=>e.jsxs(Ne,{value:a.status,children:[e.jsx(fe,{className:"text-lg font-semibold",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-5 w-5 text-muted-foreground"}),a.status,e.jsx(d,{variant:"secondary",className:"ml-2",children:a.members.length})]})}),e.jsx(we,{children:a.members.length===0?e.jsxs("div",{className:"text-center py-6 text-gray-500",children:["No team members ",a.status==="On Leave"?"currently on leave":"available"]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pt-2",children:a.members.map(s=>{const t=O(s.name),i=a.status==="On Leave",l=N.findIndex(o=>o.id===s.id),v=p(s,"name",l),j=p(s,"email",l),c=p(s,"notes",l),r=p(s,"leave_title",l);return e.jsxs(Q,{className:"overflow-hidden",children:[e.jsxs(Y,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4 cursor-pointer group",onClick:()=>z(s.id),children:[e.jsxs(b,{className:`h-12 w-12 ${s.avatar&&!x?"":t} ring-2 ring-white transition-transform group-hover:scale-105`,children:[s.avatar&&!x?e.jsx(J,{src:s.avatar,alt:v}):null,e.jsx(W,{children:E(s,l)})]}),e.jsxs("div",{children:[e.jsx(X,{className:"group-hover:text-indigo-600 transition-colors",children:i&&(x?r:s.leave_title)?`${v} (${x?r:s.leave_title})`:v}),s.role&&e.jsx(Z,{className:"mt-1",children:s.role})]})]}),e.jsxs(le,{children:[e.jsx(ie,{asChild:!0,children:e.jsx(u,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(V,{className:"h-4 w-4"})})}),e.jsxs(ne,{align:"end",children:[e.jsxs(C,{onClick:()=>P(s),children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsxs(C,{onClick:()=>$(s.id),className:"text-red-600",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[s.department&&e.jsxs(d,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(ge,{className:"h-3 w-3"}),s.department]}),s.availability&&I(s.availability)]})]}),e.jsxs(ee,{className:"space-y-4",children:[s.leave_from&&s.leave_to&&e.jsxs("div",{className:"text-xs",children:[e.jsx(d,{variant:"secondary",className:"mb-1",children:r||"On leave"}),e.jsxs("div",{className:"text-gray-600",children:[new Date(s.leave_from).toLocaleDateString()," - ",new Date(s.leave_to).toLocaleDateString()]})]}),Array.isArray(s.skills)&&s.skills.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-500 mb-2 flex items-center gap-1",children:[e.jsx(q,{className:"h-3.5 w-3.5"}),"Skills"]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Array.isArray(s.skills)&&s.skills.map((o,B)=>e.jsx(d,{variant:"outline",className:"text-xs",children:o},B))})]}),s.notes&&e.jsx("p",{className:"text-sm text-gray-600",children:c}),Array.isArray(s.tasks)&&s.tasks.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Recent Meetings"}),e.jsx("div",{className:"space-y-2",children:s.tasks.filter(o=>o.type==="meeting").sort((o,B)=>new Date(B.created_date)-new Date(o.created_date)).slice(0,2).map(o=>e.jsx("div",{className:"p-2 bg-gray-50 rounded-md text-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"truncate",children:o.title}),e.jsxs(d,{variant:"outline",className:"ml-2 flex items-center gap-1 whitespace-nowrap",children:[e.jsx(G,{className:"h-3 w-3"}),o.status]})]})},o.id))})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(K,{className:"h-3 w-3"}),R(s.lastActivity)]}),s.taskCount>0&&e.jsxs("span",{children:[s.taskCount," meetings"]})]})]}),s.email&&e.jsx(ae,{className:"border-t pt-4",children:x?e.jsxs("span",{className:"text-sm text-gray-400 flex items-center gap-1",children:[e.jsx(w,{className:"h-3.5 w-3.5"}),j]}):e.jsxs("a",{href:`mailto:${s.email}`,className:"text-sm text-blue-600 hover:underline flex items-center gap-1",children:[e.jsx(w,{className:"h-3.5 w-3.5"}),s.email]})})]},s.id)})})})]},a.status))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map((a,s)=>{const t=O(a.name),i=p(a,"name",s),l=p(a,"email",s),v=p(a,"notes",s),j=p(a,"leave_title",s);return e.jsxs(Q,{className:"overflow-hidden",children:[e.jsxs(Y,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4 cursor-pointer group",onClick:()=>z(a.id),children:[e.jsxs(b,{className:`h-12 w-12 ${a.avatar&&!x?"":t} ring-2 ring-white transition-transform group-hover:scale-105`,children:[a.avatar&&!x?e.jsx(J,{src:a.avatar,alt:i}):null,e.jsx(W,{children:E(a,s)})]}),e.jsxs("div",{children:[e.jsx(X,{className:"group-hover:text-indigo-600 transition-colors",children:i}),a.role&&e.jsx(Z,{className:"mt-1",children:a.role})]})]}),e.jsxs(le,{children:[e.jsx(ie,{asChild:!0,children:e.jsx(u,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(V,{className:"h-4 w-4"})})}),e.jsxs(ne,{align:"end",children:[e.jsxs(C,{onClick:()=>P(a),children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsxs(C,{onClick:()=>$(a.id),className:"text-red-600",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[a.department&&e.jsxs(d,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(ge,{className:"h-3 w-3"}),a.department]}),a.availability&&I(a.availability)]})]}),e.jsxs(ee,{className:"space-y-4",children:[a.leave_from&&a.leave_to&&e.jsxs("div",{className:"text-xs",children:[e.jsx(d,{variant:"secondary",className:"mb-1",children:j||"On leave"}),e.jsxs("div",{className:"text-gray-600",children:[new Date(a.leave_from).toLocaleDateString()," - ",new Date(a.leave_to).toLocaleDateString()]})]}),Array.isArray(a.skills)&&a.skills.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-500 mb-2 flex items-center gap-1",children:[e.jsx(q,{className:"h-3.5 w-3.5"}),"Skills"]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Array.isArray(a.skills)&&a.skills.map((c,r)=>e.jsx(d,{variant:"outline",className:"text-xs",children:c},r))})]}),a.notes&&e.jsx("p",{className:"text-sm text-gray-600",children:v}),Array.isArray(a.tasks)&&a.tasks.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Recent Meetings"}),e.jsx("div",{className:"space-y-2",children:a.tasks.filter(c=>c.type==="meeting").sort((c,r)=>new Date(r.created_date)-new Date(c.created_date)).slice(0,2).map(c=>e.jsx("div",{className:"p-2 bg-gray-50 rounded-md text-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"truncate",children:c.title}),e.jsxs(d,{variant:"outline",className:"ml-2 flex items-center gap-1 whitespace-nowrap",children:[e.jsx(G,{className:"h-3 w-3"}),c.status]})]})},c.id))})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(K,{className:"h-3 w-3"}),R(a.lastActivity)]}),a.taskCount>0&&e.jsxs("span",{children:[a.taskCount," meetings"]})]})]}),a.email&&e.jsx(ae,{className:"border-t pt-4",children:x?e.jsxs("span",{className:"text-sm text-gray-400 flex items-center gap-1",children:[e.jsx(w,{className:"h-3.5 w-3.5"}),l]}):e.jsxs("a",{href:`mailto:${a.email}`,className:"text-sm text-blue-600 hover:underline flex items-center gap-1",children:[e.jsx(w,{className:"h-3.5 w-3.5"}),a.email]})})]},a.id)})})]}),e.jsx(Ve,{open:Me,onOpenChange:k,children:e.jsxs(Ue,{className:"sm:max-w-[60vw] max-h-[85vh] overflow-y-auto",children:[e.jsxs(He,{children:[e.jsx(qe,{children:_?"Edit Team Member":"Add Team Member"}),e.jsx(Ge,{children:_?"Update team member information. Required fields are marked with an asterisk.":"Add a new team member to your team. Fill in the details below."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"name",children:"Name"}),e.jsx(g,{id:"name",value:n.name,onChange:a=>h("name",a.target.value),placeholder:"Full name"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"role",children:"Role / Position"}),e.jsx(g,{id:"role",value:n.role,onChange:a=>h("role",a.target.value),placeholder:"e.g. Product Manager"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"department",children:"Department"}),e.jsx(g,{id:"department",value:n.department,onChange:a=>h("department",a.target.value),placeholder:"e.g. Engineering"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"email",children:"Email"}),e.jsx(g,{id:"email",type:"email",value:n.email,onChange:a=>h("email",a.target.value),placeholder:"Email address"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"phone",children:"Phone"}),e.jsx(g,{id:"phone",type:"tel",value:n.phone,onChange:a=>h("phone",a.target.value),placeholder:"Phone number"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"company",children:"Company"}),e.jsx(g,{id:"company",value:n.company,onChange:a=>h("company",a.target.value),placeholder:"Company name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"availability",children:"Availability"}),e.jsxs(Ke,{value:n.availability,onValueChange:a=>h("availability",a),children:[e.jsx(Qe,{children:e.jsx(Ye,{placeholder:"Select availability"})}),e.jsxs(be,{children:[e.jsx(L,{value:"full_time",children:"Full-time"}),e.jsx(L,{value:"part_time",children:"Part-time"}),e.jsx(L,{value:"contractor",children:"Contractor"}),e.jsx(L,{value:"remote",children:"Remote"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"skills",children:"Skills"}),e.jsx(We,{value:n.skills||[],onChange:a=>h("skills",a),placeholder:"Enter skills, press Enter or comma to add"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Press Enter or comma after each skill"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"avatar",children:"Avatar URL (optional)"}),e.jsx(g,{id:"avatar",value:n.avatar,onChange:a=>h("avatar",a.target.value),placeholder:"https://example.com/avatar.jpg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"notes",children:"Notes"}),e.jsx(Be,{id:"notes",value:n.notes,onChange:a=>h("notes",a.target.value),placeholder:"Additional information about this team member",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"leave_from",children:"Leave From"}),e.jsx(g,{id:"leave_from",type:"date",value:n.leave_from||"",onChange:a=>h("leave_from",a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"leave_to",children:"Leave To"}),e.jsx(g,{id:"leave_to",type:"date",value:n.leave_to||"",onChange:a=>h("leave_to",a.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"leave_title",children:"Leave Title"}),e.jsx(g,{id:"leave_title",value:n.leave_title,onChange:a=>h("leave_title",a.target.value),placeholder:"Vacation, Maternity Leave, PTO, etc."})]})]}),e.jsxs(Je,{children:[e.jsx(u,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),e.jsx(u,{onClick:Le,children:_?"Update":"Add"})]})]})})]})}export{ma as default};
