const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Tasks-BdRcCZjt.js","assets/chunk-CDfVSsCp.js","assets/chunk-pjYta8vt.js","assets/TaskCreationForm-B8jsWt0K.js","assets/chunk-KzYfAQy1.js","assets/chunk-BRoLf8OO.js","assets/chunk-2Vqr1Avx.js","assets/chunk-DGzW4aIb.js","assets/chunk-D56rD7Tk.js","assets/chunk-BdHZTqfh.js","assets/chunk-DqGcurv-.js","assets/chunk-WlZ0rc9l.js","assets/chunk-BrWpdzOD.js","assets/chunk-BaIpbNob.js","assets/chunk-CIxmFPsL.js","assets/chunk-CbeUZ2zF.js","assets/Calendar-DpZ93BG5.js","assets/Metrics-BJmgwBnA.js","assets/chunk-TEwzFl3b.js","assets/Stakeholders-pyeasu6l.js","assets/chunk-uiVOWrDz.js","assets/chunk-BaBIjyPE.js","assets/Projects-c0efKRnD.js","assets/chunk-BiA1Y_SF.js","assets/chunk-Bkk7W5FO.js","assets/Settings-D3va38NH.js","assets/chunk-DfspdIU3.js","assets/Team-CjoUkPjK.js","assets/ProjectDetails-Dz7IGJUI.js","assets/TeamMemberProfile-CzpK8CYV.js","assets/chunk-BATFaH_q.js","assets/Peers-DDwnuQXd.js","assets/chunk-BnmpedIu.js","assets/PeerProfile-DZTIg7ve.js","assets/Duties-DjvVrzTR.js"])))=>i.map(i=>d[i]);
import{j as e,b as qe,F as Ye,I as Xe,S as Ht,d as Jt,e as qt,f as Yt,g as Xt,U as Qt,h as Ve,i as Zt,X as Qe,k as es,l as ts,L as ss,M as rs,E as as,m as ns,n as os,o as Ze,p as is,q as cs,r as de,A as ls,s as ds,t as us,v as ms,w as fs,x as $,y as fe,P as Y,z as et,B as hs,D as ps,V as tt,G as xs,H as gs,J as ys,T as vs,K as ws}from"./chunk-CDfVSsCp.js";import{f as js,g as bs,a as o,L as Be,B as Ns,u as Ts,h as Es,i as I,b as Ss,R}from"./chunk-pjYta8vt.js";import{t as _s,c as Ps,a as he}from"./chunk-DGzW4aIb.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();var ie={},ze;function Cs(){if(ze)return ie;ze=1;var r=js();return ie.createRoot=r.createRoot,ie.hydrateRoot=r.hydrateRoot,ie}var As=Cs();const ks=bs(As),Rs="modulepreload",Ds=function(r){return"/"+r},Ke={},L=function(t,s,a){let n=Promise.resolve();if(s&&s.length>0){let d=function(c){return Promise.all(c.map(f=>Promise.resolve(f).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),x=u?.nonce||u?.getAttribute("nonce");n=d(s.map(c=>{if(c=Ds(c),c in Ke)return;Ke[c]=!0;const f=c.endsWith(".css"),w=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${w}`))return;const T=document.createElement("link");if(T.rel=f?"stylesheet":Rs,f||(T.as="script"),T.crossOrigin="",T.href=c,x&&T.setAttribute("nonce",x),document.head.appendChild(T),f)return new Promise((A,p)=>{T.addEventListener("load",A),T.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(d){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=d,window.dispatchEvent(u),!u.defaultPrevented)throw d}return n.then(d=>{for(const u of d||[])u.status==="rejected"&&i(u.reason);return t().catch(i)})};function V(r){return"/"+r.toLowerCase().replace(/ /g,"-")}function j(...r){return _s(Ps(r))}const ye="auth_token",ve="auth_user",ce="https://pe-manager-backend.cfapps.eu01-canary.hana.ondemand.com/api";class G{static async login(t,s){try{const a=await fetch(`${ce}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:s})}),n=await a.json();return a.ok?(this.storeToken(n.token),this.storeUser(n.user),{success:!0,user:n.user}):{success:!1,error:n.message||"Login failed"}}catch(a){return console.error("Login error:",a),{success:!1,error:"Network error. Please check your connection."}}}static storeToken(t){try{localStorage.setItem(ye,t)}catch(s){throw console.error("Failed to store token:",s),s}}static storeUser(t){try{localStorage.setItem(ve,JSON.stringify(t))}catch(s){console.error("Failed to store user:",s)}}static getToken(){try{return localStorage.getItem(ye)}catch(t){return console.error("Failed to get token:",t),null}}static getStoredUser(){try{const t=localStorage.getItem(ve);return t?JSON.parse(t):null}catch(t){return console.error("Failed to get user:",t),null}}static isAuthenticated(){const t=this.getToken();if(!t)return!1;try{const a=JSON.parse(atob(t.split(".")[1])).exp*1e3;return Date.now()<a}catch{return!1}}static clearAuthData(){try{return localStorage.removeItem(ye),localStorage.removeItem(ve),!0}catch(t){return console.error("Failed to clear auth data:",t),!1}}static async changePassword(t,s){try{const a=this.getToken();if(!a)return{success:!1,error:"Not authenticated"};const n=await fetch(`${ce}/auth/change-password`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({currentPassword:t,newPassword:s})}),i=await n.json();return n.ok?{success:!0}:{success:!1,error:i.message||"Failed to change password"}}catch(a){return console.error("Change password error:",a),{success:!1,error:"Network error. Please try again."}}}static async fetchCurrentUser(){try{const t=this.getToken();if(!t)return null;const s=await fetch(`${ce}/auth/me`,{headers:{Authorization:`Bearer ${t}`}});if(!s.ok)return s.status===401&&this.clearAuthData(),null;const a=await s.json();return this.storeUser(a),a}catch(t){return console.error("Fetch user error:",t),null}}static async setupInitialAdmin(t){try{const s=await fetch(`${ce}/auth/setup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t})}),a=await s.json();return s.ok?{success:!0,user:a.user}:{success:!1,error:a.message||"Setup failed"}}catch(s){return console.error("Setup error:",s),{success:!1,error:"Network error. Please try again."}}}}const Os={},q={DEBUG:0,INFO:1,WARN:2,ERROR:3};class Is{constructor(){const t=typeof import.meta<"u"&&Os&&!0;this.level=t?q.WARN:q.DEBUG}setLevel(t){typeof t=="number"&&(this.level=t)}debug(t,s={}){this.level<=q.DEBUG&&console.debug("[DEBUG]",t,s)}info(t,s={}){this.level<=q.INFO&&console.info("[INFO]",t,s)}warn(t,s={}){this.level<=q.WARN&&console.warn("[WARN]",t,s)}error(t,s={}){this.level<=q.ERROR&&(console.error("[ERROR]",t,s),this.reportError(t,s))}reportError(t,s){try{const a="pe_manager_error_log",n=JSON.parse(localStorage.getItem(a)||"[]");n.unshift({message:t,context:s,ts:new Date().toISOString()}),localStorage.setItem(a,JSON.stringify(n.slice(0,10)))}catch{}}}const C=new Is,S="https://pe-manager-backend.cfapps.eu01-canary.hana.ondemand.com/api";function Ms(r,t){if(!r.ok){const s=new Error(`HTTP ${r.status} - ${r.statusText} at ${t}`);throw s.status=r.status,C.error("HTTP request failed",{endpoint:t,status:r.status,statusText:r.statusText}),r.status===401&&G.clearAuthData(),s}}async function _(r,t={}){const s={"Content-Type":"application/json",...t.headers},a=G.getToken();a&&(s.Authorization=`Bearer ${a}`);try{const n=await fetch(r,{...t,headers:s});return Ms(n,r),n.status===204?null:await n.json()}catch(n){throw C.error("API request failed",{url:r,error:String(n)}),n}}function E(r){return{async list(){return _(`${S}${r}`)},async get(t){return _(`${S}${r}/${t}`)},async create(t){return _(`${S}${r}`,{method:"POST",body:JSON.stringify(t)})},async update(t,s){return _(`${S}${r}/${t}`,{method:"PUT",body:JSON.stringify(s)})},async delete(t){return await _(`${S}${r}/${t}`,{method:"DELETE"}),!0}}}function Ls(){return{...E("/work-items"),async listByTeamMember(t,s=null){let a=`${S}/work-items?team_member_id=${t}`;return s&&(a+=`&status=${s}`),_(a)},async addInsight(t,s){return _(`${S}/work-items/${t}/insights`,{method:"POST",body:JSON.stringify(s)})}}}function Fs(){return{...E("/developer-goals"),async list(t,s=null){let a=`${S}/developer-goals?team_member_id=${t}`;return s&&(a+=`&year=${s}`),_(a)}}}function $s(){return{...E("/performance-evaluations"),async list(t){return _(`${S}/performance-evaluations?team_member_id=${t}`)},async getByYear(t,s){return _(`${S}/performance-evaluations/by-year?team_member_id=${t}&year=${s}`)}}}function Us(){return{...E("/task-attributes"),async bulkCreate(t){const s=[];for(const a of t)try{const n=await _(`${S}/task-attributes`,{method:"POST",body:JSON.stringify(a)});s.push(n)}catch(n){console.warn("Failed to create attribute:",a.name,n)}return s}}}function Vs(){return{...E("/devops-duties"),async listByTeamMember(t){return _(`${S}/devops-duties/team-member/${t}`)},async addInsight(t,s){return _(`${S}/devops-duties/${t}/insights`,{method:"POST",body:JSON.stringify({insight:s})})},async complete(t,s){return _(`${S}/devops-duties/${t}/complete`,{method:"POST",body:JSON.stringify(s)})}}}function Bs(){return{...E("/duty-schedule"),async listUpcoming(t=null){let s=`${S}/duty-schedule/upcoming`;return t&&(s+=`?team=${encodeURIComponent(t)}`),_(s)},async listByDateRange(t,s,a={}){let n=`${S}/duty-schedule/date-range?start_date=${t}&end_date=${s}`;return a.team&&(n+=`&team=${encodeURIComponent(a.team)}`),a.duty_type&&(n+=`&duty_type=${encodeURIComponent(a.duty_type)}`),_(n)},async listByTeam(t){return _(`${S}/duty-schedule?team=${encodeURIComponent(t)}`)},async getTeamMembers(t){return _(`${S}/duty-schedule/team-members/${encodeURIComponent(t)}`)}}}const De={entities:{Task:E("/tasks"),Project:E("/projects"),Stakeholder:E("/stakeholders"),TeamMember:E("/team-members"),OneOnOne:E("/one-on-ones"),Meeting:E("/meetings"),CalendarEvent:E("/calendar-events"),Notification:E("/notifications"),Reminder:E("/reminders"),Comment:E("/comments"),TaskAttribute:Us(),WorkItem:Ls(),DeveloperGoal:Fs(),PerformanceEvaluation:$s(),DevOpsDuty:Vs(),DutySchedule:Bs(),Peer:E("/peers"),OutOfOffice:E("/out-of-office"),Duty:E("/duties"),AgendaItem:E("/agenda-items"),PersonalFileItem:E("/personal-file-items")},auth:{async me(){return _(`${S}/auth/me`)},async logout(){return!0}},backup:{async export(){return _(`${S}/backup/export`)},async import(r,t="merge"){return _(`${S}/backup/import`,{method:"POST",body:JSON.stringify({data:r,mode:t})})}}},P=De,st=P.entities.Task,rt=P.entities.Project,at=P.entities.Stakeholder,nt=P.entities.TeamMember,zs=P.entities.TaskAttribute,ot=P.entities.OneOnOne,Ks=P.entities.Meeting,Gs=P.entities.CalendarEvent,Ws=P.entities.Notification,Hs=P.entities.Reminder,Js=P.entities.Comment,qs=P.entities.WorkItem,Ys=P.entities.OutOfOffice,Xs=P.entities.Peer,Qs=P.entities.Duty,Zs=P.entities.AgendaItem,er=P.entities.PersonalFileItem,tr=P.entities.DeveloperGoal,sr=P.entities.PerformanceEvaluation,rr=P.entities.DevOpsDuty,ar=P.entities.DutySchedule,nr=De.backup,it=De.auth,ha=Object.freeze(Object.defineProperty({__proto__:null,AgendaItem:Zs,Backup:nr,CalendarEvent:Gs,Comment:Js,DevOpsDuty:rr,DeveloperGoal:tr,Duty:Qs,DutySchedule:ar,Meeting:Ks,Notification:Ws,OneOnOne:ot,OutOfOffice:Ys,Peer:Xs,PerformanceEvaluation:sr,PersonalFileItem:er,Project:rt,Reminder:Hs,Stakeholder:at,Task:st,TaskAttribute:zs,TeamMember:nt,User:it,WorkItem:qs},Symbol.toStringTag,{value:"Module"})),Ne=o.forwardRef(({className:r,...t},s)=>e.jsx(qe,{ref:s,className:j("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...t}));Ne.displayName=qe.displayName;const or=o.forwardRef(({className:r,...t},s)=>e.jsx(Xe,{ref:s,className:j("aspect-square h-full w-full",r),...t}));or.displayName=Xe.displayName;const Te=o.forwardRef(({className:r,...t},s)=>e.jsx(Ye,{ref:s,className:j("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...t}));Te.displayName=Ye.displayName;const ct=o.createContext(null),pe=()=>{const r=o.useContext(ct);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},ir=({children:r})=>{const[t,s]=o.useState(!1),[a,n]=o.useState(null),[i,d]=o.useState(!0),[u,x]=o.useState(null);o.useEffect(()=>{(async()=>{try{if(x(null),G.isAuthenticated()){const h=await G.fetchCurrentUser();h?(n(h),s(!0)):(G.clearAuthData(),s(!1),n(null))}else s(!1),n(null)}catch(h){console.error("Failed to initialize authentication state:",h),x("Failed to initialize authentication. Please refresh the page."),s(!1),n(null)}finally{d(!1)}})()},[]);const A={isAuthenticated:t,user:a,login:async(p,h)=>{try{if(x(null),!p||!h)return{success:!1,error:"Please fill in all fields"};const l=await G.login(p,h);return l.success?(n(l.user),s(!0),{success:!0}):{success:!1,error:l.error||"Invalid username or password"}}catch(l){return console.error("Login failed:",l),{success:!1,error:"Authentication failed. Please try again."}}},logout:()=>{try{x(null),G.clearAuthData(),s(!1),n(null)}catch(p){console.error("Logout failed:",p),s(!1),n(null)}},loading:i,error:u,clearError:()=>{x(null)},refreshUser:async()=>{try{const p=await G.fetchCurrentUser();p&&n(p)}catch(p){console.error("Failed to refresh user:",p)}}};return e.jsx(ct.Provider,{value:A,children:r})},Ge="pe_manager_presentation_mode",lt=o.createContext(null),cr=()=>{const r=o.useContext(lt);if(!r)throw new Error("useDisplayMode must be used within a DisplayModeProvider");return r},lr=({children:r})=>{const[t,s]=o.useState(()=>{try{return localStorage.getItem(Ge)==="true"}catch{return!1}});o.useEffect(()=>{try{localStorage.setItem(Ge,t.toString())}catch(u){console.error("Failed to persist presentation mode:",u)}},[t]);const d={isPresentationMode:t,togglePresentationMode:()=>{s(u=>!u)},enablePresentationMode:()=>{s(!0)},disablePresentationMode:()=>{s(!1)}};return e.jsx(lt.Provider,{value:d,children:r})};function dr({children:r,currentPageName:t}){const[s,a]=o.useState(!1),[n,i]=o.useState(null),[d,u]=o.useState(!0),{logout:x,isAuthenticated:c}=pe(),{isPresentationMode:f,togglePresentationMode:w}=cr();o.useEffect(()=>{(async()=>{if(!c){i(null),u(!1);return}try{u(!0);const h=await it.me();i(h)}catch(h){console.error("Error fetching user data:",h),i(null)}finally{u(!1)}})()},[c]);const T=()=>{x()},A=[{name:"Tasks",icon:Ht,href:V("Tasks"),current:t==="Tasks"},{name:"Calendar",icon:Jt,href:V("Calendar"),current:t==="Calendar"},{name:"Duties",icon:qt,href:V("Duties"),current:t==="Duties"},{name:"Projects",icon:Yt,href:V("Projects"),current:t==="Projects"},{name:"Metrics",icon:Xt,href:V("Metrics"),current:t==="Metrics"},{name:"Team",icon:Qt,href:V("Team"),current:t==="Team"},{name:"Stakeholders",icon:Ve,href:V("Stakeholders"),current:t==="Stakeholders"},{name:"Peers",icon:Ve,href:V("Peers"),current:t==="Peers"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[s&&e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 lg:hidden",onClick:()=>a(!1)}),e.jsxs("div",{className:j("fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-200 ease-in-out lg:translate-x-0 overflow-y-auto",s?"translate-x-0":"-translate-x-full"),children:[e.jsx("div",{className:"sticky top-0 bg-white z-10 border-b",children:e.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Zt,{className:"h-8 w-8 text-indigo-600"}),e.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"P&E Manager"})]}),e.jsx("button",{onClick:()=>a(!1),className:"lg:hidden text-gray-500 hover:text-gray-700",children:e.jsx(Qe,{className:"h-5 w-5"})})]})}),e.jsxs("div",{className:"flex flex-col h-[calc(100%-4rem)] justify-between",children:[e.jsx("nav",{className:"flex-1 p-4 overflow-y-auto",children:e.jsx("div",{className:"space-y-1",children:A.map(p=>e.jsxs(Be,{to:p.href,onClick:()=>a(!1),className:j("flex items-center px-4 py-3 text-sm font-medium rounded-md",p.current?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-gray-100"),children:[e.jsx(p.icon,{className:"h-5 w-5 mr-3"}),p.name]},p.name))})}),e.jsxs("div",{className:"p-4 border-t",children:[d?e.jsxs("div",{className:"mb-4 px-4 py-3 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full animate-pulse"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-1"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-2/3"})]})]}):n?e.jsxs("div",{className:"mb-4 px-4 py-3 flex items-center gap-3",children:[e.jsx(Ne,{className:"h-10 w-10 bg-indigo-100",children:e.jsx(Te,{className:"text-indigo-700",children:n.name?.split(" ").map(p=>p[0]).join("").toUpperCase()||"U"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:n.name||"User"}),e.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["@",n.username||"user"]})]})]}):c&&e.jsxs("div",{className:"mb-4 px-4 py-3 flex items-center gap-3",children:[e.jsx(Ne,{className:"h-10 w-10 bg-gray-100",children:e.jsx(Te,{className:"text-gray-500",children:e.jsx(es,{className:"h-5 w-5"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"User"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:"Authenticated"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(Be,{to:V("Settings"),onClick:()=>a(!1),className:j("flex items-center px-4 py-3 text-sm font-medium rounded-md",t==="Settings"?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-gray-100"),children:[e.jsx(ts,{className:"h-5 w-5 mr-3"}),"Settings"]}),e.jsxs("button",{onClick:T,className:"w-full flex items-center px-4 py-3 text-sm font-medium rounded-md text-gray-700 hover:bg-gray-100",children:[e.jsx(ss,{className:"h-5 w-5 mr-3"}),"Log out"]})]})]})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0 lg:ml-64",children:[e.jsx("header",{className:j("sticky top-0 shadow-sm z-10 transition-colors",f?"bg-amber-50":"bg-white"),children:e.jsxs("div",{className:"flex justify-between items-center h-16 px-4 sm:px-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>a(!0),className:"lg:hidden text-gray-500 hover:text-gray-700 mr-4",children:e.jsx(rs,{className:"h-6 w-6"})}),e.jsxs("div",{className:"text-md font-medium text-gray-800",children:["P&E Manager ",t&&e.jsxs("span",{className:"text-gray-500",children:[" > ",t]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:w,className:j("flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-all",f?"bg-amber-100 text-amber-800 hover:bg-amber-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"),title:f?"Switch to Working Mode":"Switch to Presentation Mode",children:f?e.jsxs(e.Fragment,{children:[e.jsx(as,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Presenting"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ns,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Working"})]})})})]})}),e.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:r})]})]})}const X=o.forwardRef(({className:r,...t},s)=>e.jsx("div",{ref:s,className:j("rounded-xl border bg-card text-card-foreground shadow",r),...t}));X.displayName="Card";const se=o.forwardRef(({className:r,...t},s)=>e.jsx("div",{ref:s,className:j("flex flex-col space-y-1.5 p-6",r),...t}));se.displayName="CardHeader";const Oe=o.forwardRef(({className:r,...t},s)=>e.jsx("div",{ref:s,className:j("font-semibold leading-none tracking-tight",r),...t}));Oe.displayName="CardTitle";const Ie=o.forwardRef(({className:r,...t},s)=>e.jsx("div",{ref:s,className:j("text-sm text-muted-foreground",r),...t}));Ie.displayName="CardDescription";const Q=o.forwardRef(({className:r,...t},s)=>e.jsx("div",{ref:s,className:j("p-6 pt-0",r),...t}));Q.displayName="CardContent";const ur=o.forwardRef(({className:r,...t},s)=>e.jsx("div",{ref:s,className:j("flex items-center p-6 pt-0",r),...t}));ur.displayName="CardFooter";const mr=he("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),J=o.forwardRef(({className:r,variant:t,size:s,asChild:a=!1,...n},i)=>{const d=a?os:"button";return e.jsx(d,{className:j(mr({variant:t,size:s,className:r})),ref:i,...n})});J.displayName="Button";const Ee=o.forwardRef(({className:r,type:t,...s},a)=>e.jsx("input",{type:t,className:j("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:a,...s}));Ee.displayName="Input";const fr=he("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Se=o.forwardRef(({className:r,...t},s)=>e.jsx(Ze,{ref:s,className:j(fr(),r),...t}));Se.displayName=Ze.displayName;const hr=he("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),_e=o.forwardRef(({className:r,variant:t,...s},a)=>e.jsx("div",{ref:a,role:"alert",className:j(hr({variant:t}),r),...s}));_e.displayName="Alert";const pr=o.forwardRef(({className:r,...t},s)=>e.jsx("h5",{ref:s,className:j("mb-1 font-medium leading-none tracking-tight",r),...t}));pr.displayName="AlertTitle";const Pe=o.forwardRef(({className:r,...t},s)=>e.jsx("div",{ref:s,className:j("text-sm [&_p]:leading-relaxed",r),...t}));Pe.displayName="AlertDescription";const xr=()=>{const[r,t]=o.useState({username:"",password:""}),[s,a]=o.useState({}),[n,i]=o.useState(!1),[d,u]=o.useState(""),[x,c]=o.useState(0),{login:f,error:w,clearError:T}=pe(),A=()=>{const l={};return r.username.trim()||(l.username="Username is required"),r.password.trim()||(l.password="Password is required"),a(l),Object.keys(l).length===0},p=l=>{const{name:N,value:g}=l.target;t(v=>({...v,[N]:g})),s[N]&&a(v=>({...v,[N]:""})),d&&u(""),w&&T&&T()},h=async l=>{if(l.preventDefault(),!!A()){i(!0),u("");try{const N=await f(r.username,r.password);if(N.success)c(0);else{c(v=>v+1);let g=N.error||"Login failed. Please try again.";x>=2&&N.error?.includes("Invalid username or password")?g='Invalid username or password. Default credentials are username: "admin", password: "password123"':x>=1&&N.error?.includes("storage")&&(g=`${N.error} Try refreshing the page or using a different browser.`),u(g)}}catch(N){console.error("Login error:",N),c(v=>v+1);let g="Authentication failed. Please try again.";N.type==="STORAGE_UNAVAILABLE"?g="Browser storage is not available. Please enable cookies and local storage.":N.type==="STORAGE_QUOTA_EXCEEDED"?g="Browser storage is full. Please clear some browser data and try again.":x>=2&&(g="Repeated authentication failures. Please refresh the page or contact support."),u(g)}finally{i(!1)}}};return e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:e.jsxs(X,{className:"w-full max-w-md",children:[e.jsxs(se,{className:"space-y-1",children:[e.jsx(Oe,{className:"text-2xl font-bold text-center",children:"Sign In"}),e.jsx(Ie,{className:"text-center",children:"Enter your credentials to access the application"})]}),e.jsx(Q,{children:e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[w&&e.jsx(_e,{variant:"destructive",children:e.jsx(Pe,{children:w})}),d&&e.jsx(_e,{variant:"destructive",children:e.jsx(Pe,{children:d})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Se,{htmlFor:"username",children:"Username"}),e.jsx(Ee,{id:"username",name:"username",type:"text",placeholder:"Enter your username",value:r.username,onChange:p,className:s.username?"border-destructive":"",disabled:n}),s.username&&e.jsx("p",{className:"text-sm text-destructive",children:s.username})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Se,{htmlFor:"password",children:"Password"}),e.jsx(Ee,{id:"password",name:"password",type:"password",placeholder:"Enter your password",value:r.password,onChange:p,className:s.password?"border-destructive":"",disabled:n}),s.password&&e.jsx("p",{className:"text-sm text-destructive",children:s.password})]}),e.jsx(J,{type:"submit",className:"w-full",disabled:n,children:n?"Signing In...":"Sign In"}),x>=1&&e.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-md",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:e.jsx("strong",{children:"Having trouble signing in?"})}),e.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[e.jsxs("li",{children:["• Default username: ",e.jsx("code",{className:"bg-background px-1 rounded",children:"admin"})]}),e.jsxs("li",{children:["• Default password: ",e.jsx("code",{className:"bg-background px-1 rounded",children:"password123"})]}),e.jsx("li",{children:"• Make sure cookies and local storage are enabled"}),e.jsx("li",{children:"• Try refreshing the page if you see storage errors"})]})]})]})})]})})},gr=({size:r="md",className:t="",text:s="",showText:a=!1,variant:n="primary"})=>{const i={xs:"h-3 w-3",sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},d={primary:"text-indigo-600",secondary:"text-gray-600",white:"text-white",muted:"text-gray-400"},u={xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"};return e.jsxs("div",{className:j("flex items-center justify-center",t),children:[e.jsx(is,{className:j("animate-spin",i[r],d[n])}),(a||s)&&e.jsx("span",{className:j("ml-2",u[r],d[n]),children:s||"Loading..."})]})},yr=({children:r})=>{const{isAuthenticated:t,loading:s}=pe();return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(gr,{})}):t?r:e.jsx(xr,{})};function m({className:r,...t}){return e.jsx("div",{className:j("animate-pulse rounded-md bg-primary/10",r),...t})}function vr(){return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[e.jsx(m,{className:"h-9 w-48 mb-4 sm:mb-0"}),e.jsx(m,{className:"h-10 w-32"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{className:"h-12 w-full"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((r,t)=>e.jsxs(X,{children:[e.jsxs(se,{children:[e.jsx(m,{className:"h-6 w-3/4"}),e.jsx(m,{className:"h-4 w-1/2"})]}),e.jsx(Q,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(m,{className:"h-4 w-full"}),e.jsx(m,{className:"h-4 w-2/3"}),e.jsx(m,{className:"h-4 w-1/3"})]})})]},t))})]})]})})}function wr(){return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[e.jsx(m,{className:"h-9 w-24 mb-4 sm:mb-0"}),e.jsx(m,{className:"h-10 w-28"})]}),e.jsx("div",{className:"mb-6 p-4 border rounded-lg",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx(m,{className:"h-10 w-32"}),e.jsx(m,{className:"h-10 w-32"}),e.jsx(m,{className:"h-10 w-32"}),e.jsx(m,{className:"h-10 w-48"})]})}),e.jsx("div",{className:"space-y-4",children:Array.from({length:8}).map((r,t)=>e.jsx(X,{children:e.jsx(Q,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"h-4 w-4 rounded"}),e.jsx(m,{className:"h-5 w-3/4"})]}),e.jsx(m,{className:"h-4 w-1/2"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{className:"h-6 w-16 rounded-full"}),e.jsx(m,{className:"h-6 w-20 rounded-full"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{className:"h-8 w-8 rounded"}),e.jsx(m,{className:"h-8 w-8 rounded"})]})]})})},t))})]})})}function jr(){return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"space-y-4 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{className:"h-7 w-40"}),e.jsx("div",{className:"flex space-x-2",children:Array.from({length:5}).map((r,t)=>e.jsx(m,{className:"h-10 w-10 rounded"},t))})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"flex gap-2 p-1 bg-gray-100 rounded-lg",children:Array.from({length:4}).map((r,t)=>e.jsx(m,{className:"h-8 w-20 rounded"},t))})})]}),e.jsxs("div",{className:"bg-white rounded-lg border",children:[e.jsx("div",{className:"grid grid-cols-7 border-b",children:Array.from({length:7}).map((r,t)=>e.jsx("div",{className:"p-2 text-center",children:e.jsx(m,{className:"h-4 w-16 mx-auto"})},t))}),e.jsx("div",{className:"grid grid-cols-7",children:Array.from({length:35}).map((r,t)=>e.jsxs("div",{className:"min-h-[120px] p-2 border-r border-b",children:[e.jsx(m,{className:"h-4 w-6 mb-2"}),e.jsxs("div",{className:"space-y-1",children:[Math.random()>.5&&e.jsx(m,{className:"h-6 w-full rounded"}),Math.random()>.7&&e.jsx(m,{className:"h-6 w-3/4 rounded"})]})]},t))})]})]})})}function br(){return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[e.jsx(m,{className:"h-9 w-48"}),e.jsx(m,{className:"h-10 w-40"})]}),e.jsx("div",{className:"relative mb-6",children:e.jsx(m,{className:"h-10 w-full"})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((r,t)=>e.jsxs(X,{children:[e.jsxs(se,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(m,{className:"h-12 w-12 rounded-full"}),e.jsxs("div",{children:[e.jsx(m,{className:"h-6 w-32 mb-1"}),e.jsx(m,{className:"h-4 w-24"})]})]}),e.jsx(m,{className:"h-8 w-8 rounded"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[e.jsx(m,{className:"h-6 w-20 rounded-full"}),e.jsx(m,{className:"h-6 w-16 rounded-full"})]})]}),e.jsxs(Q,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(m,{className:"h-4 w-16 mb-2"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.jsx(m,{className:"h-5 w-12 rounded-full"}),e.jsx(m,{className:"h-5 w-16 rounded-full"}),e.jsx(m,{className:"h-5 w-14 rounded-full"})]})]}),e.jsx(m,{className:"h-4 w-full"}),e.jsx(m,{className:"h-4 w-3/4"})]})]},t))})]})})}const M=(r,t=3,s=1e3)=>r().catch(a=>{if(t>0)return console.warn(`Failed to load chunk, retrying... (${t} attempts left)`,a),new Promise((n,i)=>{setTimeout(()=>{M(r,t-1,s*1.5).then(n).catch(i)},s)});throw console.error("Failed to load chunk after all retries:",a),a});class Nr extends o.Component{constructor(t){super(t),this.state={hasError:!1,error:null,retryCount:0,isRetrying:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){console.error("Page chunk loading error:",t,s),window.reportError&&window.reportError(t,{context:"page_chunk_loading",page:this.props.pageName,errorInfo:s})}handleRetry=async()=>{this.setState({isRetrying:!0});try{await new Promise(t=>setTimeout(t,1500)),this.setState({hasError:!1,error:null,retryCount:this.state.retryCount+1,isRetrying:!1})}catch{this.setState({isRetrying:!1})}};handleGoBack=()=>{window.history.length>1?window.history.back():window.location.href="/"};render(){if(this.state.hasError){const{retryCount:t,isRetrying:s}=this.state,{pageName:a="page"}=this.props;return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gray-50",children:e.jsx("div",{className:"max-w-lg w-full bg-white rounded-lg shadow-sm border p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e.jsx(cs,{className:"h-6 w-6 text-red-600"})}),e.jsxs("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:["Failed to load ",a]}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We're having trouble loading this page. This could be due to a network issue or a temporary problem with the application."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(J,{onClick:this.handleRetry,disabled:s,className:"w-full",children:s?e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"mr-2 h-4 w-4"}),"Try Again"]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(J,{onClick:this.handleGoBack,variant:"outline",className:"flex-1",children:[e.jsx(ls,{className:"mr-2 h-4 w-4"}),"Go Back"]}),e.jsxs(J,{onClick:()=>window.location.reload(),variant:"outline",className:"flex-1",children:[e.jsx(de,{className:"mr-2 h-4 w-4"}),"Reload"]})]})]}),t>0&&e.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Retry attempts: ",t]})]})})})}return this.props.children}}function Tr(){return e.jsx(vr,{})}function Er(){return e.jsx(wr,{})}function Sr(){return e.jsx(jr,{})}function _r(){return e.jsx(br,{})}const Ce=o.lazy(()=>M(()=>L(()=>import("./Tasks-BdRcCZjt.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15])),3,1e3)),dt=o.lazy(()=>M(()=>L(()=>import("./Calendar-DpZ93BG5.js"),__vite__mapDeps([16,1,2,6,7,3,4,5,8,9,10])),3,1e3)),ut=o.lazy(()=>M(()=>L(()=>import("./Metrics-BJmgwBnA.js"),__vite__mapDeps([17,1,2,6,7,3,4,5,8,9,10,18])),3,1e3)),mt=o.lazy(()=>M(()=>L(()=>import("./Stakeholders-pyeasu6l.js"),__vite__mapDeps([19,1,2,20,6,7,21])),3,1e3)),ft=o.lazy(()=>M(()=>L(()=>import("./Projects-c0efKRnD.js"),__vite__mapDeps([22,1,2,6,7,23,24,12,5,8,10,9,18])),3,1e3)),ht=o.lazy(()=>M(()=>L(()=>import("./Settings-D3va38NH.js"),__vite__mapDeps([25,1,2,26,15,6,7,12,14])),3,1e3)),pt=o.lazy(()=>M(()=>L(()=>import("./Team-CjoUkPjK.js"),__vite__mapDeps([27,1,2,5,6,7,21,12,10,9,20])),3,1e3)),xt=o.lazy(()=>M(()=>L(()=>import("./ProjectDetails-Dz7IGJUI.js"),__vite__mapDeps([28,1,2,4,6,7,26,24,11,12,5,13,14,9])),3,1e3)),gt=o.lazy(()=>M(()=>L(()=>import("./TeamMemberProfile-CzpK8CYV.js"),__vite__mapDeps([29,1,2,20,6,7,5,8,15,10,9,30,23])),3,1e3)),yt=o.lazy(()=>M(()=>L(()=>import("./Peers-DDwnuQXd.js"),__vite__mapDeps([31,1,2,32,5,6,7,12,10,9,13,14])),3,1e3)),vt=o.lazy(()=>M(()=>L(()=>import("./PeerProfile-DZTIg7ve.js"),__vite__mapDeps([33,1,2,32,6,7,8,15])),3,1e3)),wt=o.lazy(()=>M(()=>L(()=>import("./Duties-DjvVrzTR.js"),__vite__mapDeps([34,1,2,6,7,5,12,30])),3,1e3)),We={Tasks:Ce,Calendar:dt,Metrics:ut,Stakeholders:mt,Projects:ft,Settings:ht,Team:pt,ProjectDetails:xt,TeamMemberProfile:gt,Peers:yt,PeerProfile:vt,Duties:wt};function Pr(r){r.endsWith("/")&&(r=r.slice(0,-1));let t=r.split("/").pop();return t.includes("?")&&(t=t.split("?")[0]),Object.keys(We).find(a=>a.toLowerCase()===t.toLowerCase())||Object.keys(We)[0]}function Cr(r){const t=r.toLowerCase();return t.includes("tasks")||t==="/"?e.jsx(Er,{}):t.includes("calendar")?e.jsx(Sr,{}):t.includes("team")?e.jsx(_r,{}):e.jsx(Tr,{})}function Ar(){const r=Ts(),t=Pr(r.pathname),s=Cr(r.pathname);return e.jsx(dr,{currentPageName:t,children:e.jsx(Nr,{pageName:t,children:e.jsx(o.Suspense,{fallback:s,children:e.jsxs(Es,{children:[e.jsx(I,{path:"/",element:e.jsx(Ce,{})}),e.jsx(I,{path:"/Tasks",element:e.jsx(Ce,{})}),e.jsx(I,{path:"/Calendar",element:e.jsx(dt,{})}),e.jsx(I,{path:"/Metrics",element:e.jsx(ut,{})}),e.jsx(I,{path:"/Stakeholders",element:e.jsx(mt,{})}),e.jsx(I,{path:"/Projects",element:e.jsx(ft,{})}),e.jsx(I,{path:"/Settings",element:e.jsx(ht,{})}),e.jsx(I,{path:"/Team",element:e.jsx(pt,{})}),e.jsx(I,{path:"/ProjectDetails",element:e.jsx(xt,{})}),e.jsx(I,{path:"/TeamMemberProfile",element:e.jsx(gt,{})}),e.jsx(I,{path:"/Peers",element:e.jsx(yt,{})}),e.jsx(I,{path:"/PeerProfile",element:e.jsx(vt,{})}),e.jsx(I,{path:"/Duties",element:e.jsx(wt,{})})]})})})})}function kr(){return e.jsx(Ns,{children:e.jsx(yr,{children:e.jsx(Ar,{})})})}const Rr=20,Dr=1e6,B={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let we=0;function Or(){return we=(we+1)%Number.MAX_VALUE,we.toString()}const je=new Map,He=r=>{if(je.has(r))return;const t=setTimeout(()=>{je.delete(r),te({type:B.REMOVE_TOAST,toastId:r})},Dr);je.set(r,t)},Ir=(r,t)=>{switch(t.type){case B.ADD_TOAST:return{...r,toasts:[t.toast,...r.toasts].slice(0,Rr)};case B.UPDATE_TOAST:return{...r,toasts:r.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case B.DISMISS_TOAST:{const{toastId:s}=t;return s?He(s):r.toasts.forEach(a=>{He(a.id)}),{...r,toasts:r.toasts.map(a=>a.id===s||s===void 0?{...a,open:!1}:a)}}case B.REMOVE_TOAST:return t.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(s=>s.id!==t.toastId)}}},ue=[];let me={toasts:[]};function te(r){me=Ir(me,r),ue.forEach(t=>{t(me)})}function Mr({...r}){const t=Or(),s=n=>te({type:B.UPDATE_TOAST,toast:{...n,id:t}}),a=()=>te({type:B.DISMISS_TOAST,toastId:t});return te({type:B.ADD_TOAST,toast:{...r,id:t,open:!0,onOpenChange:n=>{n||a()}}}),{id:t,dismiss:a,update:s}}function Lr(){const[r,t]=o.useState(me);return o.useEffect(()=>(ue.push(t),()=>{const s=ue.indexOf(t);s>-1&&ue.splice(s,1)}),[r]),{...r,toast:Mr,dismiss:s=>te({type:B.DISMISS_TOAST,toastId:s})}}var Me="ToastProvider",[Le,Fr,$r]=ds("Toast"),[jt,pa]=us("Toast",[$r]),[Ur,xe]=jt(Me),bt=r=>{const{__scopeToast:t,label:s="Notification",duration:a=5e3,swipeDirection:n="right",swipeThreshold:i=50,children:d}=r,[u,x]=o.useState(null),[c,f]=o.useState(0),w=o.useRef(!1),T=o.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${Me}\`. Expected non-empty \`string\`.`),e.jsx(Le.Provider,{scope:t,children:e.jsx(Ur,{scope:t,label:s,duration:a,swipeDirection:n,swipeThreshold:i,toastCount:c,viewport:u,onViewportChange:x,onToastAdd:o.useCallback(()=>f(A=>A+1),[]),onToastRemove:o.useCallback(()=>f(A=>A-1),[]),isFocusedToastEscapeKeyDownRef:w,isClosePausedRef:T,children:d})})};bt.displayName=Me;var Nt="ToastViewport",Vr=["F8"],Ae="toast.viewportPause",ke="toast.viewportResume",Tt=o.forwardRef((r,t)=>{const{__scopeToast:s,hotkey:a=Vr,label:n="Notifications ({hotkey})",...i}=r,d=xe(Nt,s),u=Fr(s),x=o.useRef(null),c=o.useRef(null),f=o.useRef(null),w=o.useRef(null),T=et(t,w,d.onViewportChange),A=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=d.toastCount>0;o.useEffect(()=>{const l=N=>{a.length!==0&&a.every(v=>N[v]||N.code===v)&&w.current?.focus()};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[a]),o.useEffect(()=>{const l=x.current,N=w.current;if(p&&l&&N){const g=()=>{if(!d.isClosePausedRef.current){const k=new CustomEvent(Ae);N.dispatchEvent(k),d.isClosePausedRef.current=!0}},v=()=>{if(d.isClosePausedRef.current){const k=new CustomEvent(ke);N.dispatchEvent(k),d.isClosePausedRef.current=!1}},D=k=>{!l.contains(k.relatedTarget)&&v()},O=()=>{l.contains(document.activeElement)||v()};return l.addEventListener("focusin",g),l.addEventListener("focusout",D),l.addEventListener("pointermove",g),l.addEventListener("pointerleave",O),window.addEventListener("blur",g),window.addEventListener("focus",v),()=>{l.removeEventListener("focusin",g),l.removeEventListener("focusout",D),l.removeEventListener("pointermove",g),l.removeEventListener("pointerleave",O),window.removeEventListener("blur",g),window.removeEventListener("focus",v)}}},[p,d.isClosePausedRef]);const h=o.useCallback(({tabbingDirection:l})=>{const g=u().map(v=>{const D=v.ref.current,O=[D,...ea(D)];return l==="forwards"?O:O.reverse()});return(l==="forwards"?g.reverse():g).flat()},[u]);return o.useEffect(()=>{const l=w.current;if(l){const N=g=>{const v=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!v){const O=document.activeElement,k=g.shiftKey;if(g.target===l&&k){c.current?.focus();return}const W=h({tabbingDirection:k?"backwards":"forwards"}),b=W.findIndex(H=>H===O);be(W.slice(b+1))?g.preventDefault():k?c.current?.focus():f.current?.focus()}};return l.addEventListener("keydown",N),()=>l.removeEventListener("keydown",N)}},[u,h]),e.jsxs(hs,{ref:x,role:"region","aria-label":n.replace("{hotkey}",A),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&e.jsx(Re,{ref:c,onFocusFromOutsideViewport:()=>{const l=h({tabbingDirection:"forwards"});be(l)}}),e.jsx(Le.Slot,{scope:s,children:e.jsx(Y.ol,{tabIndex:-1,...i,ref:T})}),p&&e.jsx(Re,{ref:f,onFocusFromOutsideViewport:()=>{const l=h({tabbingDirection:"backwards"});be(l)}})]})});Tt.displayName=Nt;var Et="ToastFocusProxy",Re=o.forwardRef((r,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:a,...n}=r,i=xe(Et,s);return e.jsx(tt,{"aria-hidden":!0,tabIndex:0,...n,ref:t,style:{position:"fixed"},onFocus:d=>{const u=d.relatedTarget;!i.viewport?.contains(u)&&a()}})});Re.displayName=Et;var re="Toast",Br="toast.swipeStart",zr="toast.swipeMove",Kr="toast.swipeCancel",Gr="toast.swipeEnd",St=o.forwardRef((r,t)=>{const{forceMount:s,open:a,defaultOpen:n,onOpenChange:i,...d}=r,[u,x]=ms({prop:a,defaultProp:n??!0,onChange:i,caller:re});return e.jsx(fs,{present:s||u,children:e.jsx(Jr,{open:u,...d,ref:t,onClose:()=>x(!1),onPause:fe(r.onPause),onResume:fe(r.onResume),onSwipeStart:$(r.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:$(r.onSwipeMove,c=>{const{x:f,y:w}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${w}px`)}),onSwipeCancel:$(r.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:$(r.onSwipeEnd,c=>{const{x:f,y:w}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${w}px`),x(!1)})})})});St.displayName=re;var[Wr,Hr]=jt(re,{onClose(){}}),Jr=o.forwardRef((r,t)=>{const{__scopeToast:s,type:a="foreground",duration:n,open:i,onClose:d,onEscapeKeyDown:u,onPause:x,onResume:c,onSwipeStart:f,onSwipeMove:w,onSwipeCancel:T,onSwipeEnd:A,...p}=r,h=xe(re,s),[l,N]=o.useState(null),g=et(t,y=>N(y)),v=o.useRef(null),D=o.useRef(null),O=n||h.duration,k=o.useRef(0),F=o.useRef(O),z=o.useRef(0),{onToastAdd:W,onToastRemove:b}=h,H=fe(()=>{l?.contains(document.activeElement)&&h.viewport?.focus(),d()}),ae=o.useCallback(y=>{!y||y===1/0||(window.clearTimeout(z.current),k.current=new Date().getTime(),z.current=window.setTimeout(H,y))},[H]);o.useEffect(()=>{const y=h.viewport;if(y){const U=()=>{ae(F.current),c?.()},K=()=>{const Z=new Date().getTime()-k.current;F.current=F.current-Z,window.clearTimeout(z.current),x?.()};return y.addEventListener(Ae,K),y.addEventListener(ke,U),()=>{y.removeEventListener(Ae,K),y.removeEventListener(ke,U)}}},[h.viewport,O,x,c,ae]),o.useEffect(()=>{i&&!h.isClosePausedRef.current&&ae(O)},[i,O,h.isClosePausedRef,ae]),o.useEffect(()=>(W(),()=>b()),[W,b]);const $e=o.useMemo(()=>l?Dt(l):null,[l]);return h.viewport?e.jsxs(e.Fragment,{children:[$e&&e.jsx(qr,{__scopeToast:s,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:$e}),e.jsx(Wr,{scope:s,onClose:H,children:Ss.createPortal(e.jsx(Le.ItemSlot,{scope:s,children:e.jsx(ps,{asChild:!0,onEscapeKeyDown:$(u,()=>{h.isFocusedToastEscapeKeyDownRef.current||H(),h.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(Y.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":h.swipeDirection,...p,ref:g,style:{userSelect:"none",touchAction:"none",...r.style},onKeyDown:$(r.onKeyDown,y=>{y.key==="Escape"&&(u?.(y.nativeEvent),y.nativeEvent.defaultPrevented||(h.isFocusedToastEscapeKeyDownRef.current=!0,H()))}),onPointerDown:$(r.onPointerDown,y=>{y.button===0&&(v.current={x:y.clientX,y:y.clientY})}),onPointerMove:$(r.onPointerMove,y=>{if(!v.current)return;const U=y.clientX-v.current.x,K=y.clientY-v.current.y,Z=!!D.current,ee=["left","right"].includes(h.swipeDirection),ne=["left","up"].includes(h.swipeDirection)?Math.min:Math.max,Gt=ee?ne(0,U):0,Wt=ee?0:ne(0,K),ge=y.pointerType==="touch"?10:2,oe={x:Gt,y:Wt},Ue={originalEvent:y,delta:oe};Z?(D.current=oe,le(zr,w,Ue,{discrete:!1})):Je(oe,h.swipeDirection,ge)?(D.current=oe,le(Br,f,Ue,{discrete:!1}),y.target.setPointerCapture(y.pointerId)):(Math.abs(U)>ge||Math.abs(K)>ge)&&(v.current=null)}),onPointerUp:$(r.onPointerUp,y=>{const U=D.current,K=y.target;if(K.hasPointerCapture(y.pointerId)&&K.releasePointerCapture(y.pointerId),D.current=null,v.current=null,U){const Z=y.currentTarget,ee={originalEvent:y,delta:U};Je(U,h.swipeDirection,h.swipeThreshold)?le(Gr,A,ee,{discrete:!0}):le(Kr,T,ee,{discrete:!0}),Z.addEventListener("click",ne=>ne.preventDefault(),{once:!0})}})})})}),h.viewport)})]}):null}),qr=r=>{const{__scopeToast:t,children:s,...a}=r,n=xe(re,t),[i,d]=o.useState(!1),[u,x]=o.useState(!1);return Qr(()=>d(!0)),o.useEffect(()=>{const c=window.setTimeout(()=>x(!0),1e3);return()=>window.clearTimeout(c)},[]),u?null:e.jsx(xs,{asChild:!0,children:e.jsx(tt,{...a,children:i&&e.jsxs(e.Fragment,{children:[n.label," ",s]})})})},Yr="ToastTitle",_t=o.forwardRef((r,t)=>{const{__scopeToast:s,...a}=r;return e.jsx(Y.div,{...a,ref:t})});_t.displayName=Yr;var Xr="ToastDescription",Pt=o.forwardRef((r,t)=>{const{__scopeToast:s,...a}=r;return e.jsx(Y.div,{...a,ref:t})});Pt.displayName=Xr;var Ct="ToastAction",At=o.forwardRef((r,t)=>{const{altText:s,...a}=r;return s.trim()?e.jsx(Rt,{altText:s,asChild:!0,children:e.jsx(Fe,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ct}\`. Expected non-empty \`string\`.`),null)});At.displayName=Ct;var kt="ToastClose",Fe=o.forwardRef((r,t)=>{const{__scopeToast:s,...a}=r,n=Hr(kt,s);return e.jsx(Rt,{asChild:!0,children:e.jsx(Y.button,{type:"button",...a,ref:t,onClick:$(r.onClick,n.onClose)})})});Fe.displayName=kt;var Rt=o.forwardRef((r,t)=>{const{__scopeToast:s,altText:a,...n}=r;return e.jsx(Y.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...n,ref:t})});function Dt(r){const t=[];return Array.from(r.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),Zr(a)){const n=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!n)if(i){const d=a.dataset.radixToastAnnounceAlt;d&&t.push(d)}else t.push(...Dt(a))}}),t}function le(r,t,s,{discrete:a}){const n=s.originalEvent.currentTarget,i=new CustomEvent(r,{bubbles:!0,cancelable:!0,detail:s});t&&n.addEventListener(r,t,{once:!0}),a?ys(n,i):n.dispatchEvent(i)}var Je=(r,t,s=0)=>{const a=Math.abs(r.x),n=Math.abs(r.y),i=a>n;return t==="left"||t==="right"?i&&a>s:!i&&n>s};function Qr(r=()=>{}){const t=fe(r);gs(()=>{let s=0,a=0;return s=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(a)}},[t])}function Zr(r){return r.nodeType===r.ELEMENT_NODE}function ea(r){const t=[],s=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function be(r){const t=document.activeElement;return r.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var ta=bt,Ot=Tt,It=St,Mt=_t,Lt=Pt,Ft=At,$t=Fe;const sa=ta,Ut=o.forwardRef(({className:r,...t},s)=>e.jsx(Ot,{ref:s,className:j("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r),...t}));Ut.displayName=Ot.displayName;const ra=he("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Vt=o.forwardRef(({className:r,variant:t,...s},a)=>e.jsx(It,{ref:a,className:j(ra({variant:t}),r),...s}));Vt.displayName=It.displayName;const aa=o.forwardRef(({className:r,...t},s)=>e.jsx(Ft,{ref:s,className:j("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r),...t}));aa.displayName=Ft.displayName;const Bt=o.forwardRef(({className:r,...t},s)=>e.jsx($t,{ref:s,className:j("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":"",...t,children:e.jsx(Qe,{className:"h-4 w-4"})}));Bt.displayName=$t.displayName;const zt=o.forwardRef(({className:r,...t},s)=>e.jsx(Mt,{ref:s,className:j("text-sm font-semibold",r),...t}));zt.displayName=Mt.displayName;const Kt=o.forwardRef(({className:r,...t},s)=>e.jsx(Lt,{ref:s,className:j("text-sm opacity-90",r),...t}));Kt.displayName=Lt.displayName;function na(){const{toasts:r}=Lr();return e.jsxs(sa,{children:[r.map(function({id:t,title:s,description:a,action:n,...i}){return e.jsxs(Vt,{...i,children:[e.jsxs("div",{className:"grid gap-1",children:[s&&e.jsx(zt,{children:s}),a&&e.jsx(Kt,{children:a})]}),n,e.jsx(Bt,{})]},t)}),e.jsx(Ut,{})]})}class oa extends R.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null,errorId:null}}static getDerivedStateFromError(t){return{hasError:!0,errorId:Date.now().toString()}}componentDidCatch(t,s){console.error("Error caught by boundary:",t,s),this.setState({error:t,errorInfo:s}),this.props.onError&&this.props.onError(t,s)}handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null})};handleGoHome=()=>{this.handleRetry(),window.location.href="/"};render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs(X,{className:"w-full max-w-md",children:[e.jsxs(se,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 p-3 bg-red-100 rounded-full w-fit",children:e.jsx(vs,{className:"h-8 w-8 text-red-600"})}),e.jsx(Oe,{className:"text-xl text-gray-900",children:"Something went wrong"}),e.jsx(Ie,{children:this.props.fallbackMessage||"We're sorry, but something unexpected happened. Please try again."})]}),e.jsxs(Q,{className:"space-y-4",children:[!1,this.state.errorId&&e.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Error ID: ",this.state.errorId]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(J,{onClick:this.handleRetry,variant:"outline",className:"flex-1",children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Try Again"]}),e.jsxs(J,{onClick:this.handleGoHome,className:"flex-1",children:[e.jsx(ws,{className:"h-4 w-4 mr-2"}),"Go Home"]})]})]})]})}):this.props.children}}class ia{static MIGRATION_VERSION="1.0.0";static MIGRATION_KEY="pe_manager_migration_version";static async runMigrations(){localStorage.getItem(this.MIGRATION_KEY)!==this.MIGRATION_VERSION&&(C.info("Running data migrations..."),await this.migrateTasksSchema(),await this.migrateProjectsSchema(),await this.migrateStakeholdersSchema(),await this.migrateTeamMembersSchema(),await this.migrateOneOnOnesSchema(),await this.migrateTaskAttributesSchema(),localStorage.setItem(this.MIGRATION_KEY,this.MIGRATION_VERSION),C.info("Data migration completed successfully"))}static async migrateTasksSchema(){const t=this.getData("tasks");if(!t.length)return;const s=t.map(a=>({...a,due_date:a.due_date||null,assignee:a.assignee||null,estimated_hours:a.estimated_hours||null,actual_hours:a.actual_hours||null,completion_date:a.completion_date||(a.status==="done"?a.updated_date:null)}));this.setData("tasks",s),C.info("Migrated tasks",{count:s.length})}static async migrateProjectsSchema(){const t=this.getData("projects");if(!t.length)return;const s=t.map(a=>({...a,deadline:a.deadline||null,budget:a.budget||null,cost:a.cost||null,priority_level:a.priority_level||"medium",progress_percentage:a.progress_percentage||0}));this.setData("projects",s),C.info("Migrated projects",{count:s.length})}static async migrateStakeholdersSchema(){const t=this.getData("stakeholders");if(!t.length)return;const s=t.map(a=>{const n={...a,phone:a.phone||null,contact_info:a.contact_info||null,company:a.company||a.organization||null};return delete n.organization,n});this.setData("stakeholders",s),C.info("Migrated stakeholders",{count:s.length})}static async migrateTeamMembersSchema(){const t=this.getData("team_members");if(!t.length)return;const s=t.map(a=>({...a,phone:a.phone||null,company:a.company||null,leave_from:a.leave_from||null,leave_to:a.leave_to||null,leave_title:a.leave_title||null,last_activity:a.last_activity||null}));this.setData("team_members",s),C.info("Migrated team members",{count:s.length})}static async migrateOneOnOnesSchema(){const t=this.getData("one_on_ones");if(!t.length)return;const s=t.map(a=>{const n={...a,updated_date:a.updated_date||a.created_date,status:a.status||"scheduled",location:a.location||null,team_member_id:a.team_member_id||a.participant_id||null};return delete n.participant_id,n});this.setData("one_on_ones",s),C.info("Migrated one-on-ones",{count:s.length})}static async migrateTaskAttributesSchema(){const t=this.getData("task_attributes");if(!t.length)return;const s=t.map(a=>({...a,updated_date:a.updated_date||a.created_date}));this.setData("task_attributes",s),C.info("Migrated task attributes",{count:s.length})}static getData(t){try{const s=localStorage.getItem(t);return s?JSON.parse(s):[]}catch(s){return C.error("Error reading data from localStorage",{key:t,error:String(s)}),[]}}static setData(t,s){try{localStorage.setItem(t,JSON.stringify(s))}catch(a){throw C.error("Error saving data to localStorage",{key:t,error:String(a)}),a}}static async calculateLastActivity(){const t=this.getData("team_members"),s=this.getData("tasks"),a=this.getData("meetings"),n=t.map(i=>{let d=null;const u=s.filter(f=>f.metadata?.meeting?.participants?.includes(i.name)),x=a.filter(f=>f.participants?.includes(i.id)||f.participants?.includes(i.name)),c=[...u.map(f=>({date:f.updated_date||f.created_date,type:"task"})),...x.map(f=>({date:f.updated_date||f.created_date,type:"meeting"}))];return c.length>0&&(d=c.sort((w,T)=>new Date(T.date)-new Date(w.date))[0].date),{...i,last_activity:d}});this.setData("team_members",n),C.info("Updated last_activity for all team members")}}function ca(){return o.useEffect(()=>{ia.runMigrations().catch(r=>{C.error("Data migration failed",{error:String(r)})})},[]),e.jsxs(oa,{fallbackMessage:"The application encountered an error. Please refresh the page or try again later.",children:[e.jsx(kr,{}),e.jsx(na,{})]})}const la=R.createContext(null);function da({children:r}){const{isAuthenticated:t,loading:s}=pe(),[a,n]=R.useState([]),[i,d]=R.useState([]),[u,x]=R.useState([]),[c,f]=R.useState([]),[w,T]=R.useState([]),[A,p]=R.useState(!0),[h,l]=R.useState(null),[N,g]=R.useState(!1),v=R.useCallback(async()=>{try{const b=await rt.list("-created_date");n(Array.isArray(b)?b:[])}catch(b){C.error("Failed to load projects (context)",{error:String(b)}),l("Failed to load projects")}},[]),D=R.useCallback(async()=>{try{const b=await st.list("-created_date");d(Array.isArray(b)?b:[])}catch(b){C.error("Failed to load tasks (context)",{error:String(b)}),l("Failed to load tasks")}},[]),O=R.useCallback(async()=>{try{const b=await at.list();x(Array.isArray(b)?b:[])}catch(b){C.error("Failed to load stakeholders (context)",{error:String(b)}),l("Failed to load stakeholders")}},[]),k=R.useCallback(async()=>{try{const b=await nt.list();f(Array.isArray(b)?b:[])}catch(b){C.error("Failed to load team members (context)",{error:String(b)}),l("Failed to load team members")}},[]),F=R.useCallback(async()=>{try{const b=await ot.list();T(Array.isArray(b)?b:[])}catch(b){C.error("Failed to load one-on-ones (context)",{error:String(b)}),l("Failed to load one-on-ones")}},[]),z=R.useCallback(async()=>{p(!0),l(null);try{await Promise.all([v(),D(),O(),k(),F()])}finally{p(!1)}},[v,D,O,k,F]);R.useEffect(()=>{!s&&t&&!N?(g(!0),z()):t||(g(!1),n([]),d([]),x([]),f([]),T([]),p(!1))},[t,s]);const W=R.useMemo(()=>({projects:a,tasks:i,stakeholders:u,teamMembers:c,oneOnOnes:w,loading:A,error:h,refreshProjects:v,refreshTasks:D,refreshStakeholders:O,refreshTeamMembers:k,refreshOneOnOnes:F,refreshAll:z}),[a,i,u,c,w,A,h,v,D,O,k,F,z]);return e.jsx(la.Provider,{value:W,children:r})}ks.createRoot(document.getElementById("root")).render(e.jsx(ir,{children:e.jsx(lr,{children:e.jsx(da,{children:e.jsx(ca,{})})})}));export{la as A,J as B,X as C,rr as D,Ys as E,mr as F,ha as G,Ee as I,Se as L,ot as O,rt as P,at as S,st as T,qs as W,L as _,_e as a,pr as b,Pe as c,ar as d,j as e,Q as f,se as g,Oe as h,Ie as i,ur as j,V as k,C as l,G as m,pe as n,zs as o,nr as p,Ne as q,or as r,Te as s,nt as t,cr as u,tr as v,sr as w,Xs as x,Gs as y,gr as z};
