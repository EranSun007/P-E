const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Tasks-DdZuQQTA.js","assets/chunk-WPKCbDK8.js","assets/chunk-BKwDNIOR.js","assets/TaskCreationForm-DI4Hfilp.js","assets/chunk-KzYfAQy1.js","assets/chunk-BOs1hDSJ.js","assets/chunk-B8YrlogN.js","assets/chunk-DGs6foQ1.js","assets/chunk-DIYexMSd.js","assets/chunk-BdHZTqfh.js","assets/chunk-DXrvJpCX.js","assets/chunk-BwuEqr1N.js","assets/chunk-DBm2SumC.js","assets/chunk-Di6AD2c4.js","assets/chunk-233bsYkc.js","assets/chunk-D8_EjMoV.js","assets/chunk-CdSpngk7.js","assets/chunk-p5_VtM_5.js","assets/chunk-qi7vZLzc.js","assets/chunk-DR7VNuLi.js","assets/Calendar-Cmtj6qzc.js","assets/chunk-uiVOWrDz.js","assets/chunk-CedI6ujr.js","assets/chunk-uqH6maok.js","assets/Metrics-BtDTYHCF.js","assets/Stakeholders-8nNN7bhu.js","assets/chunk-I0XyyDKD.js","assets/Projects-D9ri0Vik.js","assets/chunk-D6YGlv6m.js","assets/chunk-BotFk7YP.js","assets/Settings-BTsbQN76.js","assets/chunk-3WTxq07n.js","assets/chunk-Cwx6QR2c.js","assets/chunk-Sjx62m6H.js","assets/Team-DaSK_EY1.js","assets/ProjectDetails-NwirPCoU.js","assets/TeamMemberProfile-CHbpRD1_.js","assets/Peers-Cf5QO2i5.js","assets/chunk-Cr8iT9Hq.js","assets/PeerProfile-BXe11cSU.js","assets/chunk-PTkjzjTs.js","assets/Duties-D6HMTmMH.js","assets/chunk-DRrmMohU.js","assets/GitHubRepos-CfoCFIkt.js","assets/JiraIssues-BGQu7EjT.js","assets/Services-BcDBS7kU.js","assets/Roadmap-6aOaUZad.js","assets/Backlog-CLdZCqj-.js","assets/Analytics-BCZuQlzF.js","assets/Feedback-DfsImtnC.js","assets/Releases-C_WqXZgo.js","assets/CaptureInbox-nGHQOFbn.js","assets/CaptureRules-DwYvNpds.js","assets/BugDashboard-CkPMJAEn.js","assets/KnowledgeSearch-C_Vi-YNM.js","assets/TeamSync-BJazQ3Om.js","assets/TeamStatus-B-KTJaBN.js","assets/EntityModel-CEHU7ZSr.js","assets/EntityModel-BZV40eAE.css"])))=>i.map(i=>d[i]);
import{j as s,b as xs,F as vs,I as Es,S as Vr,d as Ns,V as qr,e as Jr,f as ws,g as Wr,h as Yr,i as Xr,k as Zr,l as Sn,m as Qr,n as Ss,o as eo,p as _s,q as Ts,r as to,U as gn,B as no,s as so,L as Cs,t as ao,M as ro,v as js,w as tt,x as oo,X as Ot,y as mn,T as io,z as Rs,A as As,D as _t,E as co,G as lo,H as uo,J as Os,K as _n,N as ks,Q as go,W as mo,Y as fo,Z as po,_ as ho,$ as yo,a0 as Vn,a1 as bo,a2 as xo,a3 as vo,a4 as Eo,a5 as No,a6 as wo,a7 as So,a8 as _o,a9 as To,aa as Co,ab as jo,ac as Ro,ad as Ao,ae as Oo,af as Is,ag as ko,ah as Io,ai as Po,aj as Mo,ak as Do,al as Le,am as At,P as nt,an as Ps,ao as Lo,ap as $o,aq as Ms,ar as Bo,as as Uo,at as Fo,au as zo}from"./chunk-WPKCbDK8.js";import{f as Ko,g as $e,a as i,d as de,u as Ds,L as Ls,h as Ho,B as Go,i as Vo,j as oe,b as qo}from"./chunk-BKwDNIOR.js";import{t as Jo,c as Wo,a as kt,f as Yo}from"./chunk-DGs6foQ1.js";import{_ as Xo,a as Zo,P as z}from"./chunk-BwuEqr1N.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const g of o.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var Et={},qn;function Qo(){if(qn)return Et;qn=1;var e=Ko();return Et.createRoot=e.createRoot,Et.hydrateRoot=e.hydrateRoot,Et}var ei=Qo();const ti=$e(ei),ni="modulepreload",si=function(e){return"/"+e},Jn={},le=function(t,n,a){let r=Promise.resolve();if(n&&n.length>0){let g=function(m){return Promise.all(m.map(h=>Promise.resolve(h).then(N=>({status:"fulfilled",value:N}),N=>({status:"rejected",reason:N}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),d=p?.nonce||p?.getAttribute("nonce");r=g(n.map(m=>{if(m=si(m),m in Jn)return;Jn[m]=!0;const h=m.endsWith(".css"),N=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${N}`))return;const l=document.createElement("link");if(l.rel=h?"stylesheet":ni,h||(l.as="script"),l.crossOrigin="",l.href=m,d&&l.setAttribute("nonce",d),document.head.appendChild(l),h)return new Promise((f,x)=>{l.addEventListener("load",f),l.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(g){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=g,window.dispatchEvent(p),!p.defaultPrevented)throw g}return r.then(g=>{for(const p of g||[])p.status==="rejected"&&o(p.reason);return t().catch(o)})};function pe(e){return"/"+e.toLowerCase().replace(/ /g,"-")}function E(...e){return Jo(Wo(e))}const Vt="auth_token",qt="auth_user",Nt="https://pe-manager-backend.cfapps.eu01-canary.hana.ondemand.com/api";class De{static async login(t,n){try{const a=await fetch(`${Nt}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})}),r=await a.json();return a.ok?(this.storeToken(r.token),this.storeUser(r.user),{success:!0,user:r.user}):{success:!1,error:r.message||"Login failed"}}catch(a){return console.error("Login error:",a),{success:!1,error:"Network error. Please check your connection."}}}static storeToken(t){try{localStorage.setItem(Vt,t)}catch(n){throw console.error("Failed to store token:",n),n}}static storeUser(t){try{localStorage.setItem(qt,JSON.stringify(t))}catch(n){console.error("Failed to store user:",n)}}static getToken(){try{return localStorage.getItem(Vt)}catch(t){return console.error("Failed to get token:",t),null}}static getStoredUser(){try{const t=localStorage.getItem(qt);return t?JSON.parse(t):null}catch(t){return console.error("Failed to get user:",t),null}}static isAuthenticated(){const t=this.getToken();if(!t)return!1;try{const a=JSON.parse(atob(t.split(".")[1])).exp*1e3;return Date.now()<a}catch{return!1}}static clearAuthData(){try{return localStorage.removeItem(Vt),localStorage.removeItem(qt),!0}catch(t){return console.error("Failed to clear auth data:",t),!1}}static async changePassword(t,n){try{const a=this.getToken();if(!a)return{success:!1,error:"Not authenticated"};const r=await fetch(`${Nt}/auth/change-password`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({currentPassword:t,newPassword:n})}),o=await r.json();return r.ok?{success:!0}:{success:!1,error:o.message||"Failed to change password"}}catch(a){return console.error("Change password error:",a),{success:!1,error:"Network error. Please try again."}}}static async fetchCurrentUser(){try{const t=this.getToken();if(!t)return null;const n=await fetch(`${Nt}/auth/me`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)return n.status===401&&this.clearAuthData(),null;const a=await n.json();return this.storeUser(a),a}catch(t){return console.error("Fetch user error:",t),null}}static async setupInitialAdmin(t){try{const n=await fetch(`${Nt}/auth/setup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t})}),a=await n.json();return n.ok?{success:!0,user:a.user}:{success:!1,error:a.message||"Setup failed"}}catch(n){return console.error("Setup error:",n),{success:!1,error:"Network error. Please try again."}}}}const ai={},Ze={DEBUG:0,INFO:1,WARN:2,ERROR:3};class ri{constructor(){const t=typeof import.meta<"u"&&ai&&!0;this.level=t?Ze.WARN:Ze.DEBUG}setLevel(t){typeof t=="number"&&(this.level=t)}debug(t,n={}){this.level<=Ze.DEBUG&&console.debug("[DEBUG]",t,n)}info(t,n={}){this.level<=Ze.INFO&&console.info("[INFO]",t,n)}warn(t,n={}){this.level<=Ze.WARN&&console.warn("[WARN]",t,n)}error(t,n={}){this.level<=Ze.ERROR&&(console.error("[ERROR]",t,n),this.reportError(t,n))}reportError(t,n){try{const a="pe_manager_error_log",r=JSON.parse(localStorage.getItem(a)||"[]");r.unshift({message:t,context:n,ts:new Date().toISOString()}),localStorage.setItem(a,JSON.stringify(r.slice(0,10)))}catch{}}}const ve=new ri,C="https://pe-manager-backend.cfapps.eu01-canary.hana.ondemand.com/api";function oi(e,t){if(!e.ok){const n=new Error(`HTTP ${e.status} - ${e.statusText} at ${t}`);throw n.status=e.status,ve.error("HTTP request failed",{endpoint:t,status:e.status,statusText:e.statusText}),e.status===401&&De.clearAuthData(),n}}const ii=3e4;async function j(e,t={}){const n={"Content-Type":"application/json",...t.headers},a=De.getToken();a&&(n.Authorization=`Bearer ${a}`);const r=new AbortController,o=t.timeout||ii,g=setTimeout(()=>{r.abort()},o);try{const p=await fetch(e,{...t,headers:n,signal:r.signal});return oi(p,e),p.status===204?null:await p.json()}catch(p){if(p.name==="AbortError"){const d=new Error(`Request timeout after ${o}ms: ${e}`);throw d.name="TimeoutError",d.url=e,ve.error("API request timeout",{url:e,timeout:o}),d}throw ve.error("API request failed",{url:e,error:String(p)}),p}finally{clearTimeout(g)}}function ce(e){return{async list(){return j(`${C}${e}`)},async get(t){return j(`${C}${e}/${t}`)},async create(t){return j(`${C}${e}`,{method:"POST",body:JSON.stringify(t)})},async update(t,n){return j(`${C}${e}/${t}`,{method:"PUT",body:JSON.stringify(n)})},async delete(t){return await j(`${C}${e}/${t}`,{method:"DELETE"}),!0}}}function ci(){return{...ce("/work-items"),async listByTeamMember(t,n=null){let a=`${C}/work-items?team_member_id=${t}`;return n&&(a+=`&status=${n}`),j(a)},async addInsight(t,n){return j(`${C}/work-items/${t}/insights`,{method:"POST",body:JSON.stringify(n)})}}}function li(){return{...ce("/developer-goals"),async list(t,n=null){let a=`${C}/developer-goals?team_member_id=${t}`;return n&&(a+=`&year=${n}`),j(a)}}}function ui(){return{...ce("/performance-evaluations"),async list(t){return j(`${C}/performance-evaluations?team_member_id=${t}`)},async getByYear(t,n){return j(`${C}/performance-evaluations/by-year?team_member_id=${t}&year=${n}`)}}}function di(){return{...ce("/task-attributes"),async bulkCreate(t){const n=[];for(const a of t)try{const r=await j(`${C}/task-attributes`,{method:"POST",body:JSON.stringify(a)});n.push(r)}catch(r){console.warn("Failed to create attribute:",a.name,r)}return n}}}function gi(){return{...ce("/devops-duties"),async listByTeamMember(t){return j(`${C}/devops-duties/team-member/${t}`)},async addInsight(t,n){return j(`${C}/devops-duties/${t}/insights`,{method:"POST",body:JSON.stringify({insight:n})})},async complete(t,n){return j(`${C}/devops-duties/${t}/complete`,{method:"POST",body:JSON.stringify(n)})}}}function mi(){return{...ce("/duty-schedule"),async listUpcoming(t=null){let n=`${C}/duty-schedule/upcoming`;return t&&(n+=`?team=${encodeURIComponent(t)}`),j(n)},async listByDateRange(t,n,a={}){let r=`${C}/duty-schedule/date-range?start_date=${t}&end_date=${n}`;return a.team&&(r+=`&team=${encodeURIComponent(a.team)}`),a.duty_type&&(r+=`&duty_type=${encodeURIComponent(a.duty_type)}`),j(r)},async listByTeam(t){return j(`${C}/duty-schedule?team=${encodeURIComponent(t)}`)},async getTeamMembers(t){return j(`${C}/duty-schedule/team-members/${encodeURIComponent(t)}`)}}}function fi(){return{...ce("/time-off"),async listByDateRange(t,n,a={}){let r=`${C}/time-off/date-range?start_date=${t}&end_date=${n}`;return a.team_member_id&&(r+=`&team_member_id=${encodeURIComponent(a.team_member_id)}`),a.type&&(r+=`&type=${encodeURIComponent(a.type)}`),j(r)},async listUpcoming(t=30){return j(`${C}/time-off/upcoming?days=${t}`)},async listByTeamMember(t){return j(`${C}/time-off/team-member/${t}`)}}}function pi(){return{...ce("/capture-inbox"),async accept(t,n={}){return j(`${C}/capture-inbox/${t}/accept`,{method:"POST",body:JSON.stringify(n)})},async reject(t,n={}){return j(`${C}/capture-inbox/${t}/reject`,{method:"POST",body:JSON.stringify(n)})},async bulkAccept(t,n={}){return j(`${C}/capture-inbox/bulk-accept`,{method:"POST",body:JSON.stringify({item_ids:t,...n})})},async bulkReject(t){return j(`${C}/capture-inbox/bulk-reject`,{method:"POST",body:JSON.stringify({item_ids:t})})}}}function hi(){return{...ce("/entity-mappings"),async lookup(t){return j(`${C}/entity-mappings/lookup/${encodeURIComponent(t)}`)}}}function yi(){return{...ce("/sync"),async list(t={}){const n=new URLSearchParams;t.category&&n.append("category",t.category),t.teamDepartment&&n.append("teamDepartment",t.teamDepartment),t.archived!==void 0&&n.append("archived",t.archived);const a=n.toString();return j(`${C}/sync${a?"?"+a:""}`)},async getArchived(t={}){const n=new URLSearchParams;t.from_date&&n.append("from_date",t.from_date),t.to_date&&n.append("to_date",t.to_date);const a=n.toString();return j(`${C}/sync/archived${a?"?"+a:""}`)},async getArchivedCount(){return j(`${C}/sync/archived/count`)},async restore(t){return j(`${C}/sync/${t}/restore`,{method:"PUT"})},async listSubtasks(t){return j(`${C}/sync/${t}/subtasks`)},async createSubtask(t,n){return j(`${C}/sync/${t}/subtasks`,{method:"POST",body:JSON.stringify(n)})},async updateSubtask(t,n,a){return j(`${C}/sync/${t}/subtasks/${n}`,{method:"PUT",body:JSON.stringify(a)})},async deleteSubtask(t,n){return await j(`${C}/sync/${t}/subtasks/${n}`,{method:"DELETE"}),!0},async reorderSubtasks(t,n){return j(`${C}/sync/${t}/subtasks/reorder`,{method:"PUT",body:JSON.stringify({orderedSubtaskIds:n})})}}}function bi(){return{async get(){return j(`${C}/sync/settings`)},async update(e){return j(`${C}/sync/settings`,{method:"PUT",body:JSON.stringify(e)})}}}function xi(){const e=ce("/notifications");return{...e,async getUnreadCount(){return j(`${C}/notifications/unread-count`)},async markAsRead(t){return e.update(t,{read:!0})},async markAllAsRead(){const n=(await e.list()).filter(a=>!a.read);return await Promise.all(n.map(a=>e.update(a.id,{read:!0}))),{updated:n.length}}}}const Se={entities:{Task:ce("/tasks"),Project:ce("/projects"),Stakeholder:ce("/stakeholders"),TeamMember:ce("/team-members"),OneOnOne:ce("/one-on-ones"),Meeting:ce("/meetings"),CalendarEvent:ce("/calendar-events"),Notification:xi(),Reminder:ce("/reminders"),Comment:ce("/comments"),TaskAttribute:di(),WorkItem:ci(),DeveloperGoal:li(),PerformanceEvaluation:ui(),DevOpsDuty:gi(),DutySchedule:mi(),TimeOff:fi(),JiraIssue:{...ce("/jira-issues"),async listWithFilters(e={}){const t=new URLSearchParams;e.status&&t.append("status",e.status),e.assignee&&t.append("assignee",e.assignee),e.sprint&&t.append("sprint",e.sprint);const n=t.toString(),a=`${C}/jira-issues${n?"?"+n:""}`;return j(a)},async getFilterOptions(){return j(`${C}/jira-issues/filters`)},async getSyncStatus(){return j(`${C}/jira-issues/status`)}},JiraMapping:ce("/jira-issues/mappings"),Peer:ce("/peers"),Duty:ce("/duties"),AgendaItem:ce("/agenda-items"),PersonalFileItem:ce("/personal-file-items"),CaptureInbox:pi(),EntityMapping:hi(),CaptureRule:ce("/capture-rules"),SyncItem:yi()},auth:{async me(){return j(`${C}/auth/me`)},async logout(){return!0}},backup:{async export(){return j(`${C}/backup/export`)},async import(e,t="merge"){return j(`${C}/backup/import`,{method:"POST",body:JSON.stringify({data:e,mode:t})})}},userSettings:{async getGitHubStatus(){return j(`${C}/user-settings/github/status`)},async setGitHubToken(e){return j(`${C}/user-settings/github/token`,{method:"POST",body:JSON.stringify({token:e})})},async deleteGitHubToken(){return j(`${C}/user-settings/github/token`,{method:"DELETE"})},async get(e){return j(`${C}/user-settings/${e}`)},async set(e,t,n=!1){return j(`${C}/user-settings/${e}`,{method:"PUT",body:JSON.stringify({value:t,encrypted:n})})},async delete(e){return j(`${C}/user-settings/${e}`,{method:"DELETE"})}},metrics:{async getOneOnOneCompliance(e=30){return j(`${C}/metrics/one-on-one-compliance?rollingDays=${e}`)},async getOneOnOneCadenceRules(){return j(`${C}/metrics/one-on-one-compliance/cadence-rules`)}},github:{async listRepos(){return j(`${C}/github/repos`)},async addRepo(e){return j(`${C}/github/repos`,{method:"POST",body:JSON.stringify({full_name:e})})},async getRepo(e){return j(`${C}/github/repos/${e}`)},async removeRepo(e){return j(`${C}/github/repos/${e}`,{method:"DELETE"})},async searchRepos(e){return j(`${C}/github/repos/search?q=${encodeURIComponent(e)}`)},async linkRepoToProject(e,t){return j(`${C}/github/repos/${e}/link`,{method:"PUT",body:JSON.stringify({project_id:t})})},async syncRepo(e){return j(`${C}/github/repos/${e}/sync`,{method:"POST"})},async syncAllRepos(){return j(`${C}/github/sync`,{method:"POST"})},async getPullRequests(e,t=null){let n=`${C}/github/repos/${e}/pulls`;return t&&(n+=`?state=${t}`),j(n)},async getIssues(e,t=null){let n=`${C}/github/repos/${e}/issues`;return t&&(n+=`?state=${t}`),j(n)},async getCommits(e,t=50){return j(`${C}/github/repos/${e}/commits?limit=${t}`)}},bugs:{async checkDuplicate(e){return j(`${C}/bugs/uploads/check?weekEnding=${e}`)},async listUploads(){return j(`${C}/bugs/uploads`)},async getUpload(e){return j(`${C}/bugs/uploads/${e}`)},async deleteUpload(e){return await j(`${C}/bugs/uploads/${e}`,{method:"DELETE"}),!0},async getKPIs(e,t=null){let n=`${C}/bugs/kpis?uploadId=${e}`;return t&&(n+=`&component=${encodeURIComponent(t)}`),j(n)},async listBugs(e,t={}){const n=new URLSearchParams;return n.append("uploadId",e),t.component&&n.append("component",t.component),t.status&&n.append("status",t.status),t.priority&&n.append("priority",t.priority),t.limit&&n.append("limit",t.limit),t.offset&&n.append("offset",t.offset),j(`${C}/bugs/list?${n.toString()}`)},async listBugsByDateRange(e,t,n={}){const a=new URLSearchParams;return a.append("startDate",e),a.append("endDate",t),n.component&&a.append("component",n.component),n.status&&a.append("status",n.status),n.priority&&a.append("priority",n.priority),n.limit&&a.append("limit",n.limit),n.offset&&a.append("offset",n.offset),j(`${C}/bugs/by-date-range?${a.toString()}`)},async getKPIsByDateRange(e,t,n=null){let a=`${C}/bugs/kpis-by-date-range?startDate=${e}&endDate=${t}`;return n&&(a+=`&component=${encodeURIComponent(n)}`),j(a)},async getKPIHistory(e=12,t=null){let n=`${C}/bugs/kpis/history?weeks=${e}`;return t&&(n+=`&component=${encodeURIComponent(t)}`),j(n)}},emailPreferences:{async list(){return j(`${C}/email-preferences`)},async get(e){return j(`${C}/email-preferences/${e}`)},async update(e,t){return j(`${C}/email-preferences/${e}`,{method:"PUT",body:JSON.stringify(t)})},async delete(e){return await j(`${C}/email-preferences/${e}`,{method:"DELETE"}),!0}},knowledge:{async searchCode(e){return j(`${C}/knowledge/search/code`,{method:"POST",body:JSON.stringify({query:e.query,limit:e.limit||20,threshold:e.threshold,repoName:e.repoName,language:e.language,artifactType:e.artifactType,ownership:e.ownership})})},async searchDocs(e){return j(`${C}/knowledge/search/docs`,{method:"POST",body:JSON.stringify({query:e.query,limit:e.limit||20,threshold:e.threshold,domain:e.domain,category:e.category})})},async searchInsights(e){const t=new URLSearchParams;return e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate),e.teamDepartment&&t.append("teamDepartment",e.teamDepartment),e.category&&t.append("category",e.category),e.limit&&t.append("limit",e.limit),j(`${C}/knowledge/insights?${t.toString()}`)},async getStats(e={}){const t=new URLSearchParams;e.repoName&&t.append("repoName",e.repoName),e.statsType&&t.append("statsType",e.statsType);const n=t.toString();return j(`${C}/knowledge/stats${n?"?"+n:""}`)},async getHealth(){return j(`${C}/knowledge/health`)}},sync:{settings:bi()},menuConfig:{async get(e){return j(`${C}/menu-config/${e}`)},async set(e,t){return j(`${C}/menu-config/${e}`,{method:"PUT",body:JSON.stringify(t)})},async getDefaults(e){return j(`${C}/menu-config/${e}/defaults`)}}},be=Se,$s=be.entities.Task,Bs=be.entities.Project,Us=be.entities.Stakeholder,Fs=be.entities.TeamMember,vi=be.entities.TaskAttribute,zs=be.entities.OneOnOne,Ei=be.entities.Meeting,Ni=be.entities.CalendarEvent,ct=be.entities.Notification,wi=be.entities.Reminder,Si=be.entities.Comment,_i=be.entities.WorkItem,Ti=be.entities.OutOfOffice,Ci=be.entities.Peer,ji=be.entities.Duty,Ri=be.entities.AgendaItem,Ai=be.entities.PersonalFileItem,Oi=be.entities.DeveloperGoal,ki=be.entities.PerformanceEvaluation,Ii=be.entities.DevOpsDuty,Pi=be.entities.DutySchedule,Mi=be.entities.TimeOff,Di=Se.backup,Li=Se.github,$i=Se.userSettings,Bi=Se.entities.JiraIssue,Ui=Se.entities.JiraMapping,Fi=Se.entities.CaptureInbox,zi=Se.entities.EntityMapping,Ki=Se.entities.CaptureRule,Ks=Se.auth,Fe=Se.entities.SyncItem,Hi=Se.sync.settings,Su=Object.freeze(Object.defineProperty({__proto__:null,AgendaItem:Ri,Backup:Di,CalendarEvent:Ni,CaptureInbox:Fi,CaptureRule:Ki,Comment:Si,DevOpsDuty:Ii,DeveloperGoal:Oi,Duty:ji,DutySchedule:Pi,EntityMapping:zi,GitHub:Li,JiraIssue:Bi,JiraMapping:Ui,Meeting:Ei,Notification:ct,OneOnOne:zs,OutOfOffice:Ti,Peer:Ci,PerformanceEvaluation:ki,PersonalFileItem:Ai,Project:Bs,Reminder:wi,Stakeholder:Us,SyncItem:Fe,SyncSettings:Hi,Task:$s,TaskAttribute:vi,TeamMember:Fs,TimeOff:Mi,User:Ks,UserSettings:$i,WorkItem:_i},Symbol.toStringTag,{value:"Module"})),ut=i.forwardRef(({className:e,...t},n)=>s.jsx(xs,{ref:n,className:E("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ut.displayName=xs.displayName;const Gi=i.forwardRef(({className:e,...t},n)=>s.jsx(Es,{ref:n,className:E("aspect-square h-full w-full",e),...t}));Gi.displayName=Es.displayName;const dt=i.forwardRef(({className:e,...t},n)=>s.jsx(vs,{ref:n,className:E("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));dt.displayName=vs.displayName;const Hs=i.createContext(null),We=()=>{const e=i.useContext(Hs);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Vi=({children:e})=>{const[t,n]=i.useState(!1),[a,r]=i.useState(null),[o,g]=i.useState(!0),[p,d]=i.useState(null);i.useEffect(()=>{(async()=>{try{if(d(null),De.isAuthenticated()){const b=await De.fetchCurrentUser();b?(r(b),n(!0)):(De.clearAuthData(),n(!1),r(null))}else n(!1),r(null)}catch(b){console.error("Failed to initialize authentication state:",b),d("Failed to initialize authentication. Please refresh the page."),n(!1),r(null)}finally{g(!1)}})()},[]);const f={isAuthenticated:t,user:a,login:async(x,b)=>{try{if(d(null),!x||!b)return{success:!1,error:"Please fill in all fields"};const u=await De.login(x,b);return u.success?(r(u.user),n(!0),{success:!0}):{success:!1,error:u.error||"Invalid username or password"}}catch(u){return console.error("Login failed:",u),{success:!1,error:"Authentication failed. Please try again."}}},logout:()=>{try{d(null),De.clearAuthData(),n(!1),r(null)}catch(x){console.error("Logout failed:",x),n(!1),r(null)}},loading:o,error:p,clearError:()=>{d(null)},refreshUser:async()=>{try{const x=await De.fetchCurrentUser();x&&r(x)}catch(x){console.error("Failed to refresh user:",x)}}};return s.jsx(Hs.Provider,{value:f,children:e})},Wn="pe_manager_presentation_mode",Gs=i.createContext(null),qi=()=>{const e=i.useContext(Gs);if(!e)throw new Error("useDisplayMode must be used within a DisplayModeProvider");return e},Ji=({children:e})=>{const[t,n]=i.useState(()=>{try{return localStorage.getItem(Wn)==="true"}catch{return!1}});i.useEffect(()=>{try{localStorage.setItem(Wn,t.toString())}catch(p){console.error("Failed to persist presentation mode:",p)}},[t]);const g={isPresentationMode:t,togglePresentationMode:()=>{n(p=>!p)},enablePresentationMode:()=>{n(!0)},disablePresentationMode:()=>{n(!1)}};return s.jsx(Gs.Provider,{value:g,children:e})},Yn="pe_manager_app_mode",Vs=i.createContext(null);let Xn=0;const mt=()=>{const e=i.useContext(Vs);if(!e)throw new Error("useAppMode must be used within an AppModeProvider");return e},Wi=({children:e})=>{Xn++,console.log("[AppModeProvider] Render #",Xn);const[t,n]=i.useState(()=>{try{return localStorage.getItem(Yn)==="true"}catch{return!1}});i.useEffect(()=>{try{localStorage.setItem(Yn,t.toString())}catch(p){console.error("Failed to persist app mode:",p)}},[t]);const a=i.useCallback(()=>(console.log("[AppModeProvider] toggleAppMode called, current isProductMode:",t),n(p=>!p),!t),[t]),r=i.useCallback(()=>{n(!1)},[]),o=i.useCallback(()=>{n(!0)},[]),g={isProductMode:t,isPeopleMode:!t,toggleAppMode:a,enablePeopleMode:r,enableProductMode:o,currentMode:t?"Product & Engineering":"People & Engineering",currentModeShort:t?"Product":"People"};return s.jsx(Vs.Provider,{value:g,children:e})},Yi=kt("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),_e=i.forwardRef(({className:e,variant:t,size:n,asChild:a=!1,...r},o)=>{const g=a?Vr:"button";return s.jsx(g,{className:E(Yi({variant:t,size:n,className:e})),ref:o,...r})});_e.displayName="Button";const Tn=i.forwardRef(({className:e,children:t,...n},a)=>s.jsxs(Ns,{ref:a,className:E("relative overflow-hidden",e),...n,children:[s.jsx(qr,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(qs,{}),s.jsx(Jr,{})]}));Tn.displayName=Ns.displayName;const qs=i.forwardRef(({className:e,orientation:t="vertical",...n},a)=>s.jsx(ws,{ref:a,orientation:t,className:E("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:s.jsx(Wr,{className:"relative flex-1 rounded-full bg-border"})}));qs.displayName=ws.displayName;const Qe="https://pe-manager-backend.cfapps.eu01-canary.hana.ondemand.com/api";async function ot(e,t={}){const n={"Content-Type":"application/json",...t.headers},a=De.getToken();a&&(n.Authorization=`Bearer ${a}`);const r=await fetch(e,{...t,headers:n});if(!r.ok){const o=new Error(`HTTP ${r.status} - ${r.statusText}`);throw o.status=r.status,o}return r}const wt={async getStatus(){return(await ot(`${Qe}/ai/status`)).json()},async getTools(){return(await ot(`${Qe}/ai/tools`)).json()},async chat(e,t={}){const{history:n=[],useTools:a=!0,pageContext:r=null}=t;return(await ot(`${Qe}/ai/chat`,{method:"POST",body:JSON.stringify({messages:e,history:n,useTools:a,pageContext:r})})).json()},async streamChat(e,t={}){const{history:n=[],onChunk:a,onDone:r,onError:o,signal:g}=t;try{const p=De.getToken(),d=await fetch(`${Qe}/ai/chat/stream`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:p?`Bearer ${p}`:""},body:JSON.stringify({messages:e,history:n}),signal:g});if(!d.ok)throw new Error(`HTTP ${d.status} - ${d.statusText}`);const m=d.body.getReader(),h=new TextDecoder;let N="";for(;;){const{done:l,value:f}=await m.read();if(l)break;N+=h.decode(f,{stream:!0});const x=N.split(`
`);N=x.pop()||"";for(const b of x)if(b.startsWith("data: ")){const u=b.slice(6);if(u==="[DONE]"){r&&r();return}try{const y=JSON.parse(u);y.type==="content"&&a?a(y.content):y.type==="done"&&r?r(y):y.type==="error"&&o&&o(new Error(y.message))}catch{console.warn("Failed to parse SSE data:",u)}}}}catch(p){if(p.name==="AbortError")return;if(o)o(p);else throw p}},async executeTool(e,t={}){return(await ot(`${Qe}/ai/execute-tool`,{method:"POST",body:JSON.stringify({tool:e,args:t})})).json()},async summarize(e="tasks"){return(await ot(`${Qe}/ai/summarize`,{method:"POST",body:JSON.stringify({type:e})})).json()}},Js=i.createContext(null),Xi=5*60*1e3;function Zi({children:e}){const[t,n]=i.useState([]),[a,r]=i.useState(!1),[o,g]=i.useState(!1),[p,d]=i.useState(null),[m,h]=i.useState(!1),[N,l]=i.useState(null),[f,x]=i.useState(null),[b,u]=i.useState(null),[y,w]=i.useState(!1),_=i.useRef(null),k=i.useCallback(async()=>{try{const H=await wt.getStatus();return l(H.available),H.available}catch(H){return console.error("Failed to check AI availability:",H),l(!1),!1}},[]),A=i.useCallback(H=>{x(H),u(new Date().toISOString())},[]),O=i.useCallback(()=>{x(null),u(null)},[]),M=i.useCallback(()=>{w(H=>!H)},[]),W=i.useMemo(()=>{if(!b)return!1;const H=new Date(b).getTime();return Date.now()-H>Xi},[b]),P=i.useMemo(()=>{if(!b)return 0;const H=new Date(b).getTime();return Math.floor((Date.now()-H)/(60*1e3))},[b]),T=i.useCallback(async(H,ge={})=>{if(!H.trim())return;const fe={role:"user",content:H},Re=[...t,fe];n(Re),r(!0),d(null);try{const Ce=await wt.chat([fe],{history:t,useTools:ge.useTools!==!1,pageContext:f?{summary:f.summary,page:f.page,timestamp:b,selection:f.selection}:null}),Ne={role:"assistant",content:Ce.content};return n([...Re,Ne]),Ce}catch(Ce){throw console.error("AI chat error:",Ce),d(Ce.message||"Failed to get AI response"),Ce}finally{r(!1)}},[t,f,b]),V=i.useCallback(async(H,ge={})=>{if(!H.trim())return;const fe={role:"user",content:H},Re=[...t,fe];n(Re),r(!0),g(!0),d(null),_.current=new AbortController;const Ce={role:"assistant",content:""};n([...Re,Ce]);try{await wt.streamChat([fe],{history:t,signal:_.current.signal,onChunk:Ne=>{n(rt=>{const Ae=[...rt],Ve=Ae.length-1;return Ae[Ve]={...Ae[Ve],content:Ae[Ve].content+Ne},Ae})},onDone:Ne=>{r(!1),g(!1),ge.onComplete&&ge.onComplete(Ne)},onError:Ne=>{d(Ne.message||"Streaming failed"),r(!1),g(!1)}})}catch(Ne){Ne.name!=="AbortError"&&(console.error("AI stream error:",Ne),d(Ne.message||"Failed to stream AI response")),r(!1),g(!1)}},[t]),q=i.useCallback(()=>{_.current&&(_.current.abort(),_.current=null,g(!1),r(!1))},[]),Z=i.useCallback(()=>{n([]),d(null)},[]),L=i.useCallback(()=>{h(H=>!H)},[]),te=i.useCallback(()=>{h(!0)},[]),ne=i.useCallback(()=>{h(!1)},[]),ae=i.useCallback(async(H="tasks")=>{r(!0),d(null);try{return(await wt.summarize(H)).summary}catch(ge){throw console.error("Summarize error:",ge),d(ge.message||"Failed to get summary"),ge}finally{r(!1)}},[]),me=i.useCallback(async H=>{const fe={summarize_tasks:"Give me a quick summary of my tasks, highlighting anything urgent or overdue.",summarize_projects:"What's the status of my projects? Any that need attention?",analyze_workload:"Analyze my current workload. Am I overloaded? What should I prioritize?",whats_next:"Based on my tasks and deadlines, what should I focus on next?",weekly_review:"Give me a weekly review of my completed tasks and upcoming deadlines."}[H]||H;return V(fe)},[V]),he=i.useCallback(async H=>{r(!0),d(null);const ge={role:"user",content:`/search ${H}`,type:"command"};n(fe=>[...fe,ge]);try{const[fe,Re]=await Promise.all([Se.knowledge.searchCode({query:H,limit:3,threshold:.6}),Se.knowledge.searchDocs({query:H,limit:3,threshold:.6})]),Ce={role:"assistant",type:"search_result",query:H,codeResults:fe.results||[],docsResults:Re.results||[]};n(Ne=>[...Ne,Ce])}catch(fe){console.error("Knowledge base search failed:",fe),d("Knowledge search failed: "+fe.message)}finally{r(!1)}},[]),Te={messages:t,isLoading:a,isStreaming:o,error:p,isOpen:m,isAvailable:N,pageContext:f,contextTimestamp:b,contextExpanded:y,isContextStale:W,contextStalenessMinutes:P,sendMessage:T,sendMessageStreaming:V,cancelStreaming:q,clearChat:Z,toggleChat:L,openChat:te,closeChat:ne,checkAvailability:k,getSummary:ae,quickAction:me,searchKnowledgeBase:he,updatePageContext:A,clearPageContext:O,toggleContextExpanded:M,setMessages:n,setError:d,setContextExpanded:w};return s.jsx(Js.Provider,{value:Te,children:e})}function Ws(){const e=i.useContext(Js);if(!e)throw new Error("useAI must be used within an AIProvider");return e}function Qi(e,t){if(e==null)return{};var n,a,r=Xo(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fn(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function ec(e){if(Array.isArray(e))return fn(e)}function tc(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nc(e,t){if(e){if(typeof e=="string")return fn(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fn(e,t):void 0}}function sc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pn(e){return ec(e)||tc(e)||nc(e)||sc()}function gt(e){"@babel/helpers - typeof";return gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(e)}function ac(e,t){if(gt(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(gt(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rc(e){var t=ac(e,"string");return gt(t)=="symbol"?t:t+""}function Ys(e,t,n){return(t=rc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zn(Object(n),!0).forEach(function(a){Ys(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function oc(e){var t=e.length;if(t===0||t===1)return e;if(t===2)return[e[0],e[1],"".concat(e[0],".").concat(e[1]),"".concat(e[1],".").concat(e[0])];if(t===3)return[e[0],e[1],e[2],"".concat(e[0],".").concat(e[1]),"".concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[0]),"".concat(e[1],".").concat(e[2]),"".concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[1]),"".concat(e[0],".").concat(e[1],".").concat(e[2]),"".concat(e[0],".").concat(e[2],".").concat(e[1]),"".concat(e[1],".").concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[0],".").concat(e[1]),"".concat(e[2],".").concat(e[1],".").concat(e[0])];if(t>=4)return[e[0],e[1],e[2],e[3],"".concat(e[0],".").concat(e[1]),"".concat(e[0],".").concat(e[2]),"".concat(e[0],".").concat(e[3]),"".concat(e[1],".").concat(e[0]),"".concat(e[1],".").concat(e[2]),"".concat(e[1],".").concat(e[3]),"".concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[1]),"".concat(e[2],".").concat(e[3]),"".concat(e[3],".").concat(e[0]),"".concat(e[3],".").concat(e[1]),"".concat(e[3],".").concat(e[2]),"".concat(e[0],".").concat(e[1],".").concat(e[2]),"".concat(e[0],".").concat(e[1],".").concat(e[3]),"".concat(e[0],".").concat(e[2],".").concat(e[1]),"".concat(e[0],".").concat(e[2],".").concat(e[3]),"".concat(e[0],".").concat(e[3],".").concat(e[1]),"".concat(e[0],".").concat(e[3],".").concat(e[2]),"".concat(e[1],".").concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[0],".").concat(e[3]),"".concat(e[1],".").concat(e[2],".").concat(e[0]),"".concat(e[1],".").concat(e[2],".").concat(e[3]),"".concat(e[1],".").concat(e[3],".").concat(e[0]),"".concat(e[1],".").concat(e[3],".").concat(e[2]),"".concat(e[2],".").concat(e[0],".").concat(e[1]),"".concat(e[2],".").concat(e[0],".").concat(e[3]),"".concat(e[2],".").concat(e[1],".").concat(e[0]),"".concat(e[2],".").concat(e[1],".").concat(e[3]),"".concat(e[2],".").concat(e[3],".").concat(e[0]),"".concat(e[2],".").concat(e[3],".").concat(e[1]),"".concat(e[3],".").concat(e[0],".").concat(e[1]),"".concat(e[3],".").concat(e[0],".").concat(e[2]),"".concat(e[3],".").concat(e[1],".").concat(e[0]),"".concat(e[3],".").concat(e[1],".").concat(e[2]),"".concat(e[3],".").concat(e[2],".").concat(e[0]),"".concat(e[3],".").concat(e[2],".").concat(e[1]),"".concat(e[0],".").concat(e[1],".").concat(e[2],".").concat(e[3]),"".concat(e[0],".").concat(e[1],".").concat(e[3],".").concat(e[2]),"".concat(e[0],".").concat(e[2],".").concat(e[1],".").concat(e[3]),"".concat(e[0],".").concat(e[2],".").concat(e[3],".").concat(e[1]),"".concat(e[0],".").concat(e[3],".").concat(e[1],".").concat(e[2]),"".concat(e[0],".").concat(e[3],".").concat(e[2],".").concat(e[1]),"".concat(e[1],".").concat(e[0],".").concat(e[2],".").concat(e[3]),"".concat(e[1],".").concat(e[0],".").concat(e[3],".").concat(e[2]),"".concat(e[1],".").concat(e[2],".").concat(e[0],".").concat(e[3]),"".concat(e[1],".").concat(e[2],".").concat(e[3],".").concat(e[0]),"".concat(e[1],".").concat(e[3],".").concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[3],".").concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[0],".").concat(e[1],".").concat(e[3]),"".concat(e[2],".").concat(e[0],".").concat(e[3],".").concat(e[1]),"".concat(e[2],".").concat(e[1],".").concat(e[0],".").concat(e[3]),"".concat(e[2],".").concat(e[1],".").concat(e[3],".").concat(e[0]),"".concat(e[2],".").concat(e[3],".").concat(e[0],".").concat(e[1]),"".concat(e[2],".").concat(e[3],".").concat(e[1],".").concat(e[0]),"".concat(e[3],".").concat(e[0],".").concat(e[1],".").concat(e[2]),"".concat(e[3],".").concat(e[0],".").concat(e[2],".").concat(e[1]),"".concat(e[3],".").concat(e[1],".").concat(e[0],".").concat(e[2]),"".concat(e[3],".").concat(e[1],".").concat(e[2],".").concat(e[0]),"".concat(e[3],".").concat(e[2],".").concat(e[0],".").concat(e[1]),"".concat(e[3],".").concat(e[2],".").concat(e[1],".").concat(e[0])]}var Jt={};function ic(e){if(e.length===0||e.length===1)return e;var t=e.join(".");return Jt[t]||(Jt[t]=oc(e)),Jt[t]}function cc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=e.filter(function(o){return o!=="token"}),r=ic(a);return r.reduce(function(o,g){return et(et({},o),n[g])},t)}function Qn(e){return e.join(" ")}function lc(e,t){var n=0;return function(a){return n+=1,a.map(function(r,o){return Xs({node:r,stylesheet:e,useInlineStyles:t,key:"code-segment-".concat(n,"-").concat(o)})})}}function Xs(e){var t=e.node,n=e.stylesheet,a=e.style,r=a===void 0?{}:a,o=e.useInlineStyles,g=e.key,p=t.properties,d=t.type,m=t.tagName,h=t.value;if(d==="text")return h;if(m){var N=lc(n,o),l;if(!o)l=et(et({},p),{},{className:Qn(p.className)});else{var f=Object.keys(n).reduce(function(y,w){return w.split(".").forEach(function(_){y.includes(_)||y.push(_)}),y},[]),x=p.className&&p.className.includes("token")?["token"]:[],b=p.className&&x.concat(p.className.filter(function(y){return!f.includes(y)}));l=et(et({},p),{},{className:Qn(b)||void 0,style:cc(p.className,Object.assign({},p.style,r),n)})}var u=N(t.children);return de.createElement(m,Zo({key:g},l),u)}}const uc=function(e,t){var n=e.listLanguages();return n.indexOf(t)!==-1};var dc=["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","showInlineLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","wrapLongLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"];function es(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?es(Object(n),!0).forEach(function(a){Ys(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):es(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}var gc=/\n/g;function mc(e){return e.match(gc)}function fc(e){var t=e.lines,n=e.startingLineNumber,a=e.style;return t.map(function(r,o){var g=o+n;return de.createElement("span",{key:"line-".concat(o),className:"react-syntax-highlighter-line-number",style:typeof a=="function"?a(g):a},"".concat(g,`
`))})}function pc(e){var t=e.codeString,n=e.codeStyle,a=e.containerStyle,r=a===void 0?{float:"left",paddingRight:"10px"}:a,o=e.numberStyle,g=o===void 0?{}:o,p=e.startingLineNumber;return de.createElement("code",{style:Object.assign({},n,r)},fc({lines:t.replace(/\n$/,"").split(`
`),style:g,startingLineNumber:p}))}function hc(e){return"".concat(e.toString().length,".25em")}function Zs(e,t){return{type:"element",tagName:"span",properties:{key:"line-number--".concat(e),className:["comment","linenumber","react-syntax-highlighter-line-number"],style:t},children:[{type:"text",value:e}]}}function Qs(e,t,n){var a={display:"inline-block",minWidth:hc(n),paddingRight:"1em",textAlign:"right",userSelect:"none"},r=typeof e=="function"?e(t):e,o=Ge(Ge({},a),r);return o}function Tt(e){var t=e.children,n=e.lineNumber,a=e.lineNumberStyle,r=e.largestLineNumber,o=e.showInlineLineNumbers,g=e.lineProps,p=g===void 0?{}:g,d=e.className,m=d===void 0?[]:d,h=e.showLineNumbers,N=e.wrapLongLines,l=e.wrapLines,f=l===void 0?!1:l,x=f?Ge({},typeof p=="function"?p(n):p):{};if(x.className=x.className?[].concat(pn(x.className.trim().split(/\s+/)),pn(m)):m,n&&o){var b=Qs(a,n,r);t.unshift(Zs(n,b))}return N&h&&(x.style=Ge({display:"flex"},x.style)),{type:"element",tagName:"span",properties:x,children:t}}function ea(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];e.length===void 0&&(e=[e]);for(var a=0;a<e.length;a++){var r=e[a];if(r.type==="text")n.push(Tt({children:[r],className:pn(new Set(t))}));else if(r.children){var o,g=t.concat(((o=r.properties)===null||o===void 0?void 0:o.className)||[]);ea(r.children,g).forEach(function(p){return n.push(p)})}}return n}function yc(e,t,n,a,r,o,g,p,d){var m,h=ea(e.value),N=[],l=-1,f=0;function x(A,O){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return Tt({children:A,lineNumber:O,lineNumberStyle:p,largestLineNumber:g,showInlineLineNumbers:r,lineProps:n,className:M,showLineNumbers:a,wrapLongLines:d,wrapLines:t})}function b(A,O){if(a&&O&&r){var M=Qs(p,O,g);A.unshift(Zs(O,M))}return A}function u(A,O){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return t||M.length>0?x(A,O,M):b(A,O)}for(var y=function(){var O=h[f],M=O.children[0].value,W=mc(M);if(W){var P=M.split(`
`);P.forEach(function(T,V){var q=a&&N.length+o,Z={type:"text",value:"".concat(T,`
`)};if(V===0){var L=h.slice(l+1,f).concat(Tt({children:[Z],className:O.properties.className})),te=u(L,q);N.push(te)}else if(V===P.length-1){var ne=h[f+1]&&h[f+1].children&&h[f+1].children[0],ae={type:"text",value:"".concat(T)};if(ne){var me=Tt({children:[ae],className:O.properties.className});h.splice(f+1,0,me)}else{var he=[ae],Te=u(he,q,O.properties.className);N.push(Te)}}else{var H=[Z],ge=u(H,q,O.properties.className);N.push(ge)}}),l=f}f++};f<h.length;)y();if(l!==h.length-1){var w=h.slice(l+1,h.length);if(w&&w.length){var _=a&&N.length+o,k=u(w,_);N.push(k)}}return t?N:(m=[]).concat.apply(m,N)}function bc(e){var t=e.rows,n=e.stylesheet,a=e.useInlineStyles;return t.map(function(r,o){return Xs({node:r,stylesheet:n,useInlineStyles:a,key:"code-segment-".concat(o)})})}function ta(e){return e&&typeof e.highlightAuto<"u"}function xc(e){var t=e.astGenerator,n=e.language,a=e.code,r=e.defaultCodeValue;if(ta(t)){var o=uc(t,n);return n==="text"?{value:r,language:"text"}:o?t.highlight(n,a):t.highlightAuto(a)}try{return n&&n!=="text"?{value:t.highlight(a,n)}:{value:r}}catch{return{value:r}}}function vc(e,t){return function(a){var r,o,g=a.language,p=a.children,d=a.style,m=d===void 0?t:d,h=a.customStyle,N=h===void 0?{}:h,l=a.codeTagProps,f=l===void 0?{className:g?"language-".concat(g):void 0,style:Ge(Ge({},m['code[class*="language-"]']),m['code[class*="language-'.concat(g,'"]')])}:l,x=a.useInlineStyles,b=x===void 0?!0:x,u=a.showLineNumbers,y=u===void 0?!1:u,w=a.showInlineLineNumbers,_=w===void 0?!0:w,k=a.startingLineNumber,A=k===void 0?1:k,O=a.lineNumberContainerStyle,M=a.lineNumberStyle,W=M===void 0?{}:M,P=a.wrapLines,T=a.wrapLongLines,V=T===void 0?!1:T,q=a.lineProps,Z=q===void 0?{}:q,L=a.renderer,te=a.PreTag,ne=te===void 0?"pre":te,ae=a.CodeTag,me=ae===void 0?"code":ae,he=a.code,Te=he===void 0?(Array.isArray(p)?p[0]:p)||"":he,H=a.astGenerator,ge=Qi(a,dc);H=H||e;var fe=y?de.createElement(pc,{containerStyle:O,codeStyle:f.style||{},numberStyle:W,startingLineNumber:A,codeString:Te}):null,Re=m.hljs||m['pre[class*="language-"]']||{backgroundColor:"#fff"},Ce=ta(H)?"hljs":"prismjs",Ne=b?Object.assign({},ge,{style:Object.assign({},Re,N)}):Object.assign({},ge,{className:ge.className?"".concat(Ce," ").concat(ge.className):Ce,style:Object.assign({},N)});if(V?f.style=Ge({whiteSpace:"pre-wrap"},f.style):f.style=Ge({whiteSpace:"pre"},f.style),!H)return de.createElement(ne,Ne,fe,de.createElement(me,f,Te));(P===void 0&&L||V)&&(P=!0),L=L||bc;var rt=[{type:"text",value:Te}],Ae=xc({astGenerator:H,language:g,code:Te,defaultCodeValue:rt});Ae.language===null&&(Ae.value=rt);var Ve=(r=(o=Te.match(/\n/g))===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0,Pt=A+Ve,Mt=yc(Ae,P,Z,y,_,A,Pt,W,V);return de.createElement(ne,Ne,de.createElement(me,f,!_&&fe,L({rows:Mt,stylesheet:m,useInlineStyles:b})))}}var Je={},Wt,ts;function Ec(){if(ts)return Wt;ts=1;function e(c){return c instanceof Map?c.clear=c.delete=c.set=function(){throw new Error("map is read-only")}:c instanceof Set&&(c.add=c.clear=c.delete=function(){throw new Error("set is read-only")}),Object.freeze(c),Object.getOwnPropertyNames(c).forEach(function(v){var R=c[v];typeof R=="object"&&!Object.isFrozen(R)&&e(R)}),c}var t=e,n=e;t.default=n;class a{constructor(v){v.data===void 0&&(v.data={}),this.data=v.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function r(c){return c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function o(c,...v){const R=Object.create(null);for(const U in c)R[U]=c[U];return v.forEach(function(U){for(const se in U)R[se]=U[se]}),R}const g="</span>",p=c=>!!c.kind;class d{constructor(v,R){this.buffer="",this.classPrefix=R.classPrefix,v.walk(this)}addText(v){this.buffer+=r(v)}openNode(v){if(!p(v))return;let R=v.kind;v.sublanguage||(R=`${this.classPrefix}${R}`),this.span(R)}closeNode(v){p(v)&&(this.buffer+=g)}value(){return this.buffer}span(v){this.buffer+=`<span class="${v}">`}}class m{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(v){this.top.children.push(v)}openNode(v){const R={kind:v,children:[]};this.add(R),this.stack.push(R)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(v){return this.constructor._walk(v,this.rootNode)}static _walk(v,R){return typeof R=="string"?v.addText(R):R.children&&(v.openNode(R),R.children.forEach(U=>this._walk(v,U)),v.closeNode(R)),v}static _collapse(v){typeof v!="string"&&v.children&&(v.children.every(R=>typeof R=="string")?v.children=[v.children.join("")]:v.children.forEach(R=>{m._collapse(R)}))}}class h extends m{constructor(v){super(),this.options=v}addKeyword(v,R){v!==""&&(this.openNode(R),this.addText(v),this.closeNode())}addText(v){v!==""&&this.add(v)}addSublanguage(v,R){const U=v.root;U.kind=R,U.sublanguage=!0,this.add(U)}toHTML(){return new d(this,this.options).value()}finalize(){return!0}}function N(c){return new RegExp(c.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}function l(c){return c?typeof c=="string"?c:c.source:null}function f(...c){return c.map(R=>l(R)).join("")}function x(...c){return"("+c.map(R=>l(R)).join("|")+")"}function b(c){return new RegExp(c.toString()+"|").exec("").length-1}function u(c,v){const R=c&&c.exec(v);return R&&R.index===0}const y=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function w(c,v="|"){let R=0;return c.map(U=>{R+=1;const se=R;let ee=l(U),Ee="";for(;ee.length>0;){const I=y.exec(ee);if(!I){Ee+=ee;break}Ee+=ee.substring(0,I.index),ee=ee.substring(I.index+I[0].length),I[0][0]==="\\"&&I[1]?Ee+="\\"+String(Number(I[1])+se):(Ee+=I[0],I[0]==="("&&R++)}return Ee}).map(U=>`(${U})`).join(v)}const _=/\b\B/,k="[a-zA-Z]\\w*",A="[a-zA-Z_]\\w*",O="\\b\\d+(\\.\\d+)?",M="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",W="\\b(0b[01]+)",P="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",T=(c={})=>{const v=/^#![ ]*\//;return c.binary&&(c.begin=f(v,/.*\b/,c.binary,/\b.*/)),o({className:"meta",begin:v,end:/$/,relevance:0,"on:begin":(R,U)=>{R.index!==0&&U.ignoreMatch()}},c)},V={begin:"\\\\[\\s\\S]",relevance:0},q={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[V]},Z={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[V]},L={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},te=function(c,v,R={}){const U=o({className:"comment",begin:c,end:v,contains:[]},R);return U.contains.push(L),U.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),U},ne=te("//","$"),ae=te("/\\*","\\*/"),me=te("#","$"),he={className:"number",begin:O,relevance:0},Te={className:"number",begin:M,relevance:0},H={className:"number",begin:W,relevance:0},ge={className:"number",begin:O+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},fe={begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[V,{begin:/\[/,end:/\]/,relevance:0,contains:[V]}]}]},Re={className:"title",begin:k,relevance:0},Ce={className:"title",begin:A,relevance:0},Ne={begin:"\\.\\s*"+A,relevance:0};var Ae=Object.freeze({__proto__:null,MATCH_NOTHING_RE:_,IDENT_RE:k,UNDERSCORE_IDENT_RE:A,NUMBER_RE:O,C_NUMBER_RE:M,BINARY_NUMBER_RE:W,RE_STARTERS_RE:P,SHEBANG:T,BACKSLASH_ESCAPE:V,APOS_STRING_MODE:q,QUOTE_STRING_MODE:Z,PHRASAL_WORDS_MODE:L,COMMENT:te,C_LINE_COMMENT_MODE:ne,C_BLOCK_COMMENT_MODE:ae,HASH_COMMENT_MODE:me,NUMBER_MODE:he,C_NUMBER_MODE:Te,BINARY_NUMBER_MODE:H,CSS_NUMBER_MODE:ge,REGEXP_MODE:fe,TITLE_MODE:Re,UNDERSCORE_TITLE_MODE:Ce,METHOD_GUARD:Ne,END_SAME_AS_BEGIN:function(c){return Object.assign(c,{"on:begin":(v,R)=>{R.data._beginMatch=v[1]},"on:end":(v,R)=>{R.data._beginMatch!==v[1]&&R.ignoreMatch()}})}});function Ve(c,v){c.input[c.index-1]==="."&&v.ignoreMatch()}function Pt(c,v){v&&c.beginKeywords&&(c.begin="\\b("+c.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",c.__beforeBegin=Ve,c.keywords=c.keywords||c.beginKeywords,delete c.beginKeywords,c.relevance===void 0&&(c.relevance=0))}function Mt(c,v){Array.isArray(c.illegal)&&(c.illegal=x(...c.illegal))}function ur(c,v){if(c.match){if(c.begin||c.end)throw new Error("begin & end are not supported with match");c.begin=c.match,delete c.match}}function dr(c,v){c.relevance===void 0&&(c.relevance=1)}const gr=["of","and","for","in","not","or","if","then","parent","list","value"],mr="keyword";function Pn(c,v,R=mr){const U={};return typeof c=="string"?se(R,c.split(" ")):Array.isArray(c)?se(R,c):Object.keys(c).forEach(function(ee){Object.assign(U,Pn(c[ee],v,ee))}),U;function se(ee,Ee){v&&(Ee=Ee.map(I=>I.toLowerCase())),Ee.forEach(function(I){const $=I.split("|");U[$[0]]=[ee,fr($[0],$[1])]})}}function fr(c,v){return v?Number(v):pr(c)?0:1}function pr(c){return gr.includes(c.toLowerCase())}function hr(c,{plugins:v}){function R(I,$){return new RegExp(l(I),"m"+(c.case_insensitive?"i":"")+($?"g":""))}class U{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule($,G){G.position=this.position++,this.matchIndexes[this.matchAt]=G,this.regexes.push([G,$]),this.matchAt+=b($)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const $=this.regexes.map(G=>G[1]);this.matcherRe=R(w($),!0),this.lastIndex=0}exec($){this.matcherRe.lastIndex=this.lastIndex;const G=this.matcherRe.exec($);if(!G)return null;const J=G.findIndex((Ke,Bt)=>Bt>0&&Ke!==void 0),ye=this.matchIndexes[J];return G.splice(0,J),Object.assign(G,ye)}}class se{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher($){if(this.multiRegexes[$])return this.multiRegexes[$];const G=new U;return this.rules.slice($).forEach(([J,ye])=>G.addRule(J,ye)),G.compile(),this.multiRegexes[$]=G,G}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule($,G){this.rules.push([$,G]),G.type==="begin"&&this.count++}exec($){const G=this.getMatcher(this.regexIndex);G.lastIndex=this.lastIndex;let J=G.exec($);if(this.resumingScanAtSamePosition()&&!(J&&J.index===this.lastIndex)){const ye=this.getMatcher(0);ye.lastIndex=this.lastIndex+1,J=ye.exec($)}return J&&(this.regexIndex+=J.position+1,this.regexIndex===this.count&&this.considerAll()),J}}function ee(I){const $=new se;return I.contains.forEach(G=>$.addRule(G.begin,{rule:G,type:"begin"})),I.terminatorEnd&&$.addRule(I.terminatorEnd,{type:"end"}),I.illegal&&$.addRule(I.illegal,{type:"illegal"}),$}function Ee(I,$){const G=I;if(I.isCompiled)return G;[ur].forEach(ye=>ye(I,$)),c.compilerExtensions.forEach(ye=>ye(I,$)),I.__beforeBegin=null,[Pt,Mt,dr].forEach(ye=>ye(I,$)),I.isCompiled=!0;let J=null;if(typeof I.keywords=="object"&&(J=I.keywords.$pattern,delete I.keywords.$pattern),I.keywords&&(I.keywords=Pn(I.keywords,c.case_insensitive)),I.lexemes&&J)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return J=J||I.lexemes||/\w+/,G.keywordPatternRe=R(J,!0),$&&(I.begin||(I.begin=/\B|\b/),G.beginRe=R(I.begin),I.endSameAsBegin&&(I.end=I.begin),!I.end&&!I.endsWithParent&&(I.end=/\B|\b/),I.end&&(G.endRe=R(I.end)),G.terminatorEnd=l(I.end)||"",I.endsWithParent&&$.terminatorEnd&&(G.terminatorEnd+=(I.end?"|":"")+$.terminatorEnd)),I.illegal&&(G.illegalRe=R(I.illegal)),I.contains||(I.contains=[]),I.contains=[].concat(...I.contains.map(function(ye){return yr(ye==="self"?I:ye)})),I.contains.forEach(function(ye){Ee(ye,G)}),I.starts&&Ee(I.starts,$),G.matcher=ee(G),G}if(c.compilerExtensions||(c.compilerExtensions=[]),c.contains&&c.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return c.classNameAliases=o(c.classNameAliases||{}),Ee(c)}function Mn(c){return c?c.endsWithParent||Mn(c.starts):!1}function yr(c){return c.variants&&!c.cachedVariants&&(c.cachedVariants=c.variants.map(function(v){return o(c,{variants:null},v)})),c.cachedVariants?c.cachedVariants:Mn(c)?o(c,{starts:c.starts?o(c.starts):null}):Object.isFrozen(c)?o(c):c}var br="10.7.3";function xr(c){return!!(c||c==="")}function vr(c){const v={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted(){if(!this.autoDetect&&!c.getLanguage(this.language))return console.warn(`The language "${this.language}" you specified could not be found.`),this.unknownLanguage=!0,r(this.code);let U={};return this.autoDetect?(U=c.highlightAuto(this.code),this.detectedLanguage=U.language):(U=c.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),U.value},autoDetect(){return!this.language||xr(this.autodetect)},ignoreIllegals(){return!0}},render(U){return U("pre",{},[U("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}};return{Component:v,VuePlugin:{install(U){U.component("highlightjs",v)}}}}const Er={"after:highlightElement":({el:c,result:v,text:R})=>{const U=Dn(c);if(!U.length)return;const se=document.createElement("div");se.innerHTML=v.value,v.value=Nr(U,Dn(se),R)}};function Dt(c){return c.nodeName.toLowerCase()}function Dn(c){const v=[];return function R(U,se){for(let ee=U.firstChild;ee;ee=ee.nextSibling)ee.nodeType===3?se+=ee.nodeValue.length:ee.nodeType===1&&(v.push({event:"start",offset:se,node:ee}),se=R(ee,se),Dt(ee).match(/br|hr|img|input/)||v.push({event:"stop",offset:se,node:ee}));return se}(c,0),v}function Nr(c,v,R){let U=0,se="";const ee=[];function Ee(){return!c.length||!v.length?c.length?c:v:c[0].offset!==v[0].offset?c[0].offset<v[0].offset?c:v:v[0].event==="start"?c:v}function I(J){function ye(Ke){return" "+Ke.nodeName+'="'+r(Ke.value)+'"'}se+="<"+Dt(J)+[].map.call(J.attributes,ye).join("")+">"}function $(J){se+="</"+Dt(J)+">"}function G(J){(J.event==="start"?I:$)(J.node)}for(;c.length||v.length;){let J=Ee();if(se+=r(R.substring(U,J[0].offset)),U=J[0].offset,J===c){ee.reverse().forEach($);do G(J.splice(0,1)[0]),J=Ee();while(J===c&&J.length&&J[0].offset===U);ee.reverse().forEach(I)}else J[0].event==="start"?ee.push(J[0].node):ee.pop(),G(J.splice(0,1)[0])}return se+r(R.substr(U))}const Ln={},Lt=c=>{console.error(c)},$n=(c,...v)=>{console.log(`WARN: ${c}`,...v)},ke=(c,v)=>{Ln[`${c}/${v}`]||(console.log(`Deprecated as of ${c}. ${v}`),Ln[`${c}/${v}`]=!0)},$t=r,Bn=o,Un=Symbol("nomatch");var wr=function(c){const v=Object.create(null),R=Object.create(null),U=[];let se=!0;const ee=/(^(<[^>]+>|\t|)+|\n)/gm,Ee="Could not find the language '{}', did you forget to load/include a language module?",I={disableAutodetect:!0,name:"Plain text",contains:[]};let $={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:h};function G(S){return $.noHighlightRe.test(S)}function J(S){let D=S.className+" ";D+=S.parentNode?S.parentNode.className:"";const Q=$.languageDetectRe.exec(D);if(Q){const ue=Ue(Q[1]);return ue||($n(Ee.replace("{}",Q[1])),$n("Falling back to no-highlight mode for this block.",S)),ue?Q[1]:"no-highlight"}return D.split(/\s+/).find(ue=>G(ue)||Ue(ue))}function ye(S,D,Q,ue){let we="",qe="";typeof D=="object"?(we=S,Q=D.ignoreIllegals,qe=D.language,ue=void 0):(ke("10.7.0","highlight(lang, code, ...args) has been deprecated."),ke("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),qe=S,we=D);const Ie={code:we,language:qe};yt("before:highlight",Ie);const Pe=Ie.result?Ie.result:Ke(Ie.language,Ie.code,Q,ue);return Pe.code=Ie.code,yt("after:highlight",Pe),Pe}function Ke(S,D,Q,ue){function we(B,F){const X=Ye.case_insensitive?F[0].toLowerCase():F[0];return Object.prototype.hasOwnProperty.call(B.keywords,X)&&B.keywords[X]}function qe(){if(!Y.keywords){je.addText(xe);return}let B=0;Y.keywordPatternRe.lastIndex=0;let F=Y.keywordPatternRe.exec(xe),X="";for(;F;){X+=xe.substring(B,F.index);const re=we(Y,F);if(re){const[Oe,vt]=re;if(je.addText(X),X="",xt+=vt,Oe.startsWith("_"))X+=F[0];else{const Gr=Ye.classNameAliases[Oe]||Oe;je.addKeyword(F[0],Gr)}}else X+=F[0];B=Y.keywordPatternRe.lastIndex,F=Y.keywordPatternRe.exec(xe)}X+=xe.substr(B),je.addText(X)}function Ie(){if(xe==="")return;let B=null;if(typeof Y.subLanguage=="string"){if(!v[Y.subLanguage]){je.addText(xe);return}B=Ke(Y.subLanguage,xe,!0,Gn[Y.subLanguage]),Gn[Y.subLanguage]=B.top}else B=Ut(xe,Y.subLanguage.length?Y.subLanguage:null);Y.relevance>0&&(xt+=B.relevance),je.addSublanguage(B.emitter,B.language)}function Pe(){Y.subLanguage!=null?Ie():qe(),xe=""}function Me(B){return B.className&&je.openNode(Ye.classNameAliases[B.className]||B.className),Y=Object.create(B,{parent:{value:Y}}),Y}function He(B,F,X){let re=u(B.endRe,X);if(re){if(B["on:end"]){const Oe=new a(B);B["on:end"](F,Oe),Oe.isMatchIgnored&&(re=!1)}if(re){for(;B.endsParent&&B.parent;)B=B.parent;return B}}if(B.endsWithParent)return He(B.parent,F,X)}function Ur(B){return Y.matcher.regexIndex===0?(xe+=B[0],1):(Gt=!0,0)}function Fr(B){const F=B[0],X=B.rule,re=new a(X),Oe=[X.__beforeBegin,X["on:begin"]];for(const vt of Oe)if(vt&&(vt(B,re),re.isMatchIgnored))return Ur(F);return X&&X.endSameAsBegin&&(X.endRe=N(F)),X.skip?xe+=F:(X.excludeBegin&&(xe+=F),Pe(),!X.returnBegin&&!X.excludeBegin&&(xe=F)),Me(X),X.returnBegin?0:F.length}function zr(B){const F=B[0],X=D.substr(B.index),re=He(Y,B,X);if(!re)return Un;const Oe=Y;Oe.skip?xe+=F:(Oe.returnEnd||Oe.excludeEnd||(xe+=F),Pe(),Oe.excludeEnd&&(xe=F));do Y.className&&je.closeNode(),!Y.skip&&!Y.subLanguage&&(xt+=Y.relevance),Y=Y.parent;while(Y!==re.parent);return re.starts&&(re.endSameAsBegin&&(re.starts.endRe=re.endRe),Me(re.starts)),Oe.returnEnd?0:F.length}function Kr(){const B=[];for(let F=Y;F!==Ye;F=F.parent)F.className&&B.unshift(F.className);B.forEach(F=>je.openNode(F))}let bt={};function Hn(B,F){const X=F&&F[0];if(xe+=B,X==null)return Pe(),0;if(bt.type==="begin"&&F.type==="end"&&bt.index===F.index&&X===""){if(xe+=D.slice(F.index,F.index+1),!se){const re=new Error("0 width match regex");throw re.languageName=S,re.badRule=bt.rule,re}return 1}if(bt=F,F.type==="begin")return Fr(F);if(F.type==="illegal"&&!Q){const re=new Error('Illegal lexeme "'+X+'" for mode "'+(Y.className||"<unnamed>")+'"');throw re.mode=Y,re}else if(F.type==="end"){const re=zr(F);if(re!==Un)return re}if(F.type==="illegal"&&X==="")return 1;if(Ht>1e5&&Ht>F.index*3)throw new Error("potential infinite loop, way more iterations than matches");return xe+=X,X.length}const Ye=Ue(S);if(!Ye)throw Lt(Ee.replace("{}",S)),new Error('Unknown language: "'+S+'"');const Hr=hr(Ye,{plugins:U});let Kt="",Y=ue||Hr;const Gn={},je=new $.__emitter($);Kr();let xe="",xt=0,Xe=0,Ht=0,Gt=!1;try{for(Y.matcher.considerAll();;){Ht++,Gt?Gt=!1:Y.matcher.considerAll(),Y.matcher.lastIndex=Xe;const B=Y.matcher.exec(D);if(!B)break;const F=D.substring(Xe,B.index),X=Hn(F,B);Xe=B.index+X}return Hn(D.substr(Xe)),je.closeAllNodes(),je.finalize(),Kt=je.toHTML(),{relevance:Math.floor(xt),value:Kt,language:S,illegal:!1,emitter:je,top:Y}}catch(B){if(B.message&&B.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:B.message,context:D.slice(Xe-100,Xe+100),mode:B.mode},sofar:Kt,relevance:0,value:$t(D),emitter:je};if(se)return{illegal:!1,relevance:0,value:$t(D),emitter:je,language:S,top:Y,errorRaised:B};throw B}}function Bt(S){const D={relevance:0,emitter:new $.__emitter($),value:$t(S),illegal:!1,top:I};return D.emitter.addText(S),D}function Ut(S,D){D=D||$.languages||Object.keys(v);const Q=Bt(S),ue=D.filter(Ue).filter(Kn).map(Me=>Ke(Me,S,!1));ue.unshift(Q);const we=ue.sort((Me,He)=>{if(Me.relevance!==He.relevance)return He.relevance-Me.relevance;if(Me.language&&He.language){if(Ue(Me.language).supersetOf===He.language)return 1;if(Ue(He.language).supersetOf===Me.language)return-1}return 0}),[qe,Ie]=we,Pe=qe;return Pe.second_best=Ie,Pe}function Sr(S){return $.tabReplace||$.useBR?S.replace(ee,D=>D===`
`?$.useBR?"<br>":D:$.tabReplace?D.replace(/\t/g,$.tabReplace):D):S}function _r(S,D,Q){const ue=D?R[D]:Q;S.classList.add("hljs"),ue&&S.classList.add(ue)}const Tr={"before:highlightElement":({el:S})=>{$.useBR&&(S.innerHTML=S.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,`
`))},"after:highlightElement":({result:S})=>{$.useBR&&(S.value=S.value.replace(/\n/g,"<br>"))}},Cr=/^(<[^>]+>|\t)+/gm,jr={"after:highlightElement":({result:S})=>{$.tabReplace&&(S.value=S.value.replace(Cr,D=>D.replace(/\t/g,$.tabReplace)))}};function ht(S){let D=null;const Q=J(S);if(G(Q))return;yt("before:highlightElement",{el:S,language:Q}),D=S;const ue=D.textContent,we=Q?ye(ue,{language:Q,ignoreIllegals:!0}):Ut(ue);yt("after:highlightElement",{el:S,result:we,text:ue}),S.innerHTML=we.value,_r(S,Q,we.language),S.result={language:we.language,re:we.relevance,relavance:we.relevance},we.second_best&&(S.second_best={language:we.second_best.language,re:we.second_best.relevance,relavance:we.second_best.relevance})}function Rr(S){S.useBR&&(ke("10.3.0","'useBR' will be removed entirely in v11.0"),ke("10.3.0","Please see https://github.com/highlightjs/highlight.js/issues/2559")),$=Bn($,S)}const Ft=()=>{if(Ft.called)return;Ft.called=!0,ke("10.6.0","initHighlighting() is deprecated.  Use highlightAll() instead."),document.querySelectorAll("pre code").forEach(ht)};function Ar(){ke("10.6.0","initHighlightingOnLoad() is deprecated.  Use highlightAll() instead."),zt=!0}let zt=!1;function Fn(){if(document.readyState==="loading"){zt=!0;return}document.querySelectorAll("pre code").forEach(ht)}function Or(){zt&&Fn()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",Or,!1);function kr(S,D){let Q=null;try{Q=D(c)}catch(ue){if(Lt("Language definition for '{}' could not be registered.".replace("{}",S)),se)Lt(ue);else throw ue;Q=I}Q.name||(Q.name=S),v[S]=Q,Q.rawDefinition=D.bind(null,c),Q.aliases&&zn(Q.aliases,{languageName:S})}function Ir(S){delete v[S];for(const D of Object.keys(R))R[D]===S&&delete R[D]}function Pr(){return Object.keys(v)}function Mr(S){ke("10.4.0","requireLanguage will be removed entirely in v11."),ke("10.4.0","Please see https://github.com/highlightjs/highlight.js/pull/2844");const D=Ue(S);if(D)return D;throw new Error("The '{}' language is required, but not loaded.".replace("{}",S))}function Ue(S){return S=(S||"").toLowerCase(),v[S]||v[R[S]]}function zn(S,{languageName:D}){typeof S=="string"&&(S=[S]),S.forEach(Q=>{R[Q.toLowerCase()]=D})}function Kn(S){const D=Ue(S);return D&&!D.disableAutodetect}function Dr(S){S["before:highlightBlock"]&&!S["before:highlightElement"]&&(S["before:highlightElement"]=D=>{S["before:highlightBlock"](Object.assign({block:D.el},D))}),S["after:highlightBlock"]&&!S["after:highlightElement"]&&(S["after:highlightElement"]=D=>{S["after:highlightBlock"](Object.assign({block:D.el},D))})}function Lr(S){Dr(S),U.push(S)}function yt(S,D){const Q=S;U.forEach(function(ue){ue[Q]&&ue[Q](D)})}function $r(S){return ke("10.2.0","fixMarkup will be removed entirely in v11.0"),ke("10.2.0","Please see https://github.com/highlightjs/highlight.js/issues/2534"),Sr(S)}function Br(S){return ke("10.7.0","highlightBlock will be removed entirely in v12.0"),ke("10.7.0","Please use highlightElement now."),ht(S)}Object.assign(c,{highlight:ye,highlightAuto:Ut,highlightAll:Fn,fixMarkup:$r,highlightElement:ht,highlightBlock:Br,configure:Rr,initHighlighting:Ft,initHighlightingOnLoad:Ar,registerLanguage:kr,unregisterLanguage:Ir,listLanguages:Pr,getLanguage:Ue,registerAliases:zn,requireLanguage:Mr,autoDetection:Kn,inherit:Bn,addPlugin:Lr,vuePlugin:vr(c).VuePlugin}),c.debugMode=function(){se=!1},c.safeMode=function(){se=!0},c.versionString=br;for(const S in Ae)typeof Ae[S]=="object"&&t(Ae[S]);return Object.assign(c,Ae),c.addPlugin(Tr),c.addPlugin(Er),c.addPlugin(jr),c}({});return Wt=wr,Wt}var Yt={exports:{}},ns;function Nc(){return ns||(ns=1,function(e){(function(){var t;t=e.exports=r,t.format=r,t.vsprintf=a,typeof console<"u"&&typeof console.log=="function"&&(t.printf=n);function n(){console.log(r.apply(null,arguments))}function a(o,g){return r.apply(null,[o].concat(g))}function r(o){for(var g=1,p=[].slice.call(arguments),d=0,m=o.length,h="",N,l=!1,f,x,b=!1,u,y=function(){return p[g++]},w=function(){for(var _="";/\d/.test(o[d]);)_+=o[d++],N=o[d];return _.length>0?parseInt(_):null};d<m;++d)if(N=o[d],l)switch(l=!1,N=="."?(b=!1,N=o[++d]):N=="0"&&o[d+1]=="."?(b=!0,d+=2,N=o[d]):b=!0,u=w(),N){case"b":h+=parseInt(y(),10).toString(2);break;case"c":f=y(),typeof f=="string"||f instanceof String?h+=f:h+=String.fromCharCode(parseInt(f,10));break;case"d":h+=parseInt(y(),10);break;case"f":x=String(parseFloat(y()).toFixed(u||6)),h+=b?x:x.replace(/^0/,"");break;case"j":h+=JSON.stringify(y());break;case"o":h+="0"+parseInt(y(),10).toString(8);break;case"s":h+=y();break;case"x":h+="0x"+parseInt(y(),10).toString(16);break;case"X":h+="0x"+parseInt(y(),10).toString(16).toUpperCase();break;default:h+=N;break}else N==="%"?l=!0:h+=N;return h}})()}(Yt)),Yt.exports}var Xt,ss;function wc(){if(ss)return Xt;ss=1;var e=Nc(),t=n(Error);Xt=t,t.eval=n(EvalError),t.range=n(RangeError),t.reference=n(ReferenceError),t.syntax=n(SyntaxError),t.type=n(TypeError),t.uri=n(URIError),t.create=n;function n(a){return r.displayName=a.displayName||a.name,r;function r(o){return o&&(o=e.apply(null,arguments)),new a(o)}}return Xt}var as;function Sc(){if(as)return Je;as=1;var e=Ec(),t=wc();Je.highlight=a,Je.highlightAuto=r,Je.registerLanguage=o,Je.listLanguages=g,Je.registerAlias=p,d.prototype.addText=N,d.prototype.addKeyword=m,d.prototype.addSublanguage=h,d.prototype.openNode=l,d.prototype.closeNode=f,d.prototype.closeAllNodes=b,d.prototype.finalize=b,d.prototype.toHTML=x;var n="hljs-";function a(u,y,w){var _=e.configure({}),k=w||{},A=k.prefix,O;if(typeof u!="string")throw t("Expected `string` for name, got `%s`",u);if(!e.getLanguage(u))throw t("Unknown language: `%s` is not registered",u);if(typeof y!="string")throw t("Expected `string` for value, got `%s`",y);if(A==null&&(A=n),e.configure({__emitter:d,classPrefix:A}),O=e.highlight(y,{language:u,ignoreIllegals:!0}),e.configure(_||{}),O.errorRaised)throw O.errorRaised;return{relevance:O.relevance,language:O.language,value:O.emitter.rootNode.children}}function r(u,y){var w=y||{},_=w.subset||e.listLanguages(),k=_.length,A=-1,O,M,W,P;if(typeof u!="string")throw t("Expected `string` for value, got `%s`",u);for(M={relevance:0,language:null,value:[]},O={relevance:0,language:null,value:[]};++A<k;)P=_[A],e.getLanguage(P)&&(W=a(P,u,y),W.language=P,W.relevance>M.relevance&&(M=W),W.relevance>O.relevance&&(M=O,O=W));return M.language&&(O.secondBest=M),O}function o(u,y){e.registerLanguage(u,y)}function g(){return e.listLanguages()}function p(u,y){var w=u,_;y&&(w={},w[u]=y);for(_ in w)e.registerAliases(w[_],{languageName:_})}function d(u){this.options=u,this.rootNode={children:[]},this.stack=[this.rootNode]}function m(u,y){this.openNode(y),this.addText(u),this.closeNode()}function h(u,y){var w=this.stack,_=w[w.length-1],k=u.rootNode.children,A=y?{type:"element",tagName:"span",properties:{className:[y]},children:k}:k;_.children=_.children.concat(A)}function N(u){var y=this.stack,w,_;u!==""&&(w=y[y.length-1],_=w.children[w.children.length-1],_&&_.type==="text"?_.value+=u:w.children.push({type:"text",value:u}))}function l(u){var y=this.stack,w=this.options.classPrefix+u,_=y[y.length-1],k={type:"element",tagName:"span",properties:{className:[w]},children:[]};_.children.push(k),y.push(k)}function f(){this.stack.pop()}function x(){return""}function b(){}return Je}var Zt,rs;function _c(){if(rs)return Zt;rs=1;function e(a){return a?typeof a=="string"?a:a.source:null}function t(...a){return a.map(o=>e(o)).join("")}function n(a){const r={},o={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[r]}]};Object.assign(r,{className:"variable",variants:[{begin:t(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},o]});const g={className:"subst",begin:/\$\(/,end:/\)/,contains:[a.BACKSLASH_ESCAPE]},p={begin:/<<-?\s*(?=\w+)/,starts:{contains:[a.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},d={className:"string",begin:/"/,end:/"/,contains:[a.BACKSLASH_ESCAPE,r,g]};g.contains.push(d);const m={className:"",begin:/\\"/},h={className:"string",begin:/'/,end:/'/},N={begin:/\$\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},a.NUMBER_MODE,r]},l=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],f=a.SHEBANG({binary:`(${l.join("|")})`,relevance:10}),x={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[a.inherit(a.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0};return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z._-]+\b/,keyword:"if then else elif fi for while in do done case esac function",literal:"true false",built_in:"break cd continue eval exec exit export getopts hash pwd readonly return shift test times trap umask unset alias bind builtin caller command declare echo enable help let local logout mapfile printf read readarray source type typeset ulimit unalias set shopt autoload bg bindkey bye cap chdir clone comparguments compcall compctl compdescribe compfiles compgroups compquote comptags comptry compvalues dirs disable disown echotc echoti emulate fc fg float functions getcap getln history integer jobs kill limit log noglob popd print pushd pushln rehash sched setcap setopt stat suspend ttyctl unfunction unhash unlimit unsetopt vared wait whence where which zcompile zformat zftp zle zmodload zparseopts zprof zpty zregexparse zsocket zstyle ztcp"},contains:[f,a.SHEBANG(),x,N,a.HASH_COMMENT_MODE,p,d,m,h,r]}}return Zt=n,Zt}var Qt,os;function Tc(){if(os)return Qt;os=1;function e(t){const n={keyword:"break default func interface select case map struct chan else goto package switch const fallthrough if range type continue for import return var go defer bool byte complex64 complex128 float32 float64 int8 int16 int32 int64 string uint8 uint16 uint32 uint64 int uint uintptr rune",literal:"true false iota nil",built_in:"append cap close complex copy imag len make new panic print println real recover delete"};return{name:"Go",aliases:["golang"],keywords:n,illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"string",variants:[t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{begin:t.C_NUMBER_RE+"[i]",relevance:1},t.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[t.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,keywords:n,illegal:/["']/}]}]}}return Qt=e,Qt}var en,is;function Cc(){if(is)return en;is=1;var e="[0-9](_*[0-9])*",t=`\\.(${e})`,n="[0-9a-fA-F](_*[0-9a-fA-F])*",a={className:"number",variants:[{begin:`(\\b(${e})((${t})|\\.)?|(${t}))[eE][+-]?(${e})[fFdD]?\\b`},{begin:`\\b(${e})((${t})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${t})[fFdD]?\\b`},{begin:`\\b(${e})[fFdD]\\b`},{begin:`\\b0[xX]((${n})\\.?|(${n})?\\.(${n}))[pP][+-]?(${e})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${n})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function r(o){var g="[-a-zA-Z_$][-a-zA-Z_$0-9]*",p=g+"(<"+g+"(\\s*,\\s*"+g+")*>)?",d="false synchronized int abstract float private char boolean var static null if const for true while long strictfp finally protected import native final void enum else break transient catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private module requires exports do",m={className:"meta",begin:"@"+g,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]};const h=a;return{name:"Java",aliases:["jsp"],keywords:d,illegal:/<\/|#/,contains:[o.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},o.C_LINE_COMMENT_MODE,o.C_BLOCK_COMMENT_MODE,o.APOS_STRING_MODE,o.QUOTE_STRING_MODE,{className:"class",beginKeywords:"class interface enum",end:/[{;=]/,excludeEnd:!0,relevance:1,keywords:"class interface enum",illegal:/[:"\[\]]/,contains:[{beginKeywords:"extends implements"},o.UNDERSCORE_TITLE_MODE]},{beginKeywords:"new throw return else",relevance:0},{className:"class",begin:"record\\s+"+o.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,excludeEnd:!0,end:/[{;=]/,keywords:d,contains:[{beginKeywords:"record"},{begin:o.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[o.UNDERSCORE_TITLE_MODE]},{className:"params",begin:/\(/,end:/\)/,keywords:d,relevance:0,contains:[o.C_BLOCK_COMMENT_MODE]},o.C_LINE_COMMENT_MODE,o.C_BLOCK_COMMENT_MODE]},{className:"function",begin:"("+p+"\\s+)+"+o.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:d,contains:[{begin:o.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[o.UNDERSCORE_TITLE_MODE]},{className:"params",begin:/\(/,end:/\)/,keywords:d,relevance:0,contains:[m,o.APOS_STRING_MODE,o.QUOTE_STRING_MODE,h,o.C_BLOCK_COMMENT_MODE]},o.C_LINE_COMMENT_MODE,o.C_BLOCK_COMMENT_MODE]},h,m]}}return en=r,en}var tn,cs;function jc(){if(cs)return tn;cs=1;const e="[A-Za-z$_][0-9A-Za-z$_]*",t=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],n=["true","false","null","undefined","NaN","Infinity"],a=["Intl","DataView","Number","Math","Date","String","RegExp","Object","Function","Boolean","Error","Symbol","Set","Map","WeakSet","WeakMap","Proxy","Reflect","JSON","Promise","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Float32Array","Array","Uint8Array","Uint8ClampedArray","ArrayBuffer","BigInt64Array","BigUint64Array","BigInt"],r=["EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],o=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],g=["arguments","this","super","console","window","document","localStorage","module","global"],p=[].concat(o,g,a,r);function d(l){return l?typeof l=="string"?l:l.source:null}function m(l){return h("(?=",l,")")}function h(...l){return l.map(x=>d(x)).join("")}function N(l){const f=(ne,{after:ae})=>{const me="</"+ne[0].slice(1);return ne.input.indexOf(me,ae)!==-1},x=e,b={begin:"<>",end:"</>"},u={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(ne,ae)=>{const me=ne[0].length+ne.index,he=ne.input[me];if(he==="<"){ae.ignoreMatch();return}he===">"&&(f(ne,{after:me})||ae.ignoreMatch())}},y={$pattern:e,keyword:t,literal:n,built_in:p},w="[0-9](_?[0-9])*",_=`\\.(${w})`,k="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",A={className:"number",variants:[{begin:`(\\b(${k})((${_})|\\.)?|(${_}))[eE][+-]?(${w})\\b`},{begin:`\\b(${k})\\b((${_})\\b|\\.)?|(${_})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},O={className:"subst",begin:"\\$\\{",end:"\\}",keywords:y,contains:[]},M={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[l.BACKSLASH_ESCAPE,O],subLanguage:"xml"}},W={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[l.BACKSLASH_ESCAPE,O],subLanguage:"css"}},P={className:"string",begin:"`",end:"`",contains:[l.BACKSLASH_ESCAPE,O]},V={className:"comment",variants:[l.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+",contains:[{className:"type",begin:"\\{",end:"\\}",relevance:0},{className:"variable",begin:x+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),l.C_BLOCK_COMMENT_MODE,l.C_LINE_COMMENT_MODE]},q=[l.APOS_STRING_MODE,l.QUOTE_STRING_MODE,M,W,P,A,l.REGEXP_MODE];O.contains=q.concat({begin:/\{/,end:/\}/,keywords:y,contains:["self"].concat(q)});const Z=[].concat(V,O.contains),L=Z.concat([{begin:/\(/,end:/\)/,keywords:y,contains:["self"].concat(Z)}]),te={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:y,contains:L};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:y,exports:{PARAMS_CONTAINS:L},illegal:/#(?![$_A-z])/,contains:[l.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},l.APOS_STRING_MODE,l.QUOTE_STRING_MODE,M,W,P,V,A,{begin:h(/[{,\n]\s*/,m(h(/(((\/\/.*$)|(\/\*(\*[^/]|[^*])*\*\/))\s*)*/,x+"\\s*:"))),relevance:0,contains:[{className:"attr",begin:x+m("\\s*:"),relevance:0}]},{begin:"("+l.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",contains:[V,l.REGEXP_MODE,{className:"function",begin:"(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+l.UNDERSCORE_IDENT_RE+")\\s*=>",returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:l.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:y,contains:L}]}]},{begin:/,/,relevance:0},{className:"",begin:/\s/,end:/\s*/,skip:!0},{variants:[{begin:b.begin,end:b.end},{begin:u.begin,"on:begin":u.isTrulyOpeningTag,end:u.end}],subLanguage:"xml",contains:[{begin:u.begin,end:u.end,skip:!0,contains:["self"]}]}],relevance:0},{className:"function",beginKeywords:"function",end:/[{;]/,excludeEnd:!0,keywords:y,contains:["self",l.inherit(l.TITLE_MODE,{begin:x}),te],illegal:/%/},{beginKeywords:"while if switch catch for"},{className:"function",begin:l.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,contains:[te,l.inherit(l.TITLE_MODE,{begin:x})]},{variants:[{begin:"\\."+x},{begin:"\\$"+x}],relevance:0},{className:"class",beginKeywords:"class",end:/[{;=]/,excludeEnd:!0,illegal:/[:"[\]]/,contains:[{beginKeywords:"extends"},l.UNDERSCORE_TITLE_MODE]},{begin:/\b(?=constructor)/,end:/[{;]/,excludeEnd:!0,contains:[l.inherit(l.TITLE_MODE,{begin:x}),"self",te]},{begin:"(get|set)\\s+(?="+x+"\\()",end:/\{/,keywords:"get set",contains:[l.inherit(l.TITLE_MODE,{begin:x}),{begin:/\(\)/},te]},{begin:/\$[(.]/}]}}return tn=N,tn}var nn,ls;function Rc(){if(ls)return nn;ls=1;function e(t){const n={literal:"true false null"},a=[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],r=[t.QUOTE_STRING_MODE,t.C_NUMBER_MODE],o={end:",",endsWithParent:!0,excludeEnd:!0,contains:r,keywords:n},g={begin:/\{/,end:/\}/,contains:[{className:"attr",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE],illegal:"\\n"},t.inherit(o,{begin:/:/})].concat(a),illegal:"\\S"},p={begin:"\\[",end:"\\]",contains:[t.inherit(o)],illegal:"\\S"};return r.push(g,p),a.forEach(function(d){r.push(d)}),{name:"JSON",contains:r,keywords:n,illegal:"\\S"}}return nn=e,nn}var sn,us;function Ac(){if(us)return sn;us=1;function e(r){return r?typeof r=="string"?r:r.source:null}function t(r){return n("(?=",r,")")}function n(...r){return r.map(g=>e(g)).join("")}function a(r){const m={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:["and","as","assert","async","await","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},h={className:"meta",begin:/^(>>>|\.\.\.) /},N={className:"subst",begin:/\{/,end:/\}/,keywords:m,illegal:/#/},l={begin:/\{\{/,relevance:0},f={className:"string",contains:[r.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[r.BACKSLASH_ESCAPE,h],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[r.BACKSLASH_ESCAPE,h],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[r.BACKSLASH_ESCAPE,h,l,N]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[r.BACKSLASH_ESCAPE,h,l,N]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[r.BACKSLASH_ESCAPE,l,N]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[r.BACKSLASH_ESCAPE,l,N]},r.APOS_STRING_MODE,r.QUOTE_STRING_MODE]},x="[0-9](_?[0-9])*",b=`(\\b(${x}))?\\.(${x})|\\b(${x})\\.`,u={className:"number",relevance:0,variants:[{begin:`(\\b(${x})|(${b}))[eE][+-]?(${x})[jJ]?\\b`},{begin:`(${b})[jJ]?`},{begin:"\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?\\b"},{begin:"\\b0[bB](_?[01])+[lL]?\\b"},{begin:"\\b0[oO](_?[0-7])+[lL]?\\b"},{begin:"\\b0[xX](_?[0-9a-fA-F])+[lL]?\\b"},{begin:`\\b(${x})[jJ]\\b`}]},y={className:"comment",begin:t(/# type:/),end:/$/,keywords:m,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},w={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:m,contains:["self",h,u,f,r.HASH_COMMENT_MODE]}]};return N.contains=[f,u,h],{name:"Python",aliases:["py","gyp","ipython"],keywords:m,illegal:/(<\/|->|\?)|=>/,contains:[h,u,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},f,y,r.HASH_COMMENT_MODE,{variants:[{className:"function",beginKeywords:"def"},{className:"class",beginKeywords:"class"}],end:/:/,illegal:/[${=;\n,]/,contains:[r.UNDERSCORE_TITLE_MODE,w,{begin:/->/,endsWithParent:!0,keywords:m}]},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[u,w,f]}]}}return sn=a,sn}var an,ds;function Oc(){if(ds)return an;ds=1;function e(t){var n="true false yes no null",a="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:"\\w[\\w :\\/.-]*:(?=[ 	]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ 	]|$)'},{begin:"'\\w[\\w :\\/.-]*':(?=[ 	]|$)"}]},o={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},g={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[t.BACKSLASH_ESCAPE,o]},p=t.inherit(g,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),d="[0-9]{4}(-[0-9][0-9]){0,2}",m="([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?",h="(\\.[0-9]*)?",N="([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?",l={className:"number",begin:"\\b"+d+m+h+N+"\\b"},f={end:",",endsWithParent:!0,excludeEnd:!0,keywords:n,relevance:0},x={begin:/\{/,end:/\}/,contains:[f],illegal:"\\n",relevance:0},b={begin:"\\[",end:"\\]",contains:[f],illegal:"\\n",relevance:0},u=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+a},{className:"type",begin:"!<"+a+">"},{className:"type",begin:"!"+a},{className:"type",begin:"!!"+a},{className:"meta",begin:"&"+t.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+t.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},t.HASH_COMMENT_MODE,{beginKeywords:n,keywords:{literal:n}},l,{className:"number",begin:t.C_NUMBER_RE+"\\b",relevance:0},x,b,g],y=[...u];return y.pop(),y.push(p),f.contains=y,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:u}}return an=e,an}var rn,gs;function kc(){if(gs)return rn;gs=1;const e="[A-Za-z$_][0-9A-Za-z$_]*",t=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],n=["true","false","null","undefined","NaN","Infinity"],a=["Intl","DataView","Number","Math","Date","String","RegExp","Object","Function","Boolean","Error","Symbol","Set","Map","WeakSet","WeakMap","Proxy","Reflect","JSON","Promise","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Float32Array","Array","Uint8Array","Uint8ClampedArray","ArrayBuffer","BigInt64Array","BigUint64Array","BigInt"],r=["EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],o=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],g=["arguments","this","super","console","window","document","localStorage","module","global"],p=[].concat(o,g,a,r);function d(f){return f?typeof f=="string"?f:f.source:null}function m(f){return h("(?=",f,")")}function h(...f){return f.map(b=>d(b)).join("")}function N(f){const x=(ae,{after:me})=>{const he="</"+ae[0].slice(1);return ae.input.indexOf(he,me)!==-1},b=e,u={begin:"<>",end:"</>"},y={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(ae,me)=>{const he=ae[0].length+ae.index,Te=ae.input[he];if(Te==="<"){me.ignoreMatch();return}Te===">"&&(x(ae,{after:he})||me.ignoreMatch())}},w={$pattern:e,keyword:t,literal:n,built_in:p},_="[0-9](_?[0-9])*",k=`\\.(${_})`,A="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",O={className:"number",variants:[{begin:`(\\b(${A})((${k})|\\.)?|(${k}))[eE][+-]?(${_})\\b`},{begin:`\\b(${A})\\b((${k})\\b|\\.)?|(${k})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},M={className:"subst",begin:"\\$\\{",end:"\\}",keywords:w,contains:[]},W={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[f.BACKSLASH_ESCAPE,M],subLanguage:"xml"}},P={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[f.BACKSLASH_ESCAPE,M],subLanguage:"css"}},T={className:"string",begin:"`",end:"`",contains:[f.BACKSLASH_ESCAPE,M]},q={className:"comment",variants:[f.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+",contains:[{className:"type",begin:"\\{",end:"\\}",relevance:0},{className:"variable",begin:b+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),f.C_BLOCK_COMMENT_MODE,f.C_LINE_COMMENT_MODE]},Z=[f.APOS_STRING_MODE,f.QUOTE_STRING_MODE,W,P,T,O,f.REGEXP_MODE];M.contains=Z.concat({begin:/\{/,end:/\}/,keywords:w,contains:["self"].concat(Z)});const L=[].concat(q,M.contains),te=L.concat([{begin:/\(/,end:/\)/,keywords:w,contains:["self"].concat(L)}]),ne={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:w,contains:te};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:w,exports:{PARAMS_CONTAINS:te},illegal:/#(?![$_A-z])/,contains:[f.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},f.APOS_STRING_MODE,f.QUOTE_STRING_MODE,W,P,T,q,O,{begin:h(/[{,\n]\s*/,m(h(/(((\/\/.*$)|(\/\*(\*[^/]|[^*])*\*\/))\s*)*/,b+"\\s*:"))),relevance:0,contains:[{className:"attr",begin:b+m("\\s*:"),relevance:0}]},{begin:"("+f.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",contains:[q,f.REGEXP_MODE,{className:"function",begin:"(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+f.UNDERSCORE_IDENT_RE+")\\s*=>",returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:f.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:w,contains:te}]}]},{begin:/,/,relevance:0},{className:"",begin:/\s/,end:/\s*/,skip:!0},{variants:[{begin:u.begin,end:u.end},{begin:y.begin,"on:begin":y.isTrulyOpeningTag,end:y.end}],subLanguage:"xml",contains:[{begin:y.begin,end:y.end,skip:!0,contains:["self"]}]}],relevance:0},{className:"function",beginKeywords:"function",end:/[{;]/,excludeEnd:!0,keywords:w,contains:["self",f.inherit(f.TITLE_MODE,{begin:b}),ne],illegal:/%/},{beginKeywords:"while if switch catch for"},{className:"function",begin:f.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,contains:[ne,f.inherit(f.TITLE_MODE,{begin:b})]},{variants:[{begin:"\\."+b},{begin:"\\$"+b}],relevance:0},{className:"class",beginKeywords:"class",end:/[{;=]/,excludeEnd:!0,illegal:/[:"[\]]/,contains:[{beginKeywords:"extends"},f.UNDERSCORE_TITLE_MODE]},{begin:/\b(?=constructor)/,end:/[{;]/,excludeEnd:!0,contains:[f.inherit(f.TITLE_MODE,{begin:b}),"self",ne]},{begin:"(get|set)\\s+(?="+b+"\\()",end:/\{/,keywords:"get set",contains:[f.inherit(f.TITLE_MODE,{begin:b}),{begin:/\(\)/},ne]},{begin:/\$[(.]/}]}}function l(f){const x=e,b={beginKeywords:"namespace",end:/\{/,excludeEnd:!0},u={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:"interface extends"},y={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},w=["any","void","number","boolean","string","object","never","enum"],_=["type","namespace","typedef","interface","public","private","protected","implements","declare","abstract","readonly"],k={$pattern:e,keyword:t.concat(_),literal:n,built_in:p.concat(w)},A={className:"meta",begin:"@"+x},O=(P,T,V)=>{const q=P.contains.findIndex(Z=>Z.label===T);if(q===-1)throw new Error("can not find mode to replace");P.contains.splice(q,1,V)},M=N(f);Object.assign(M.keywords,k),M.exports.PARAMS_CONTAINS.push(A),M.contains=M.contains.concat([A,b,u]),O(M,"shebang",f.SHEBANG()),O(M,"use_strict",y);const W=M.contains.find(P=>P.className==="function");return W.relevance=0,Object.assign(M,{name:"TypeScript",aliases:["ts","tsx"]}),M}return rn=l,rn}var Ic=Sc();const na=$e(Ic);var Be=vc(na,{});Be.registerLanguage=na.registerLanguage;const Pc={hljs:{display:"block",overflowX:"auto",padding:"0.5em",color:"#000",background:"#f8f8ff"},"hljs-comment":{color:"#408080",fontStyle:"italic"},"hljs-quote":{color:"#408080",fontStyle:"italic"},"hljs-keyword":{color:"#954121"},"hljs-selector-tag":{color:"#954121"},"hljs-literal":{color:"#954121"},"hljs-subst":{color:"#954121"},"hljs-number":{color:"#40a070"},"hljs-string":{color:"#219161"},"hljs-doctag":{color:"#219161"},"hljs-selector-id":{color:"#19469d"},"hljs-selector-class":{color:"#19469d"},"hljs-section":{color:"#19469d"},"hljs-type":{color:"#19469d"},"hljs-params":{color:"#00f"},"hljs-title":{color:"#458",fontWeight:"bold"},"hljs-tag":{color:"#000080",fontWeight:"normal"},"hljs-name":{color:"#000080",fontWeight:"normal"},"hljs-attribute":{color:"#000080",fontWeight:"normal"},"hljs-variable":{color:"#008080"},"hljs-template-variable":{color:"#008080"},"hljs-regexp":{color:"#b68"},"hljs-link":{color:"#b68"},"hljs-symbol":{color:"#990073"},"hljs-bullet":{color:"#990073"},"hljs-built_in":{color:"#0086b3"},"hljs-builtin-name":{color:"#0086b3"},"hljs-meta":{color:"#999",fontWeight:"bold"},"hljs-deletion":{background:"#fdd"},"hljs-addition":{background:"#dfd"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}},sa=Yr,aa=Xr,ra=Zr;var Mc=jc();const Dc=$e(Mc);var Lc=kc();const $c=$e(Lc);var Bc=Ac();const Uc=$e(Bc);var Fc=Cc();const zc=$e(Fc);var Kc=Tc();const Hc=$e(Kc);var Gc=Rc();const Vc=$e(Gc);var qc=Oc();const Jc=$e(qc);var Wc=_c();const Yc=$e(Wc);Be.registerLanguage("javascript",Dc);Be.registerLanguage("typescript",$c);Be.registerLanguage("python",Uc);Be.registerLanguage("java",zc);Be.registerLanguage("go",Hc);Be.registerLanguage("json",Vc);Be.registerLanguage("yaml",Jc);Be.registerLanguage("bash",Yc);function oa({code:e,language:t="plaintext",filePath:n="",defaultOpen:a=!1,isProductMode:r=!1}){const[o,g]=i.useState(a),[p,d]=i.useState(!1),m=N=>{N.stopPropagation(),navigator.clipboard.writeText(e),d(!0),setTimeout(()=>d(!1),2e3)},h=t?.toLowerCase()||"plaintext";return s.jsx(sa,{open:o,onOpenChange:g,children:s.jsxs("div",{className:E("border rounded-lg overflow-hidden",r?"border-gray-700":"border-gray-200"),children:[s.jsx(aa,{className:"w-full",children:s.jsxs("div",{className:E("flex items-center justify-between p-2",r?"bg-gray-800 hover:bg-gray-750":"bg-muted/30 hover:bg-muted/50"),children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o?s.jsx(Sn,{className:"h-4 w-4 shrink-0"}):s.jsx(Qr,{className:"h-4 w-4 shrink-0"}),s.jsx("code",{className:E("text-xs truncate",r?"text-gray-300":"text-gray-700"),children:n||"code"}),s.jsx("span",{className:E("text-xs px-1.5 py-0.5 rounded shrink-0",r?"bg-gray-700 text-gray-400":"bg-gray-100 text-gray-500"),children:h})]}),s.jsx("button",{onClick:m,className:E("p-1 rounded shrink-0",r?"hover:bg-gray-700":"hover:bg-gray-200"),title:"Copy code",children:p?s.jsx(Ss,{className:"h-3 w-3 text-green-500"}):s.jsx(eo,{className:E("h-3 w-3",r?"text-gray-400":"text-gray-500")})})]})}),s.jsx(ra,{children:s.jsx(Be,{language:h,style:Pc,showLineNumbers:!0,customStyle:{margin:0,fontSize:"0.7rem",maxHeight:"200px",overflow:"auto",background:r?"#1f2937":void 0},children:e||""})})]})})}oa.propTypes={code:z.string.isRequired,language:z.string,filePath:z.string,defaultOpen:z.bool,isProductMode:z.bool};const ms=(e,t)=>{const n=(e||0)*100;return n>=80?t?"text-green-400":"text-green-600":n>=60?t?"text-yellow-400":"text-yellow-600":t?"text-gray-400":"text-gray-500"};function ia({query:e,codeResults:t=[],docsResults:n=[],isProductMode:a=!1}){const r=t.length>0||n.length>0;return s.jsxs("div",{className:E("p-4",a?"bg-gray-900":"bg-white"),children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(_s,{className:E("h-4 w-4",a?"text-purple-400":"text-indigo-600")}),s.jsxs("span",{className:E("text-sm font-medium",a?"text-gray-300":"text-gray-700"),children:['Knowledge Search: "',e,'"']})]}),r?s.jsxs("div",{className:"space-y-4",children:[t.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[s.jsx(Ts,{className:E("h-3.5 w-3.5",a?"text-blue-400":"text-blue-600")}),s.jsxs("span",{className:E("text-xs font-medium",a?"text-gray-400":"text-gray-600"),children:["Code (",t.length,")"]})]}),s.jsx("div",{className:"space-y-2",children:t.map((o,g)=>s.jsxs("div",{className:"relative",children:[s.jsx(oa,{code:o.code||o.content||"",language:o.language||"plaintext",filePath:o.filePath||o.file_path||"",defaultOpen:g===0,isProductMode:a}),(o.similarity||o.score)&&s.jsxs("span",{className:E("absolute top-2 right-10 text-xs",ms(o.similarity||o.score,a)),children:[Math.round((o.similarity||o.score)*100),"%"]})]},g))})]}),n.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[s.jsx(to,{className:E("h-3.5 w-3.5",a?"text-green-400":"text-green-600")}),s.jsxs("span",{className:E("text-xs font-medium",a?"text-gray-400":"text-gray-600"),children:["Documentation (",n.length,")"]})]}),s.jsx("div",{className:"space-y-2",children:n.map((o,g)=>s.jsxs("div",{className:E("p-2 rounded-lg border text-sm",a?"border-gray-700 bg-gray-800":"border-gray-200 bg-gray-50"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:E("font-medium truncate",a?"text-gray-200":"text-gray-800"),children:o.title||o.file_path||"Document"}),(o.similarity||o.score)&&s.jsxs("span",{className:E("text-xs shrink-0 ml-2",ms(o.similarity||o.score,a)),children:[Math.round((o.similarity||o.score)*100),"%"]})]}),s.jsx("p",{className:E("text-xs line-clamp-2",a?"text-gray-400":"text-gray-600"),children:o.excerpt||o.content||""})]},g))})]})]}):s.jsx("p",{className:E("text-sm","text-gray-500"),children:"No results found. Try a different search query."})]})}ia.propTypes={query:z.string,codeResults:z.arrayOf(z.shape({code:z.string,content:z.string,language:z.string,filePath:z.string,file_path:z.string,similarity:z.number,score:z.number})),docsResults:z.arrayOf(z.shape({title:z.string,file_path:z.string,excerpt:z.string,content:z.string,similarity:z.number,score:z.number})),isProductMode:z.bool};function ca({message:e,isStreaming:t=!1,isProductMode:n=!1}){if(e.type==="search_result")return s.jsx(ia,{query:e.query,codeResults:e.codeResults,docsResults:e.docsResults,isProductMode:n});if(e.type==="command")return s.jsxs("div",{className:E("flex gap-3 p-4",n?"bg-gray-800":"bg-gray-50"),children:[s.jsx(ut,{className:E("h-8 w-8 shrink-0",n?"bg-indigo-900":"bg-indigo-100"),children:s.jsx(dt,{className:n?"text-indigo-400":"text-indigo-700",children:s.jsx(gn,{className:"h-4 w-4"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-medium mb-1 text-gray-500",children:"You"}),s.jsx("code",{className:E("text-sm px-2 py-1 rounded",n?"bg-gray-700 text-purple-400":"bg-gray-100 text-indigo-600"),children:e.content})]})]});const a=e.role==="user";return s.jsxs("div",{className:E("flex gap-3 p-4",a?n?"bg-gray-800":"bg-gray-50":n?"bg-gray-900":"bg-white"),children:[s.jsx(ut,{className:E("h-8 w-8 shrink-0",a?n?"bg-indigo-900":"bg-indigo-100":n?"bg-emerald-900":"bg-emerald-100"),children:s.jsx(dt,{className:E(a?n?"text-indigo-400":"text-indigo-700":n?"text-emerald-400":"text-emerald-700"),children:a?s.jsx(gn,{className:"h-4 w-4"}):s.jsx(no,{className:"h-4 w-4"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:E("text-xs font-medium mb-1","text-gray-500"),children:a?"You":"AI Assistant"}),s.jsxs("div",{className:E("text-sm whitespace-pre-wrap break-words",n?"text-gray-200":"text-gray-900"),children:[e.content,t&&!a&&s.jsx("span",{className:E("inline-block w-2 h-4 animate-pulse ml-0.5",n?"bg-gray-500":"bg-gray-400")})]})]})]})}ca.propTypes={message:z.shape({role:z.string,content:z.string,type:z.string,query:z.string,codeResults:z.arrayOf(z.object),docsResults:z.arrayOf(z.object)}).isRequired,isStreaming:z.bool,isProductMode:z.bool};const la=i.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:E("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));la.displayName="Textarea";const Xc=20,Zc=1e6,ze={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let on=0;function Qc(){return on=(on+1)%Number.MAX_VALUE,on.toString()}const cn=new Map,fs=e=>{if(cn.has(e))return;const t=setTimeout(()=>{cn.delete(e),lt({type:ze.REMOVE_TOAST,toastId:e})},Zc);cn.set(e,t)},el=(e,t)=>{switch(t.type){case ze.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,Xc)};case ze.UPDATE_TOAST:return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case ze.DISMISS_TOAST:{const{toastId:n}=t;return n?fs(n):e.toasts.forEach(a=>{fs(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===n||n===void 0?{...a,open:!1}:a)}}case ze.REMOVE_TOAST:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Ct=[];let jt={toasts:[]};function lt(e){jt=el(jt,e),Ct.forEach(t=>{t(jt)})}function Rt({...e}){const t=Qc(),n=r=>lt({type:ze.UPDATE_TOAST,toast:{...r,id:t}}),a=()=>lt({type:ze.DISMISS_TOAST,toastId:t});return lt({type:ze.ADD_TOAST,toast:{...e,id:t,open:!0,onOpenChange:r=>{r||a()}}}),{id:t,dismiss:a,update:n}}function tl(){const[e,t]=i.useState(jt);return i.useEffect(()=>(Ct.push(t),()=>{const n=Ct.indexOf(t);n>-1&&Ct.splice(n,1)}),[e]),{...e,toast:Rt,dismiss:n=>lt({type:ze.DISMISS_TOAST,toastId:n})}}const ps={"/search":!0,"/help":!0};function nl(e){const t=/^(\/\w+)\s+(.*)$/,n=e.match(t);if(!n){if(e.startsWith("/")){const o=e.split(/\s+/)[0];return ps[o]?{error:`Command ${o} requires arguments`}:{error:`Unknown command: ${o}. Try /help`}}return null}const[,a,r]=n;return ps[a]?{command:a,args:r.trim()}:{error:`Unknown command: ${a}. Try /help`}}function sl({onSend:e,onCancel:t,onSearchCommand:n,disabled:a=!1,isLoading:r=!1,isStreaming:o=!1,isProductMode:g=!1,placeholder:p="Ask me anything about your tasks, projects, or team..."}){const[d,m]=i.useState(""),h=i.useRef(null);i.useEffect(()=>{const f=h.current;f&&(f.style.height="auto",f.style.height=`${Math.min(f.scrollHeight,150)}px`)},[d]);const N=f=>{if(f?.preventDefault(),!d.trim()||a||r)return;const x=d.trim(),b=nl(x);if(b&&b.error){Rt({title:"Command Error",description:b.error,variant:"destructive"});return}if(b&&b.command==="/help"){Rt({title:"Available Commands",description:`/search [query] - Search the knowledge base
/help - Show this help`}),m("");return}if(b&&b.command==="/search"){n?(n(b.args),m("")):Rt({title:"Search Not Available",description:"Search command is not available in this context",variant:"destructive"});return}e(x),m("")},l=f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),N())};return s.jsxs("form",{onSubmit:N,className:E("flex gap-2 items-end p-4 border-t",g?"bg-gray-900 border-gray-700":"bg-white border-gray-200"),children:[s.jsx(la,{ref:h,value:d,onChange:f=>m(f.target.value),onKeyDown:l,placeholder:p,disabled:a||r,className:E("min-h-[44px] max-h-[150px] resize-none flex-1",g&&"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500"),rows:1}),o?s.jsx(_e,{type:"button",size:"icon",variant:"destructive",onClick:t,className:"shrink-0",children:s.jsx(so,{className:"h-4 w-4"})}):s.jsx(_e,{type:"submit",size:"icon",disabled:!d.trim()||a||r,className:E("shrink-0",g&&"bg-purple-600 hover:bg-purple-700"),children:r?s.jsx(Cs,{className:"h-4 w-4 animate-spin"}):s.jsx(ao,{className:"h-4 w-4"})})]})}const ln={"/":"Dashboard","/tasks":"Tasks","/calendar":"Calendar","/projects":"Projects","/team":"Team","/stakeholders":"Stakeholders","/duties":"Duties","/metrics":"Metrics","/settings":"Settings","/peers":"Peers"};function al(e){if(ln[e])return ln[e];const t="/"+(e.split("/")[1]||"");return ln[t]||"Page"}function rl({pageContext:e,contextTimestamp:t,isStale:n,stalenessMinutes:a,expanded:r,onToggleExpanded:o,onRefresh:g,className:p}){if(!e)return null;const d=al(e.page||"/"),m=e.selection?.id;return s.jsxs("div",{className:E("border-b bg-muted/30",p),children:[s.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(ro,{className:"h-3.5 w-3.5 text-muted-foreground"}),s.jsxs("span",{className:"font-medium",children:[d," context"]}),m&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(item selected)"}),n&&s.jsxs("div",{className:"flex items-center gap-1 text-amber-600",children:[s.jsx(js,{className:"h-3 w-3"}),s.jsxs("span",{className:"text-xs",children:[a,"m ago"]})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(_e,{variant:"ghost",size:"icon",className:E("h-6 w-6",n&&"text-amber-600 hover:text-amber-700"),onClick:g,title:"Refresh context",children:s.jsx(tt,{className:"h-3.5 w-3.5"})}),s.jsx(_e,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:o,title:r?"Collapse context":"Expand context",children:r?s.jsx(oo,{className:"h-3.5 w-3.5"}):s.jsx(Sn,{className:"h-3.5 w-3.5"})})]})]}),r&&e.summary&&s.jsxs("div",{className:"px-3 pb-2",children:[s.jsx("div",{className:"rounded bg-muted/50 p-2 text-xs text-muted-foreground font-mono whitespace-pre-wrap max-h-32 overflow-y-auto",children:e.summary}),t&&s.jsxs("div",{className:"mt-1 text-[10px] text-muted-foreground",children:["Context captured: ",new Date(t).toLocaleTimeString()]})]})]})}const un={"/":"Dashboard","/tasks":"Tasks","/calendar":"Calendar","/projects":"Projects","/team":"Team","/stakeholders":"Stakeholders","/duties":"Duties","/metrics":"Metrics","/settings":"Settings","/peers":"Peers"};function ol(e){if(un[e])return un[e];const t="/"+(e.split("/")[1]||"");return un[t]||"Page"}function il({currentPath:e,onRefresh:t,onDismiss:n}){const a=ol(e);return s.jsxs("div",{className:"mx-3 my-2 rounded-lg bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800 p-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Page changed"}),s.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-0.5",children:["You navigated to ",a,". Refresh context?"]})]}),s.jsx(_e,{variant:"ghost",size:"icon",className:"h-6 w-6 text-blue-600 hover:text-blue-800 hover:bg-blue-100 dark:text-blue-400 dark:hover:text-blue-200 dark:hover:bg-blue-900",onClick:n,children:s.jsx(Ot,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsxs(_e,{size:"sm",variant:"default",className:"h-7 text-xs bg-blue-600 hover:bg-blue-700",onClick:t,children:[s.jsx(tt,{className:"h-3 w-3 mr-1"}),"Refresh Context"]}),s.jsx(_e,{size:"sm",variant:"ghost",className:"h-7 text-xs text-blue-700 hover:text-blue-800 hover:bg-blue-100 dark:text-blue-300 dark:hover:bg-blue-900",onClick:n,children:"Keep Current"})]})]})}function cl(){const{messages:e,isLoading:t,isStreaming:n,error:a,isOpen:r,closeChat:o,sendMessageStreaming:g,cancelStreaming:p,clearChat:d,quickAction:m,searchKnowledgeBase:h,pageContext:N,contextTimestamp:l,contextExpanded:f,isContextStale:x,contextStalenessMinutes:b,toggleContextExpanded:u}=Ws(),{isProductMode:y}=mt(),w=Ds(),_=i.useRef(null),[k,A]=i.useState(w.pathname),[O,M]=i.useState(!1);i.useEffect(()=>{r&&k!==w.pathname&&N&&M(!0),A(w.pathname)},[w.pathname,r,k,N]);const W=()=>{M(!1),window.dispatchEvent&&window.dispatchEvent(new CustomEvent("ai-context-refresh"))},P=()=>{M(!1)},T=()=>{window.dispatchEvent&&window.dispatchEvent(new CustomEvent("ai-context-refresh"))};i.useEffect(()=>{if(_.current){const q=_.current.querySelector("[data-radix-scroll-area-viewport]");q&&(q.scrollTop=q.scrollHeight)}},[e]);const V=[{id:"summarize_tasks",label:"Summarize Tasks",icon:Rs},{id:"summarize_projects",label:"Project Status",icon:As},{id:"analyze_workload",label:"Analyze Workload",icon:_t}];return r?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40",onClick:o}),s.jsxs("div",{className:E("fixed right-0 top-0 h-full w-full sm:w-[420px] shadow-2xl z-50","flex flex-col","transform transition-transform duration-300 ease-out",r?"translate-x-0":"translate-x-full",y?"bg-gray-900":"bg-white"),children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b bg-gradient-to-r from-indigo-500 to-purple-600",children:[s.jsxs("div",{className:"flex items-center gap-2 text-white",children:[s.jsx(mn,{className:"h-5 w-5"}),s.jsx("h2",{className:"font-semibold",children:"AI Assistant"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(_e,{variant:"ghost",size:"icon",onClick:d,className:"text-white/80 hover:text-white hover:bg-white/10",title:"Clear chat",children:s.jsx(io,{className:"h-4 w-4"})}),s.jsx(_e,{variant:"ghost",size:"icon",onClick:o,className:"text-white/80 hover:text-white hover:bg-white/10",children:s.jsx(Ot,{className:"h-5 w-5"})})]})]}),s.jsx(rl,{pageContext:N,contextTimestamp:l,isStale:x,stalenessMinutes:b,expanded:f,onToggleExpanded:u,onRefresh:T,className:y?"bg-gray-800/50 border-gray-700":""}),O&&s.jsx(il,{currentPath:w.pathname,onRefresh:W,onDismiss:P}),s.jsx(Tn,{ref:_,className:"flex-1",children:e.length===0?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:E("w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center",y?"bg-gradient-to-br from-purple-900 to-indigo-900":"bg-gradient-to-br from-indigo-100 to-purple-100"),children:s.jsx(mn,{className:E("h-8 w-8",y?"text-purple-400":"text-indigo-600")})}),s.jsx("h3",{className:E("font-semibold mb-2",y?"text-white":"text-gray-900"),children:"Hi! I'm your AI Assistant"}),s.jsx("p",{className:E("text-sm mb-6",y?"text-gray-400":"text-gray-500"),children:"I can help you manage tasks, analyze projects, and keep track of your team. Ask me anything or try a quick action below."}),s.jsx("div",{className:"space-y-2",children:V.map(q=>s.jsxs("button",{onClick:()=>m(q.id),disabled:t,className:E("w-full flex items-center gap-3 px-4 py-3 rounded-lg border transition-colors text-left disabled:opacity-50",y?"border-gray-700 hover:bg-gray-800 bg-gray-800/50":"border-gray-200 hover:bg-gray-50"),children:[s.jsx(q.icon,{className:E("h-5 w-5",y?"text-purple-400":"text-indigo-600")}),s.jsx("span",{className:E("text-sm font-medium",y?"text-gray-300":"text-gray-700"),children:q.label})]},q.id))})]}):s.jsx("div",{className:E("divide-y",y?"divide-gray-800":"divide-gray-100"),children:e.map((q,Z)=>s.jsx(ca,{message:q,isStreaming:n&&Z===e.length-1&&q.role==="assistant",isProductMode:y},Z))})}),a&&s.jsx("div",{className:E("px-4 py-2 border-t",y?"bg-red-900/30 border-red-800":"bg-red-50 border-red-100"),children:s.jsx("p",{className:E("text-sm",y?"text-red-400":"text-red-600"),children:a})}),s.jsx(sl,{onSend:g,onCancel:p,onSearchCommand:h,isLoading:t,isStreaming:n,isProductMode:y})]})]}):null}function ll({className:e}){const{toggleChat:t,isOpen:n,isLoading:a,isAvailable:r}=Ws();return r===!1?null:s.jsx(_e,{onClick:t,className:E("fixed bottom-6 right-6 z-30","w-14 h-14 rounded-full shadow-lg","bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700","transition-all duration-200",n&&"scale-0 opacity-0",e),size:"icon",title:"Open AI Assistant",children:s.jsx(mn,{className:E("h-6 w-6 text-white",a&&"animate-pulse")})})}const ul=co,dl=lo,ua=i.forwardRef(({className:e,align:t="center",sideOffset:n=4,...a},r)=>s.jsx(uo,{children:s.jsx(Os,{ref:r,align:t,sideOffset:n,className:E("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));ua.displayName=Os.displayName;const da=i.createContext(null);function gl({children:e}){const[t,n]=i.useState([]),[a,r]=i.useState(0),[o,g]=i.useState(!0),{isAuthenticated:p}=We(),d=i.useRef(!1),m=i.useRef(null),h=i.useCallback(async()=>{if(!p){n([]),r(0),g(!1);return}try{g(!0);const[x,b]=await Promise.all([ct.list(),ct.getUnreadCount()]);n(x),r(b.count)}catch(x){console.error("Failed to fetch notifications:",x)}finally{g(!1)}},[p]);m.current=h,i.useEffect(()=>{if(!p){d.current=!1;return}d.current||(d.current=!0,m.current?.())},[p]);const N=i.useCallback(async x=>{n(b=>b.map(u=>u.id===x?{...u,read:!0}:u)),r(b=>Math.max(0,b-1));try{await ct.markAsRead(x)}catch(b){console.error("Failed to mark notification as read:",b),n(u=>u.map(y=>y.id===x?{...y,read:!1}:y)),r(u=>u+1)}},[]),l=i.useCallback(async()=>{const x=t,b=a;n(u=>u.map(y=>({...y,read:!0}))),r(0);try{await ct.markAllAsRead()}catch(u){console.error("Failed to mark all as read:",u),n(x),r(b)}},[t,a]),f={notifications:t,unreadCount:a,loading:o,refresh:h,markAsRead:N,markAllAsRead:l};return s.jsx(da.Provider,{value:f,children:e})}function ml(){const e=i.useContext(da);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e}function fl({notification:e,onMarkRead:t}){const n=e.notification_type==="kpi_alert";return s.jsx("div",{className:E("px-4 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors",!e.read&&"bg-blue-50/50"),onClick:()=>!e.read&&t(e.id),children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:E("flex-shrink-0 mt-0.5",n?"text-red-500":"text-gray-400"),children:n?s.jsx(ks,{className:"h-4 w-4"}):s.jsx(_n,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:E("text-sm",e.read?"text-gray-600":"text-gray-900 font-medium"),children:e.message}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Yo(new Date(e.created_date),{addSuffix:!0})})]}),!e.read&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("span",{className:"h-2 w-2 rounded-full bg-blue-500 block"})})]})})}function pl({notifications:e,onMarkRead:t,onMarkAllRead:n}){const a=e.filter(r=>!r.read);return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"p-3 border-b flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"}),a.length>0&&s.jsxs(_e,{variant:"ghost",size:"sm",className:"text-xs text-blue-600 hover:text-blue-700 h-auto py-1 px-2",onClick:n,children:[s.jsx(Ss,{className:"h-3 w-3 mr-1"}),"Mark all read"]})]}),s.jsx(Tn,{className:"h-[300px]",children:e.length===0?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(_n,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),s.jsx("p",{className:"text-sm",children:"No notifications"})]}):e.map(r=>s.jsx(fl,{notification:r,onMarkRead:t},r.id))})]})}function hl({className:e}){const{notifications:t,unreadCount:n,markAsRead:a,markAllAsRead:r}=ml();return s.jsxs(ul,{children:[s.jsx(dl,{asChild:!0,children:s.jsxs("button",{className:E("relative p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",e),"aria-label":`Notifications${n>0?` (${n} unread)`:""}`,children:[s.jsx(_n,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"}),n>0&&s.jsx("span",{className:"absolute -top-0.5 -right-0.5 h-5 w-5 rounded-full bg-red-500 text-white text-xs font-medium flex items-center justify-center",children:n>9?"9+":n})]})}),s.jsx(ua,{className:"w-80 p-0",align:"end",sideOffset:8,children:s.jsx(pl,{notifications:t,onMarkRead:a,onMarkAllRead:r})})]})}const ga=i.createContext(null),it={folders:[],items:[]};let hs=0;function yl({children:e}){const{isAuthenticated:t}=We(),{isProductMode:n}=mt();hs++,console.log("[NavigationProvider] Render #",hs,{isAuthenticated:t,isProductMode:n});const[a,r]=i.useState(it),[o,g]=i.useState(it),[p,d]=i.useState(!0),[m,h]=i.useState(null),N=i.useRef(!1),l=n?o:a,f=n?g:r,x=n?"product":"people",b=i.useCallback(async k=>{try{return(await Se.menuConfig.get(k)).config}catch(A){return console.error(`Failed to load ${k} menu config:`,A),it}},[]);i.useEffect(()=>{if(!t){N.current=!1,r(it),g(it),d(!1);return}if(N.current)return;(async()=>{d(!0),h(null);try{const[A,O]=await Promise.all([b("people"),b("product")]);r(A),g(O),N.current=!0}catch(A){h(A.message)}finally{d(!1)}})()},[t,b]);const u=i.useCallback(async k=>{try{return await Se.menuConfig.set(x,k),f(k),!0}catch(A){return console.error(`Failed to save ${x} menu config:`,A),h(A.message),!1}},[x,f]),y=i.useCallback(async()=>{try{const k=await Se.menuConfig.getDefaults(x);return await Se.menuConfig.set(x,k.config),f(k.config),!0}catch(k){return console.error(`Failed to reset ${x} menu config:`,k),h(k.message),!1}},[x,f]),w=i.useCallback(async()=>{const k=await b(x);f(k)},[x,f,b]),_={config:l,folders:l.folders,items:l.items,loading:p,error:m,saveConfig:u,resetToDefaults:y,refresh:w,currentMode:x};return s.jsx(ga.Provider,{value:_,children:e})}function bl(){const e=i.useContext(ga);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}const xl="pe_manager_nav_collapsed_folders";let vl=0;function El(){const{isProductMode:e}=mt(),t=e?"product":"people",n=`${xl}_${t}`,a=i.useRef(null);a.current||(a.current=++vl),console.log("[useCollapsedFolders] Hook call #",a.current,{currentMode:t,storageKey:n});const[r,o]=i.useState(()=>{try{const d=localStorage.getItem(n);return d?JSON.parse(d):[]}catch{return[]}});return i.useEffect(()=>{try{localStorage.setItem(n,JSON.stringify(r))}catch(d){d.name==="QuotaExceededError"?(console.warn("localStorage quota exceeded, clearing folder state"),localStorage.removeItem(n)):console.error("Failed to persist folder state:",d)}},[r,n]),i.useEffect(()=>{try{const d=localStorage.getItem(n);o(d?JSON.parse(d):[])}catch{o([])}},[n]),{isCollapsed:d=>r.includes(d),toggleFolder:d=>{o(m=>m.includes(d)?m.filter(h=>h!==d):[...m,d])}}}let Nl=0;function Cn({folder:e,children:t,isProductMode:n}){const{isCollapsed:a,toggleFolder:r}=El(),o=!a(e.id),g=i.useRef(0),p=i.useRef(null);p.current||(p.current=++Nl),g.current++,console.log("[CollapsibleFolder] Instance",p.current,"render #",g.current,{folderId:e.id,folderName:e.name,isOpen:o}),i.useEffect(()=>(console.log("[CollapsibleFolder] Mounted:",e.id),()=>{console.log("[CollapsibleFolder] Unmounted:",e.id)}),[e.id]);const d=()=>{console.log("[CollapsibleFolder] onOpenChange triggered:",e.id,"current isOpen:",o),r(e.id)};return s.jsxs(sa,{open:o,onOpenChange:d,children:[s.jsxs(aa,{className:E("flex items-center w-full px-4 py-2 text-sm font-medium rounded-md transition-colors",n?"text-gray-400 hover:bg-gray-800 hover:text-white":"text-gray-600 hover:bg-gray-100"),children:[s.jsx(Sn,{className:E("h-4 w-4 mr-2 transition-transform duration-200",o?"rotate-0":"-rotate-90")}),s.jsx("span",{children:e.name})]}),s.jsx(ra,{className:"overflow-hidden pl-6 data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down",children:t})]})}Cn.propTypes={folder:z.shape({id:z.string.isRequired,name:z.string.isRequired,order:z.number}).isRequired,children:z.node,isProductMode:z.bool};Cn.defaultProps={children:null,isProductMode:!1};function jn({navigation:e,onItemClick:t}){const{folders:n,items:a}=bl(),{isProductMode:r}=mt(),o=e.reduce((m,h)=>{const N=h.name.toLowerCase(),f=a.find(x=>x.itemId.toLowerCase()===N)?.folderId||"root";return m[f]||(m[f]=[]),m[f].push(h),m},{}),g=[...n].sort((m,h)=>m.order-h.order),p=m=>s.jsxs(Ls,{to:m.href,onClick:h=>{console.log("[HierarchicalNavigation] Nav clicked:",m.name,m.href),t?.(h)},className:E("flex items-center px-4 py-3 text-sm font-medium rounded-md transition-colors duration-200",r?m.current?"bg-purple-900/50 text-purple-300":"text-gray-300 hover:bg-gray-800 hover:text-white":m.current?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-gray-100"),children:[s.jsx(m.icon,{className:"h-5 w-5 mr-3"}),m.name]},m.name),d=Cn;return s.jsxs(s.Fragment,{children:[g.map(m=>{const h=o[m.id];return!h||h.length===0?null:s.jsx(d,{folder:m,isProductMode:r,children:h.map(p)},m.id)}),o.root?.map(p)]})}jn.propTypes={navigation:z.arrayOf(z.shape({name:z.string.isRequired,icon:z.elementType.isRequired,href:z.string.isRequired,current:z.bool})).isRequired,onItemClick:z.func};jn.defaultProps={onItemClick:()=>{}};function wl({children:e,currentPageName:t}){const[n,a]=i.useState(!1),[r,o]=i.useState(null),[g,p]=i.useState(!0),{logout:d,isAuthenticated:m}=We(),{isPresentationMode:h,togglePresentationMode:N}=qi(),{isProductMode:l,toggleAppMode:f}=mt(),x=Ho();i.useEffect(()=>{(async()=>{if(!m){o(null),p(!1);return}try{p(!0);const A=await Ks.me();o(A)}catch(A){console.error("Error fetching user data:",A),o(null)}finally{p(!1)}})()},[m]);const b=()=>{d()},u=()=>{f(),x(l?"/Tasks":"/Services")},y=[{name:"Tasks",icon:go,href:pe("Tasks"),current:t==="Tasks"},{name:"Calendar",icon:mo,href:pe("Calendar"),current:t==="Calendar"},{name:"Duties",icon:fo,href:pe("Duties"),current:t==="Duties"},{name:"Projects",icon:As,href:pe("Projects"),current:t==="Projects"},{name:"Metrics",icon:po,href:pe("Metrics"),current:t==="Metrics"},{name:"Team",icon:ho,href:pe("Team"),current:t==="Team"},{name:"Stakeholders",icon:_t,href:pe("Stakeholders"),current:t==="Stakeholders"},{name:"Peers",icon:_t,href:pe("Peers"),current:t==="Peers"},{name:"GitHub",icon:yo,href:pe("GitHub"),current:t==="GitHubRepos"},{name:"Jira",icon:Vn,href:pe("Jira"),current:t==="JiraIssues"},{name:"Capture Inbox",icon:bo,href:pe("CaptureInbox"),current:t==="CaptureInbox"},{name:"Capture Rules",icon:Ts,href:pe("CaptureRules"),current:t==="CaptureRules"},{name:"Bug Dashboard",icon:Vn,href:pe("BugDashboard"),current:t==="BugDashboard"},{name:"Knowledge Search",icon:_s,href:pe("KnowledgeSearch"),current:t==="KnowledgeSearch"},{name:"Team Sync",icon:_t,href:pe("TeamSync"),current:t==="TeamSync"},{name:"Team Status",icon:xo,href:pe("TeamStatus"),current:t==="TeamStatus"}],w=[{name:"My Services",icon:vo,href:pe("Services"),current:t==="Services"},{name:"My Roadmap",icon:Eo,href:pe("Roadmap"),current:t==="Roadmap"},{name:"My Backlog",icon:Rs,href:pe("Backlog"),current:t==="Backlog"},{name:"Usage Analytics",icon:No,href:pe("Analytics"),current:t==="Analytics"},{name:"Customer Feedback",icon:wo,href:pe("Feedback"),current:t==="Feedback"},{name:"Releases",icon:So,href:pe("Releases"),current:t==="Releases"},{name:"Entity Model",icon:_o,href:pe("EntityModel"),current:t==="EntityModel"}],_=l?w:y;return s.jsxs("div",{className:E("min-h-screen flex transition-colors duration-300",l?"bg-gray-800":"bg-gray-50"),children:[n&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 lg:hidden",onClick:()=>a(!1)}),s.jsxs("div",{className:E("fixed inset-y-0 left-0 z-50 w-64 shadow-lg transform transition-all duration-300 ease-in-out lg:translate-x-0 overflow-y-auto",n?"translate-x-0":"-translate-x-full",l?"bg-gray-900":"bg-white"),children:[s.jsx("div",{className:E("sticky top-0 z-10 border-b transition-colors duration-300",l?"bg-gray-900 border-gray-700":"bg-white border-gray-200"),children:s.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[s.jsxs("button",{onClick:u,className:E("flex items-center cursor-pointer rounded-lg px-2 py-1 -ml-2 transition-all duration-200",l?"hover:bg-gray-800":"hover:bg-gray-100"),title:l?"Switch to People & Engineering":"Switch to Product & Engineering",children:[s.jsx(To,{className:E("h-8 w-8 transition-all duration-300",l?"text-purple-400 fill-purple-400":"text-indigo-600")}),s.jsx("span",{className:E("ml-2 text-xl font-bold transition-colors duration-300",l?"text-white":"text-gray-900"),children:l?"Product & Eng.":"P & Engineering"})]}),s.jsx("button",{onClick:()=>a(!1),className:E("lg:hidden transition-colors",l?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-700"),children:s.jsx(Ot,{className:"h-5 w-5"})})]})}),s.jsxs("div",{className:"flex flex-col h-[calc(100%-4rem)] justify-between",children:[s.jsx("nav",{className:"flex-1 p-4 overflow-y-auto",children:s.jsx("div",{className:"space-y-1",children:s.jsx(jn,{navigation:_,onItemClick:()=>a(!1)})})}),s.jsxs("div",{className:E("p-4 border-t transition-colors duration-300",l?"border-gray-700":"border-gray-200"),children:[g?s.jsxs("div",{className:"mb-4 px-4 py-3 flex items-center gap-3",children:[s.jsx("div",{className:E("h-10 w-10 rounded-full animate-pulse",l?"bg-gray-700":"bg-gray-200")}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:E("h-4 rounded animate-pulse mb-1",l?"bg-gray-700":"bg-gray-200")}),s.jsx("div",{className:E("h-3 rounded animate-pulse w-2/3",l?"bg-gray-700":"bg-gray-200")})]})]}):r?s.jsxs("div",{className:"mb-4 px-4 py-3 flex items-center gap-3",children:[s.jsx(ut,{className:E("h-10 w-10",l?"bg-purple-900":"bg-indigo-100"),children:s.jsx(dt,{className:E(l?"text-purple-300":"text-indigo-700"),children:r.name?.split(" ").map(k=>k[0]).join("").toUpperCase()||"U"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:E("text-sm font-medium truncate transition-colors",l?"text-white":"text-gray-900"),children:r.name||"User"}),s.jsxs("p",{className:E("text-xs truncate transition-colors",l?"text-gray-400":"text-gray-500"),children:["@",r.username||"user"]})]})]}):m&&s.jsxs("div",{className:"mb-4 px-4 py-3 flex items-center gap-3",children:[s.jsx(ut,{className:E("h-10 w-10",l?"bg-gray-700":"bg-gray-100"),children:s.jsx(dt,{className:E(l?"text-gray-400":"text-gray-500"),children:s.jsx(gn,{className:"h-5 w-5"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:E("text-sm font-medium truncate",l?"text-white":"text-gray-900"),children:"User"}),s.jsx("p",{className:E("text-xs truncate",l?"text-gray-400":"text-gray-500"),children:"Authenticated"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs(Ls,{to:pe("Settings"),onClick:()=>a(!1),className:E("flex items-center px-4 py-3 text-sm font-medium rounded-md transition-colors",l?t==="Settings"?"bg-purple-900/50 text-purple-300":"text-gray-300 hover:bg-gray-800 hover:text-white":t==="Settings"?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-gray-100"),children:[s.jsx(Co,{className:"h-5 w-5 mr-3"}),"Settings"]}),s.jsxs("button",{onClick:b,className:E("w-full flex items-center px-4 py-3 text-sm font-medium rounded-md transition-colors",l?"text-gray-300 hover:bg-gray-800 hover:text-white":"text-gray-700 hover:bg-gray-100"),children:[s.jsx(jo,{className:"h-5 w-5 mr-3"}),"Log out"]})]})]})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col min-w-0 lg:ml-64",children:[s.jsx("header",{className:E("sticky top-0 shadow-sm z-10 transition-colors duration-300",h?"bg-amber-50":l?"bg-gray-800":"bg-white"),children:s.jsxs("div",{className:"flex justify-between items-center h-16 px-4 sm:px-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:()=>a(!0),className:E("lg:hidden mr-4 transition-colors",l?"text-gray-400 hover:text-white":"text-gray-500 hover:text-gray-700"),children:s.jsx(Ro,{className:"h-6 w-6"})}),s.jsxs("div",{className:E("text-md font-medium transition-colors",l?"text-white":"text-gray-800"),children:[l?"Product & Eng.":"P & Engineering"," Manager",t&&s.jsxs("span",{className:l?"text-gray-400":"text-gray-500",children:[" ","> ",t]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hl,{className:l?"hover:bg-gray-700":""}),s.jsx("span",{className:E("hidden sm:inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium transition-colors",l?"bg-purple-900 text-purple-200":"bg-indigo-100 text-indigo-800"),children:l?"Product":"People"}),s.jsx("button",{onClick:N,className:E("flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-all",h?"bg-amber-100 text-amber-800 hover:bg-amber-200":l?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"),title:h?"Switch to Working Mode":"Switch to Presentation Mode",children:h?s.jsxs(s.Fragment,{children:[s.jsx(Ao,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Presenting"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Oo,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Working"})]})})]})]})}),s.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:e})]}),s.jsx(ll,{}),s.jsx(cl,{})]})}const st=i.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:E("rounded-xl border bg-card text-card-foreground shadow",e),...t}));st.displayName="Card";const ft=i.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:E("flex flex-col space-y-1.5 p-6",e),...t}));ft.displayName="CardHeader";const Rn=i.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:E("font-semibold leading-none tracking-tight",e),...t}));Rn.displayName="CardTitle";const An=i.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:E("text-sm text-muted-foreground",e),...t}));An.displayName="CardDescription";const at=i.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:E("p-6 pt-0",e),...t}));at.displayName="CardContent";const Sl=i.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:E("flex items-center p-6 pt-0",e),...t}));Sl.displayName="CardFooter";const hn=i.forwardRef(({className:e,type:t,...n},a)=>s.jsx("input",{type:t,className:E("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...n}));hn.displayName="Input";const _l=kt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),yn=i.forwardRef(({className:e,...t},n)=>s.jsx(Is,{ref:n,className:E(_l(),e),...t}));yn.displayName=Is.displayName;const Tl=kt("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),bn=i.forwardRef(({className:e,variant:t,...n},a)=>s.jsx("div",{ref:a,role:"alert",className:E(Tl({variant:t}),e),...n}));bn.displayName="Alert";const Cl=i.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:E("mb-1 font-medium leading-none tracking-tight",e),...t}));Cl.displayName="AlertTitle";const xn=i.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:E("text-sm [&_p]:leading-relaxed",e),...t}));xn.displayName="AlertDescription";const jl=()=>{const[e,t]=i.useState({username:"",password:""}),[n,a]=i.useState({}),[r,o]=i.useState(!1),[g,p]=i.useState(""),[d,m]=i.useState(0),{login:h,error:N,clearError:l}=We(),f=()=>{const u={};return e.username.trim()||(u.username="Username is required"),e.password.trim()||(u.password="Password is required"),a(u),Object.keys(u).length===0},x=u=>{const{name:y,value:w}=u.target;t(_=>({..._,[y]:w})),n[y]&&a(_=>({..._,[y]:""})),g&&p(""),N&&l&&l()},b=async u=>{if(u.preventDefault(),!!f()){o(!0),p("");try{const y=await h(e.username,e.password);if(y.success)m(0);else{m(_=>_+1);let w=y.error||"Login failed. Please try again.";d>=2&&y.error?.includes("Invalid username or password")?w='Invalid username or password. Default credentials are username: "admin", password: "password123"':d>=1&&y.error?.includes("storage")&&(w=`${y.error} Try refreshing the page or using a different browser.`),p(w)}}catch(y){console.error("Login error:",y),m(_=>_+1);let w="Authentication failed. Please try again.";y.type==="STORAGE_UNAVAILABLE"?w="Browser storage is not available. Please enable cookies and local storage.":y.type==="STORAGE_QUOTA_EXCEEDED"?w="Browser storage is full. Please clear some browser data and try again.":d>=2&&(w="Repeated authentication failures. Please refresh the page or contact support."),p(w)}finally{o(!1)}}};return s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:s.jsxs(st,{className:"w-full max-w-md",children:[s.jsxs(ft,{className:"space-y-1",children:[s.jsx(Rn,{className:"text-2xl font-bold text-center",children:"Sign In"}),s.jsx(An,{className:"text-center",children:"Enter your credentials to access the application"})]}),s.jsx(at,{children:s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[N&&s.jsx(bn,{variant:"destructive",children:s.jsx(xn,{children:N})}),g&&s.jsx(bn,{variant:"destructive",children:s.jsx(xn,{children:g})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(yn,{htmlFor:"username",children:"Username"}),s.jsx(hn,{id:"username",name:"username",type:"text",placeholder:"Enter your username",value:e.username,onChange:x,className:n.username?"border-destructive":"",disabled:r}),n.username&&s.jsx("p",{className:"text-sm text-destructive",children:n.username})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(yn,{htmlFor:"password",children:"Password"}),s.jsx(hn,{id:"password",name:"password",type:"password",placeholder:"Enter your password",value:e.password,onChange:x,className:n.password?"border-destructive":"",disabled:r}),n.password&&s.jsx("p",{className:"text-sm text-destructive",children:n.password})]}),s.jsx(_e,{type:"submit",className:"w-full",disabled:r,children:r?"Signing In...":"Sign In"}),d>=1&&s.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-md",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:s.jsx("strong",{children:"Having trouble signing in?"})}),s.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsxs("li",{children:[" Default username: ",s.jsx("code",{className:"bg-background px-1 rounded",children:"admin"})]}),s.jsxs("li",{children:[" Default password: ",s.jsx("code",{className:"bg-background px-1 rounded",children:"password123"})]}),s.jsx("li",{children:" Make sure cookies and local storage are enabled"}),s.jsx("li",{children:" Try refreshing the page if you see storage errors"})]})]})]})})]})})},Rl=({size:e="md",className:t="",text:n="",showText:a=!1,variant:r="primary"})=>{const o={xs:"h-3 w-3",sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},g={primary:"text-indigo-600",secondary:"text-gray-600",white:"text-white",muted:"text-gray-400"},p={xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"};return s.jsxs("div",{className:E("flex items-center justify-center",t),children:[s.jsx(Cs,{className:E("animate-spin",o[e],g[r])}),(a||n)&&s.jsx("span",{className:E("ml-2",p[e],g[r]),children:n||"Loading..."})]})},Al=({children:e})=>{const{isAuthenticated:t,loading:n}=We();return n?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Rl,{})}):t?e:s.jsx(jl,{})};function K({className:e,...t}){return s.jsx("div",{className:E("animate-pulse rounded-md bg-primary/10",e),...t})}function Ol(){return s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[s.jsx(K,{className:"h-9 w-48 mb-4 sm:mb-0"}),s.jsx(K,{className:"h-10 w-32"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(K,{className:"h-12 w-full"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((e,t)=>s.jsxs(st,{children:[s.jsxs(ft,{children:[s.jsx(K,{className:"h-6 w-3/4"}),s.jsx(K,{className:"h-4 w-1/2"})]}),s.jsx(at,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsx(K,{className:"h-4 w-full"}),s.jsx(K,{className:"h-4 w-2/3"}),s.jsx(K,{className:"h-4 w-1/3"})]})})]},t))})]})]})})}function kl(){return s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[s.jsx(K,{className:"h-9 w-24 mb-4 sm:mb-0"}),s.jsx(K,{className:"h-10 w-28"})]}),s.jsx("div",{className:"mb-6 p-4 border rounded-lg",children:s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx(K,{className:"h-10 w-32"}),s.jsx(K,{className:"h-10 w-32"}),s.jsx(K,{className:"h-10 w-32"}),s.jsx(K,{className:"h-10 w-48"})]})}),s.jsx("div",{className:"space-y-4",children:Array.from({length:8}).map((e,t)=>s.jsx(st,{children:s.jsx(at,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(K,{className:"h-4 w-4 rounded"}),s.jsx(K,{className:"h-5 w-3/4"})]}),s.jsx(K,{className:"h-4 w-1/2"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(K,{className:"h-6 w-16 rounded-full"}),s.jsx(K,{className:"h-6 w-20 rounded-full"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(K,{className:"h-8 w-8 rounded"}),s.jsx(K,{className:"h-8 w-8 rounded"})]})]})})},t))})]})})}function Il(){return s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"space-y-4 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(K,{className:"h-7 w-40"}),s.jsx("div",{className:"flex space-x-2",children:Array.from({length:5}).map((e,t)=>s.jsx(K,{className:"h-10 w-10 rounded"},t))})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"flex gap-2 p-1 bg-gray-100 rounded-lg",children:Array.from({length:4}).map((e,t)=>s.jsx(K,{className:"h-8 w-20 rounded"},t))})})]}),s.jsxs("div",{className:"bg-white rounded-lg border",children:[s.jsx("div",{className:"grid grid-cols-7 border-b",children:Array.from({length:7}).map((e,t)=>s.jsx("div",{className:"p-2 text-center",children:s.jsx(K,{className:"h-4 w-16 mx-auto"})},t))}),s.jsx("div",{className:"grid grid-cols-7",children:Array.from({length:35}).map((e,t)=>s.jsxs("div",{className:"min-h-[120px] p-2 border-r border-b",children:[s.jsx(K,{className:"h-4 w-6 mb-2"}),s.jsxs("div",{className:"space-y-1",children:[Math.random()>.5&&s.jsx(K,{className:"h-6 w-full rounded"}),Math.random()>.7&&s.jsx(K,{className:"h-6 w-3/4 rounded"})]})]},t))})]})]})})}function Pl(){return s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[s.jsx(K,{className:"h-9 w-48"}),s.jsx(K,{className:"h-10 w-40"})]}),s.jsx("div",{className:"relative mb-6",children:s.jsx(K,{className:"h-10 w-full"})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((e,t)=>s.jsxs(st,{children:[s.jsxs(ft,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx(K,{className:"h-12 w-12 rounded-full"}),s.jsxs("div",{children:[s.jsx(K,{className:"h-6 w-32 mb-1"}),s.jsx(K,{className:"h-4 w-24"})]})]}),s.jsx(K,{className:"h-8 w-8 rounded"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[s.jsx(K,{className:"h-6 w-20 rounded-full"}),s.jsx(K,{className:"h-6 w-16 rounded-full"})]})]}),s.jsxs(at,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(K,{className:"h-4 w-16 mb-2"}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.jsx(K,{className:"h-5 w-12 rounded-full"}),s.jsx(K,{className:"h-5 w-16 rounded-full"}),s.jsx(K,{className:"h-5 w-14 rounded-full"})]})]}),s.jsx(K,{className:"h-4 w-full"}),s.jsx(K,{className:"h-4 w-3/4"})]})]},t))})]})})}const ie=(e,t=3,n=1e3)=>e().catch(a=>{if(t>0)return console.warn(`Failed to load chunk, retrying... (${t} attempts left)`,a),new Promise((r,o)=>{setTimeout(()=>{ie(e,t-1,n*1.5).then(r).catch(o)},n)});throw console.error("Failed to load chunk after all retries:",a),a});let Ml=0;class Dl extends i.Component{constructor(t){super(t),this.state={hasError:!1,error:null,retryCount:0,isRetrying:!1},this.instanceId=++Ml,console.log("[PageChunkErrorBoundary] Instance",this.instanceId,"created for:",t.pageName)}static getDerivedStateFromError(t){return console.log("[PageChunkErrorBoundary] getDerivedStateFromError:",t?.message),{hasError:!0,error:t}}componentDidMount(){console.log("[PageChunkErrorBoundary] Instance",this.instanceId,"mounted:",this.props.pageName)}componentDidUpdate(t,n){console.log("[PageChunkErrorBoundary] Instance",this.instanceId,"updated:",{pageName:this.props.pageName,hasError:this.state.hasError,prevHasError:n.hasError})}componentWillUnmount(){console.log("[PageChunkErrorBoundary] Instance",this.instanceId,"unmounting:",this.props.pageName)}componentDidCatch(t,n){console.error("[PageChunkErrorBoundary] Instance",this.instanceId,"caught error:",{page:this.props.pageName,error:t?.message,stack:t?.stack?.slice(0,500)}),window.reportError&&window.reportError(t,{context:"page_chunk_loading",page:this.props.pageName,errorInfo:n})}handleRetry=async()=>{this.setState({isRetrying:!0});try{await new Promise(t=>setTimeout(t,1500)),this.setState({hasError:!1,error:null,retryCount:this.state.retryCount+1,isRetrying:!1})}catch{this.setState({isRetrying:!1})}};handleGoBack=()=>{window.history.length>1?window.history.back():window.location.href="/"};render(){if(this.state.hasError){const{retryCount:t,isRetrying:n}=this.state,{pageName:a="page"}=this.props;return s.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gray-50",children:s.jsx("div",{className:"max-w-lg w-full bg-white rounded-lg shadow-sm border p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:s.jsx(js,{className:"h-6 w-6 text-red-600"})}),s.jsxs("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:["Failed to load ",a]}),s.jsx("p",{className:"text-gray-600 mb-6",children:"We're having trouble loading this page. This could be due to a network issue or a temporary problem with the application."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(_e,{onClick:this.handleRetry,disabled:n,className:"w-full",children:n?s.jsxs(s.Fragment,{children:[s.jsx(tt,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(tt,{className:"mr-2 h-4 w-4"}),"Try Again"]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(_e,{onClick:this.handleGoBack,variant:"outline",className:"flex-1",children:[s.jsx(ko,{className:"mr-2 h-4 w-4"}),"Go Back"]}),s.jsxs(_e,{onClick:()=>window.location.reload(),variant:"outline",className:"flex-1",children:[s.jsx(tt,{className:"mr-2 h-4 w-4"}),"Reload"]})]})]}),t>0&&s.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Retry attempts: ",t]})]})})})}return this.props.children}}function Ll(){return s.jsx(Ol,{})}function $l(){return s.jsx(kl,{})}function Bl(){return s.jsx(Il,{})}function Ul(){return s.jsx(Pl,{})}const vn=i.lazy(()=>ie(()=>le(()=>import("./Tasks-DdZuQQTA.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19])),3,1e3)),ma=i.lazy(()=>ie(()=>le(()=>import("./Calendar-Cmtj6qzc.js"),__vite__mapDeps([20,1,2,19,7,21,8,3,4,5,6,9,10,11,22,15,17,13,23])),3,1e3)),fa=i.lazy(()=>ie(()=>le(()=>import("./Metrics-BtDTYHCF.js"),__vite__mapDeps([24,1,2,19,7,15,3,4,5,6,8,9,10,11])),3,1e3)),pa=i.lazy(()=>ie(()=>le(()=>import("./Stakeholders-8nNN7bhu.js"),__vite__mapDeps([25,1,2,19,7,21,15,5,8,26,11])),3,1e3)),ha=i.lazy(()=>ie(()=>le(()=>import("./Projects-D9ri0Vik.js"),__vite__mapDeps([27,1,2,8,7,28,29,13,15,5,6,10,9,19,11])),3,1e3)),ya=i.lazy(()=>ie(()=>le(()=>import("./Settings-BTsbQN76.js"),__vite__mapDeps([30,1,2,31,18,8,7,15,13,17,5,32,33,11])),3,1e3)),ba=i.lazy(()=>ie(()=>le(()=>import("./Team-DaSK_EY1.js"),__vite__mapDeps([34,1,2,8,7,15,5,26,13,10,9,19,21,11])),3,1e3)),xa=i.lazy(()=>ie(()=>le(()=>import("./ProjectDetails-NwirPCoU.js"),__vite__mapDeps([35,1,2,4,8,7,31,5,12,13,14,15,16,17,9,11])),3,1e3)),va=i.lazy(()=>ie(()=>le(()=>import("./TeamMemberProfile-CHbpRD1_.js"),__vite__mapDeps([36,1,2,21,15,5,8,7,6,18,10,9,23,28,29,22,17,13,11])),3,1e3)),Ea=i.lazy(()=>ie(()=>le(()=>import("./Peers-Cf5QO2i5.js"),__vite__mapDeps([37,1,2,38,8,7,15,5,13,10,9,16,17,11])),3,1e3)),Na=i.lazy(()=>ie(()=>le(()=>import("./PeerProfile-BXe11cSU.js"),__vite__mapDeps([39,1,2,38,5,40,8,7,15,6,18,11])),3,1e3)),wa=i.lazy(()=>ie(()=>le(()=>import("./Duties-D6HMTmMH.js"),__vite__mapDeps([41,1,2,19,7,42,8,5,15,13,23,11])),3,1e3)),Sa=i.lazy(()=>ie(()=>le(()=>import("./GitHubRepos-CfoCFIkt.js"),__vite__mapDeps([43,1,2,8,7,15,18,31,11])),3,1e3)),_a=i.lazy(()=>ie(()=>le(()=>import("./JiraIssues-BGQu7EjT.js"),__vite__mapDeps([44,1,2,31,8,7,15,5,18,13,11])),3,1e3)),Ta=i.lazy(()=>ie(()=>le(()=>import("./Services-BcDBS7kU.js"),__vite__mapDeps([45,1,2,7,11])),3,1e3)),Ca=i.lazy(()=>ie(()=>le(()=>import("./Roadmap-6aOaUZad.js"),__vite__mapDeps([46,1,2,7,11])),3,1e3)),ja=i.lazy(()=>ie(()=>le(()=>import("./Backlog-CLdZCqj-.js"),__vite__mapDeps([47,1,2,7,11])),3,1e3)),Ra=i.lazy(()=>ie(()=>le(()=>import("./Analytics-BCZuQlzF.js"),__vite__mapDeps([48,1,2,7,11])),3,1e3)),Aa=i.lazy(()=>ie(()=>le(()=>import("./Feedback-DfsImtnC.js"),__vite__mapDeps([49,1,2,7,11])),3,1e3)),Oa=i.lazy(()=>ie(()=>le(()=>import("./Releases-C_WqXZgo.js"),__vite__mapDeps([50,1,2,7,11])),3,1e3)),ka=i.lazy(()=>ie(()=>le(()=>import("./CaptureInbox-nGHQOFbn.js"),__vite__mapDeps([51,1,2,8,7,14,18,5,40,15,23,11])),3,1e3)),Ia=i.lazy(()=>ie(()=>le(()=>import("./CaptureRules-DwYvNpds.js"),__vite__mapDeps([52,1,2,8,7,32,18,15,40,5,14,11])),3,1e3)),Pa=i.lazy(()=>ie(()=>le(()=>import("./BugDashboard-CkPMJAEn.js"),__vite__mapDeps([53,1,2,5,11,7,15,23,28,18,8,42])),3,1e3)),Ma=i.lazy(()=>ie(()=>le(()=>import("./KnowledgeSearch-C_Vi-YNM.js"),__vite__mapDeps([54,1,2,7,31,11,8,28,5])),3,1e3)),Da=i.lazy(()=>ie(()=>le(()=>import("./TeamSync-BJazQ3Om.js"),__vite__mapDeps([55,1,2,31,8,7,15,23,5,42,26,33,14,11])),3,1e3)),La=i.lazy(()=>ie(()=>le(()=>import("./TeamStatus-B-KTJaBN.js"),__vite__mapDeps([56,1,2,42,7,31,8,11])),3,1e3)),$a=i.lazy(()=>ie(()=>le(()=>import("./EntityModel-CEHU7ZSr.js"),__vite__mapDeps([57,1,2,11,7,8,58])),3,1e3)),ys={Tasks:vn,Calendar:ma,Metrics:fa,Stakeholders:pa,Projects:ha,Settings:ya,Team:ba,ProjectDetails:xa,TeamMemberProfile:va,Peers:Ea,PeerProfile:Na,Duties:wa,GitHubRepos:Sa,JiraIssues:_a,Services:Ta,Roadmap:Ca,Backlog:ja,Analytics:Ra,Feedback:Aa,Releases:Oa,CaptureInbox:ka,CaptureRules:Ia,BugDashboard:Pa,KnowledgeSearch:Ma,TeamSync:Da,TeamStatus:La,EntityModel:$a};function Fl(e){e.endsWith("/")&&(e=e.slice(0,-1));let t=e.split("/").pop();return t.includes("?")&&(t=t.split("?")[0]),Object.keys(ys).find(a=>a.toLowerCase()===t.toLowerCase())||Object.keys(ys)[0]}function zl(e){const t=e.toLowerCase();return t.includes("tasks")||t==="/"?s.jsx($l,{}):t.includes("calendar")?s.jsx(Bl,{}):t.includes("team")?s.jsx(Ul,{}):s.jsx(Ll,{})}function Kl(){const e=Ds(),t=Fl(e.pathname),n=zl(e.pathname);return s.jsx(wl,{currentPageName:t,children:s.jsx(Dl,{pageName:t,children:s.jsx(i.Suspense,{fallback:n,children:s.jsxs(Vo,{children:[s.jsx(oe,{path:"/",element:s.jsx(vn,{})}),s.jsx(oe,{path:"/tasks",element:s.jsx(vn,{})}),s.jsx(oe,{path:"/calendar",element:s.jsx(ma,{})}),s.jsx(oe,{path:"/metrics",element:s.jsx(fa,{})}),s.jsx(oe,{path:"/stakeholders",element:s.jsx(pa,{})}),s.jsx(oe,{path:"/projects",element:s.jsx(ha,{})}),s.jsx(oe,{path:"/settings",element:s.jsx(ya,{})}),s.jsx(oe,{path:"/team",element:s.jsx(ba,{})}),s.jsx(oe,{path:"/projectdetails",element:s.jsx(xa,{})}),s.jsx(oe,{path:"/teammemberprofile",element:s.jsx(va,{})}),s.jsx(oe,{path:"/peers",element:s.jsx(Ea,{})}),s.jsx(oe,{path:"/peerprofile",element:s.jsx(Na,{})}),s.jsx(oe,{path:"/duties",element:s.jsx(wa,{})}),s.jsx(oe,{path:"/github",element:s.jsx(Sa,{})}),s.jsx(oe,{path:"/jira",element:s.jsx(_a,{})}),s.jsx(oe,{path:"/services",element:s.jsx(Ta,{})}),s.jsx(oe,{path:"/roadmap",element:s.jsx(Ca,{})}),s.jsx(oe,{path:"/backlog",element:s.jsx(ja,{})}),s.jsx(oe,{path:"/analytics",element:s.jsx(Ra,{})}),s.jsx(oe,{path:"/feedback",element:s.jsx(Aa,{})}),s.jsx(oe,{path:"/releases",element:s.jsx(Oa,{})}),s.jsx(oe,{path:"/entitymodel",element:s.jsx($a,{})}),s.jsx(oe,{path:"/captureinbox",element:s.jsx(ka,{})}),s.jsx(oe,{path:"/capturerules",element:s.jsx(Ia,{})}),s.jsx(oe,{path:"/bugdashboard",element:s.jsx(Pa,{})}),s.jsx(oe,{path:"/knowledge-search",element:s.jsx(Ma,{})}),s.jsx(oe,{path:"/teamsync",element:s.jsx(Da,{})}),s.jsx(oe,{path:"/teamstatus",element:s.jsx(La,{})})]})})})})}function Hl(){return s.jsx(Go,{children:s.jsx(Al,{children:s.jsx(Kl,{})})})}var On="ToastProvider",[kn,Gl,Vl]=Io("Toast"),[Ba,_u]=Po("Toast",[Vl]),[ql,It]=Ba(On),Ua=e=>{const{__scopeToast:t,label:n="Notification",duration:a=5e3,swipeDirection:r="right",swipeThreshold:o=50,children:g}=e,[p,d]=i.useState(null),[m,h]=i.useState(0),N=i.useRef(!1),l=i.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${On}\`. Expected non-empty \`string\`.`),s.jsx(kn.Provider,{scope:t,children:s.jsx(ql,{scope:t,label:n,duration:a,swipeDirection:r,swipeThreshold:o,toastCount:m,viewport:p,onViewportChange:d,onToastAdd:i.useCallback(()=>h(f=>f+1),[]),onToastRemove:i.useCallback(()=>h(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:N,isClosePausedRef:l,children:g})})};Ua.displayName=On;var Fa="ToastViewport",Jl=["F8"],En="toast.viewportPause",Nn="toast.viewportResume",za=i.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:a=Jl,label:r="Notifications ({hotkey})",...o}=e,g=It(Fa,n),p=Gl(n),d=i.useRef(null),m=i.useRef(null),h=i.useRef(null),N=i.useRef(null),l=Ps(t,N,g.onViewportChange),f=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=g.toastCount>0;i.useEffect(()=>{const u=y=>{a.length!==0&&a.every(_=>y[_]||y.code===_)&&N.current?.focus()};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[a]),i.useEffect(()=>{const u=d.current,y=N.current;if(x&&u&&y){const w=()=>{if(!g.isClosePausedRef.current){const O=new CustomEvent(En);y.dispatchEvent(O),g.isClosePausedRef.current=!0}},_=()=>{if(g.isClosePausedRef.current){const O=new CustomEvent(Nn);y.dispatchEvent(O),g.isClosePausedRef.current=!1}},k=O=>{!u.contains(O.relatedTarget)&&_()},A=()=>{u.contains(document.activeElement)||_()};return u.addEventListener("focusin",w),u.addEventListener("focusout",k),u.addEventListener("pointermove",w),u.addEventListener("pointerleave",A),window.addEventListener("blur",w),window.addEventListener("focus",_),()=>{u.removeEventListener("focusin",w),u.removeEventListener("focusout",k),u.removeEventListener("pointermove",w),u.removeEventListener("pointerleave",A),window.removeEventListener("blur",w),window.removeEventListener("focus",_)}}},[x,g.isClosePausedRef]);const b=i.useCallback(({tabbingDirection:u})=>{const w=p().map(_=>{const k=_.ref.current,A=[k,...iu(k)];return u==="forwards"?A:A.reverse()});return(u==="forwards"?w.reverse():w).flat()},[p]);return i.useEffect(()=>{const u=N.current;if(u){const y=w=>{const _=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!_){const A=document.activeElement,O=w.shiftKey;if(w.target===u&&O){m.current?.focus();return}const P=b({tabbingDirection:O?"backwards":"forwards"}),T=P.findIndex(V=>V===A);dn(P.slice(T+1))?w.preventDefault():O?m.current?.focus():h.current?.focus()}};return u.addEventListener("keydown",y),()=>u.removeEventListener("keydown",y)}},[p,b]),s.jsxs(Lo,{ref:d,role:"region","aria-label":r.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&s.jsx(wn,{ref:m,onFocusFromOutsideViewport:()=>{const u=b({tabbingDirection:"forwards"});dn(u)}}),s.jsx(kn.Slot,{scope:n,children:s.jsx(nt.ol,{tabIndex:-1,...o,ref:l})}),x&&s.jsx(wn,{ref:h,onFocusFromOutsideViewport:()=>{const u=b({tabbingDirection:"backwards"});dn(u)}})]})});za.displayName=Fa;var Ka="ToastFocusProxy",wn=i.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:a,...r}=e,o=It(Ka,n);return s.jsx(Ms,{"aria-hidden":!0,tabIndex:0,...r,ref:t,style:{position:"fixed"},onFocus:g=>{const p=g.relatedTarget;!o.viewport?.contains(p)&&a()}})});wn.displayName=Ka;var pt="Toast",Wl="toast.swipeStart",Yl="toast.swipeMove",Xl="toast.swipeCancel",Zl="toast.swipeEnd",Ha=i.forwardRef((e,t)=>{const{forceMount:n,open:a,defaultOpen:r,onOpenChange:o,...g}=e,[p,d]=Mo({prop:a,defaultProp:r??!0,onChange:o,caller:pt});return s.jsx(Do,{present:n||p,children:s.jsx(tu,{open:p,...g,ref:t,onClose:()=>d(!1),onPause:At(e.onPause),onResume:At(e.onResume),onSwipeStart:Le(e.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Le(e.onSwipeMove,m=>{const{x:h,y:N}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${N}px`)}),onSwipeCancel:Le(e.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Le(e.onSwipeEnd,m=>{const{x:h,y:N}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${N}px`),d(!1)})})})});Ha.displayName=pt;var[Ql,eu]=Ba(pt,{onClose(){}}),tu=i.forwardRef((e,t)=>{const{__scopeToast:n,type:a="foreground",duration:r,open:o,onClose:g,onEscapeKeyDown:p,onPause:d,onResume:m,onSwipeStart:h,onSwipeMove:N,onSwipeCancel:l,onSwipeEnd:f,...x}=e,b=It(pt,n),[u,y]=i.useState(null),w=Ps(t,L=>y(L)),_=i.useRef(null),k=i.useRef(null),A=r||b.duration,O=i.useRef(0),M=i.useRef(A),W=i.useRef(0),{onToastAdd:P,onToastRemove:T}=b,V=At(()=>{u?.contains(document.activeElement)&&b.viewport?.focus(),g()}),q=i.useCallback(L=>{!L||L===1/0||(window.clearTimeout(W.current),O.current=new Date().getTime(),W.current=window.setTimeout(V,L))},[V]);i.useEffect(()=>{const L=b.viewport;if(L){const te=()=>{q(M.current),m?.()},ne=()=>{const ae=new Date().getTime()-O.current;M.current=M.current-ae,window.clearTimeout(W.current),d?.()};return L.addEventListener(En,ne),L.addEventListener(Nn,te),()=>{L.removeEventListener(En,ne),L.removeEventListener(Nn,te)}}},[b.viewport,A,d,m,q]),i.useEffect(()=>{o&&!b.isClosePausedRef.current&&q(A)},[o,A,b.isClosePausedRef,q]),i.useEffect(()=>(P(),()=>T()),[P,T]);const Z=i.useMemo(()=>u?Xa(u):null,[u]);return b.viewport?s.jsxs(s.Fragment,{children:[Z&&s.jsx(nu,{__scopeToast:n,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:Z}),s.jsx(Ql,{scope:n,onClose:V,children:qo.createPortal(s.jsx(kn.ItemSlot,{scope:n,children:s.jsx($o,{asChild:!0,onEscapeKeyDown:Le(p,()=>{b.isFocusedToastEscapeKeyDownRef.current||V(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(nt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":b.swipeDirection,...x,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Le(e.onKeyDown,L=>{L.key==="Escape"&&(p?.(L.nativeEvent),L.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:Le(e.onPointerDown,L=>{L.button===0&&(_.current={x:L.clientX,y:L.clientY})}),onPointerMove:Le(e.onPointerMove,L=>{if(!_.current)return;const te=L.clientX-_.current.x,ne=L.clientY-_.current.y,ae=!!k.current,me=["left","right"].includes(b.swipeDirection),he=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,Te=me?he(0,te):0,H=me?0:he(0,ne),ge=L.pointerType==="touch"?10:2,fe={x:Te,y:H},Re={originalEvent:L,delta:fe};ae?(k.current=fe,St(Yl,N,Re,{discrete:!1})):bs(fe,b.swipeDirection,ge)?(k.current=fe,St(Wl,h,Re,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(te)>ge||Math.abs(ne)>ge)&&(_.current=null)}),onPointerUp:Le(e.onPointerUp,L=>{const te=k.current,ne=L.target;if(ne.hasPointerCapture(L.pointerId)&&ne.releasePointerCapture(L.pointerId),k.current=null,_.current=null,te){const ae=L.currentTarget,me={originalEvent:L,delta:te};bs(te,b.swipeDirection,b.swipeThreshold)?St(Zl,f,me,{discrete:!0}):St(Xl,l,me,{discrete:!0}),ae.addEventListener("click",he=>he.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),nu=e=>{const{__scopeToast:t,children:n,...a}=e,r=It(pt,t),[o,g]=i.useState(!1),[p,d]=i.useState(!1);return ru(()=>g(!0)),i.useEffect(()=>{const m=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(m)},[]),p?null:s.jsx(Bo,{asChild:!0,children:s.jsx(Ms,{...a,children:o&&s.jsxs(s.Fragment,{children:[r.label," ",n]})})})},su="ToastTitle",Ga=i.forwardRef((e,t)=>{const{__scopeToast:n,...a}=e;return s.jsx(nt.div,{...a,ref:t})});Ga.displayName=su;var au="ToastDescription",Va=i.forwardRef((e,t)=>{const{__scopeToast:n,...a}=e;return s.jsx(nt.div,{...a,ref:t})});Va.displayName=au;var qa="ToastAction",Ja=i.forwardRef((e,t)=>{const{altText:n,...a}=e;return n.trim()?s.jsx(Ya,{altText:n,asChild:!0,children:s.jsx(In,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${qa}\`. Expected non-empty \`string\`.`),null)});Ja.displayName=qa;var Wa="ToastClose",In=i.forwardRef((e,t)=>{const{__scopeToast:n,...a}=e,r=eu(Wa,n);return s.jsx(Ya,{asChild:!0,children:s.jsx(nt.button,{type:"button",...a,ref:t,onClick:Le(e.onClick,r.onClose)})})});In.displayName=Wa;var Ya=i.forwardRef((e,t)=>{const{__scopeToast:n,altText:a,...r}=e;return s.jsx(nt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...r,ref:t})});function Xa(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),ou(a)){const r=a.ariaHidden||a.hidden||a.style.display==="none",o=a.dataset.radixToastAnnounceExclude==="";if(!r)if(o){const g=a.dataset.radixToastAnnounceAlt;g&&t.push(g)}else t.push(...Xa(a))}}),t}function St(e,t,n,{discrete:a}){const r=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),a?Fo(r,o):r.dispatchEvent(o)}var bs=(e,t,n=0)=>{const a=Math.abs(e.x),r=Math.abs(e.y),o=a>r;return t==="left"||t==="right"?o&&a>n:!o&&r>n};function ru(e=()=>{}){const t=At(e);Uo(()=>{let n=0,a=0;return n=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(a)}},[t])}function ou(e){return e.nodeType===e.ELEMENT_NODE}function iu(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const r=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||r?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function dn(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var cu=Ua,Za=za,Qa=Ha,er=Ga,tr=Va,nr=Ja,sr=In;const lu=cu,ar=i.forwardRef(({className:e,...t},n)=>s.jsx(Za,{ref:n,className:E("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));ar.displayName=Za.displayName;const uu=kt("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),rr=i.forwardRef(({className:e,variant:t,...n},a)=>s.jsx(Qa,{ref:a,className:E(uu({variant:t}),e),...n}));rr.displayName=Qa.displayName;const du=i.forwardRef(({className:e,...t},n)=>s.jsx(nr,{ref:n,className:E("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));du.displayName=nr.displayName;const or=i.forwardRef(({className:e,...t},n)=>s.jsx(sr,{ref:n,className:E("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Ot,{className:"h-4 w-4"})}));or.displayName=sr.displayName;const ir=i.forwardRef(({className:e,...t},n)=>s.jsx(er,{ref:n,className:E("text-sm font-semibold",e),...t}));ir.displayName=er.displayName;const cr=i.forwardRef(({className:e,...t},n)=>s.jsx(tr,{ref:n,className:E("text-sm opacity-90",e),...t}));cr.displayName=tr.displayName;function gu(){const{toasts:e}=tl();return s.jsxs(lu,{children:[e.map(function({id:t,title:n,description:a,action:r,...o}){return s.jsxs(rr,{...o,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(ir,{children:n}),a&&s.jsx(cr,{children:a})]}),r,s.jsx(or,{})]},t)}),s.jsx(ar,{})]})}class mu extends de.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null,errorId:null}}static getDerivedStateFromError(t){return{hasError:!0,errorId:Date.now().toString()}}componentDidCatch(t,n){console.error("Error caught by boundary:",t,n),this.setState({error:t,errorInfo:n}),this.props.onError&&this.props.onError(t,n)}handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null})};handleGoHome=()=>{this.handleRetry(),window.location.href="/"};render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:s.jsxs(st,{className:"w-full max-w-md",children:[s.jsxs(ft,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 p-3 bg-red-100 rounded-full w-fit",children:s.jsx(ks,{className:"h-8 w-8 text-red-600"})}),s.jsx(Rn,{className:"text-xl text-gray-900",children:"Something went wrong"}),s.jsx(An,{children:this.props.fallbackMessage||"We're sorry, but something unexpected happened. Please try again."})]}),s.jsxs(at,{className:"space-y-4",children:[!1,this.state.errorId&&s.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Error ID: ",this.state.errorId]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(_e,{onClick:this.handleRetry,variant:"outline",className:"flex-1",children:[s.jsx(tt,{className:"h-4 w-4 mr-2"}),"Try Again"]}),s.jsxs(_e,{onClick:this.handleGoHome,className:"flex-1",children:[s.jsx(zo,{className:"h-4 w-4 mr-2"}),"Go Home"]})]})]})]})}):this.props.children}}class fu{static MIGRATION_VERSION="1.0.0";static MIGRATION_KEY="pe_manager_migration_version";static async runMigrations(){localStorage.getItem(this.MIGRATION_KEY)!==this.MIGRATION_VERSION&&(ve.info("Running data migrations..."),await this.migrateTasksSchema(),await this.migrateProjectsSchema(),await this.migrateStakeholdersSchema(),await this.migrateTeamMembersSchema(),await this.migrateOneOnOnesSchema(),await this.migrateTaskAttributesSchema(),localStorage.setItem(this.MIGRATION_KEY,this.MIGRATION_VERSION),ve.info("Data migration completed successfully"))}static async migrateTasksSchema(){const t=this.getData("tasks");if(!t.length)return;const n=t.map(a=>({...a,due_date:a.due_date||null,assignee:a.assignee||null,estimated_hours:a.estimated_hours||null,actual_hours:a.actual_hours||null,completion_date:a.completion_date||(a.status==="done"?a.updated_date:null)}));this.setData("tasks",n),ve.info("Migrated tasks",{count:n.length})}static async migrateProjectsSchema(){const t=this.getData("projects");if(!t.length)return;const n=t.map(a=>({...a,deadline:a.deadline||null,budget:a.budget||null,cost:a.cost||null,priority_level:a.priority_level||"medium",progress_percentage:a.progress_percentage||0}));this.setData("projects",n),ve.info("Migrated projects",{count:n.length})}static async migrateStakeholdersSchema(){const t=this.getData("stakeholders");if(!t.length)return;const n=t.map(a=>{const r={...a,phone:a.phone||null,contact_info:a.contact_info||null,company:a.company||a.organization||null};return delete r.organization,r});this.setData("stakeholders",n),ve.info("Migrated stakeholders",{count:n.length})}static async migrateTeamMembersSchema(){const t=this.getData("team_members");if(!t.length)return;const n=t.map(a=>({...a,phone:a.phone||null,company:a.company||null,leave_from:a.leave_from||null,leave_to:a.leave_to||null,leave_title:a.leave_title||null,last_activity:a.last_activity||null}));this.setData("team_members",n),ve.info("Migrated team members",{count:n.length})}static async migrateOneOnOnesSchema(){const t=this.getData("one_on_ones");if(!t.length)return;const n=t.map(a=>{const r={...a,updated_date:a.updated_date||a.created_date,status:a.status||"scheduled",location:a.location||null,team_member_id:a.team_member_id||a.participant_id||null};return delete r.participant_id,r});this.setData("one_on_ones",n),ve.info("Migrated one-on-ones",{count:n.length})}static async migrateTaskAttributesSchema(){const t=this.getData("task_attributes");if(!t.length)return;const n=t.map(a=>({...a,updated_date:a.updated_date||a.created_date}));this.setData("task_attributes",n),ve.info("Migrated task attributes",{count:n.length})}static getData(t){try{const n=localStorage.getItem(t);return n?JSON.parse(n):[]}catch(n){return ve.error("Error reading data from localStorage",{key:t,error:String(n)}),[]}}static setData(t,n){try{localStorage.setItem(t,JSON.stringify(n))}catch(a){throw ve.error("Error saving data to localStorage",{key:t,error:String(a)}),a}}static async calculateLastActivity(){const t=this.getData("team_members"),n=this.getData("tasks"),a=this.getData("meetings"),r=t.map(o=>{let g=null;const p=n.filter(h=>h.metadata?.meeting?.participants?.includes(o.name)),d=a.filter(h=>h.participants?.includes(o.id)||h.participants?.includes(o.name)),m=[...p.map(h=>({date:h.updated_date||h.created_date,type:"task"})),...d.map(h=>({date:h.updated_date||h.created_date,type:"meeting"}))];return m.length>0&&(g=m.sort((N,l)=>new Date(l.date)-new Date(N.date))[0].date),{...o,last_activity:g}});this.setData("team_members",r),ve.info("Updated last_activity for all team members")}}function pu(){return i.useEffect(()=>{fu.runMigrations().catch(e=>{ve.error("Data migration failed",{error:String(e)})})},[]),s.jsxs(mu,{fallbackMessage:"The application encountered an error. Please refresh the page or try again later.",children:[s.jsx(Hl,{}),s.jsx(gu,{})]})}const hu=de.createContext(null);function yu({children:e}){const{isAuthenticated:t,loading:n}=We(),[a,r]=de.useState([]),[o,g]=de.useState([]),[p,d]=de.useState([]),[m,h]=de.useState([]),[N,l]=de.useState([]),[f,x]=de.useState(!0),[b,u]=de.useState(null),[y,w]=de.useState(!1),_=de.useCallback(async()=>{try{const T=await Bs.list("-created_date");r(Array.isArray(T)?T:[])}catch(T){ve.error("Failed to load projects (context)",{error:String(T)}),u("Failed to load projects")}},[]),k=de.useCallback(async()=>{try{const T=await $s.list("-created_date");g(Array.isArray(T)?T:[])}catch(T){ve.error("Failed to load tasks (context)",{error:String(T)}),u("Failed to load tasks")}},[]),A=de.useCallback(async()=>{try{const T=await Us.list();d(Array.isArray(T)?T:[])}catch(T){ve.error("Failed to load stakeholders (context)",{error:String(T)}),u("Failed to load stakeholders")}},[]),O=de.useCallback(async()=>{try{const T=await Fs.list();h(Array.isArray(T)?T:[])}catch(T){ve.error("Failed to load team members (context)",{error:String(T)}),u("Failed to load team members")}},[]),M=de.useCallback(async()=>{try{const T=await zs.list();l(Array.isArray(T)?T:[])}catch(T){ve.error("Failed to load one-on-ones (context)",{error:String(T)}),u("Failed to load one-on-ones")}},[]),W=de.useCallback(async()=>{x(!0),u(null);try{await Promise.all([_(),k(),A(),O(),M()])}finally{x(!1)}},[_,k,A,O,M]);de.useEffect(()=>{!n&&t&&!y?(w(!0),W()):t||(w(!1),r([]),g([]),d([]),h([]),l([]),x(!1))},[t,n]);const P=de.useMemo(()=>({projects:a,tasks:o,stakeholders:p,teamMembers:m,oneOnOnes:N,loading:f,error:b,refreshProjects:_,refreshTasks:k,refreshStakeholders:A,refreshTeamMembers:O,refreshOneOnOnes:M,refreshAll:W}),[a,o,p,m,N,f,b,_,k,A,O,M,W]);return s.jsx(hu.Provider,{value:P,children:e})}const Tu=[{id:"all",label:"All Teams"},{id:"metering",label:"Metering"},{id:"reporting",label:"Reporting"}],Cu=[{id:"goal",label:"Goals"},{id:"blocker",label:"Blockers"},{id:"dependency",label:"Dependencies"},{id:"emphasis",label:"Emphasis"}],ju=[{id:"not_started",label:"Not Started"},{id:"in_progress",label:"In Progress"},{id:"blocked",label:"Blocked"},{id:"done",label:"Done"}],lr=i.createContext(null);function bu({children:e}){const[t,n]=i.useState([]),[a,r]=i.useState("all"),[o,g]=i.useState([]),[p,d]=i.useState(0),[m,h]=i.useState(!0),{isAuthenticated:N}=We(),l=i.useRef(!1),f=i.useRef(a),x=i.useRef(null),b=i.useMemo(()=>{const P={goal:[],blocker:[],dependency:[],emphasis:[]};return(t||[]).forEach(T=>{T.category&&P[T.category]&&P[T.category].push(T)}),P},[t]),u=i.useCallback(async()=>{if(!N){n([]),d(0),h(!1);return}try{h(!0);const P={archived:!1};a!=="all"&&(P.teamDepartment=a);const[T,V]=await Promise.all([Fe.list(P),Fe.getArchivedCount()]);n(T||[]),d(V.count||0)}catch(P){console.error("Failed to fetch sync items:",P),n([]),d(0)}finally{h(!1)}},[N,a]);x.current=u,i.useEffect(()=>{if(!N){l.current=!1,f.current="all";return}const P=f.current!==a;f.current=a,!(l.current&&!P)&&(l.current=!0,x.current?.())},[N,a]);const y=i.useCallback(async P=>{try{const T=await Fe.create(P);return await u(),T}catch(T){throw console.error("Failed to create sync item:",T),T}},[u]),w=i.useCallback(async(P,T)=>{const V=t.find(Z=>Z.id===P),q=T.sync_status==="done"&&V?.sync_status!=="done";q&&(T={...T,archived:!0}),q?(n(Z=>Z.filter(L=>L.id!==P)),d(Z=>Z+1)):n(Z=>Z.map(L=>L.id===P?{...L,...T}:L));try{return await Fe.update(P,T)}catch(Z){throw console.error("Failed to update sync item:",Z),await u(),Z}},[t,u]),_=i.useCallback(async P=>{n(T=>T.filter(V=>V.id!==P));try{await Fe.delete(P)}catch(T){throw console.error("Failed to delete sync item:",T),await u(),T}},[u]),k=i.useCallback(async P=>{try{await Fe.update(P,{archived:!0}),await u()}catch(T){throw console.error("Failed to archive sync item:",T),T}},[u]),A=i.useCallback(async P=>{try{await Fe.restore(P),g(T=>T.filter(V=>V.id!==P)),await u()}catch(T){throw console.error("Failed to restore sync item:",T),T}},[u]),O=i.useCallback(P=>{r(P)},[]),M=i.useCallback(async(P={})=>{try{const T=await Fe.getArchived(P);return g(T||[]),T}catch(T){throw console.error("Failed to load archived items:",T),g([]),T}},[]),W={items:t,itemsByCategory:b,currentTeam:a,archivedItems:o,archivedCount:p,loading:m,refresh:u,createItem:y,updateItem:w,deleteItem:_,archiveItem:k,restoreItem:A,setCurrentTeam:O,loadArchivedItems:M};return s.jsx(lr.Provider,{value:W,children:e})}function Ru(){const e=i.useContext(lr);if(!e)throw new Error("useSync must be used within a SyncProvider");return e}ti.createRoot(document.getElementById("root")).render(s.jsx(Vi,{children:s.jsx(gl,{children:s.jsx(bu,{children:s.jsx(Wi,{children:s.jsx(yl,{children:s.jsx(Ji,{children:s.jsx(yu,{children:s.jsx(Zi,{children:s.jsx(pu,{})})})})})})})})}));export{Ui as $,hu as A,_e as B,st as C,Ii as D,bl as E,vi as F,Di as G,ut as H,hn as I,Gi as J,dt as K,yn as L,Fs as M,Oi as N,ki as O,ul as P,zs as Q,Ci as R,Us as S,$s as T,$i as U,Ni as V,_i as W,Rl as X,Ti as Y,Li as Z,le as _,bn as a,Bi as a0,mt as a1,Fi as a2,Ki as a3,Be as a4,Pc as a5,Dc as a6,$c as a7,Uc as a8,zc as a9,Hc as aa,Vc as ab,Jc as ac,Yc as ad,Tu as ae,Cu as af,Fe as ag,Ru as ah,ju as ai,Yi as aj,Su as ak,Cl as b,xn as c,qi as d,Pi as e,Mi as f,E as g,ft as h,Rn as i,at as j,Se as k,ve as l,An as m,sa as n,aa as o,ra as p,Sl as q,pe as r,Tn as s,la as t,Ws as u,dl as v,ua as w,Bs as x,De as y,We as z};
