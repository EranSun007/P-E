# Roadmap: P&E Manager v1.6 TeamSync Integration

## Overview

v1.6 integrates TeamSync functionality into P&E Manager, providing a unified dashboard for tracking team goals, blockers, dependencies, and emphasis items across departments. The milestone reuses existing projects/tasks tables with flag-based filtering, adds a Kanban board UI with team filtering, and implements subtask management with drag-and-drop reordering.

## Milestones

- v1.0-v1.4: Phases 1-18 (shipped)
- v1.5 Knowledge Base Integration: Phases 19-22 (in progress on main)
- v1.6 TeamSync Integration: Phases 23-27 (this milestone)

## Phases

- [x] **Phase 23: Database & Backend Services** - Schema extensions and service layer for sync items/subtasks
- [ ] **Phase 24: REST API** - HTTP endpoints for sync item CRUD, subtasks, and settings
- [ ] **Phase 25: Frontend Foundation** - SyncContext, API client, page routing, and Kanban board
- [ ] **Phase 26: Item Modal & Subtasks** - Detail modal with all dropdowns and subtask management
- [ ] **Phase 27: Archive Flow** - Archive modal, restore action, and auto-archive on resolve

## Phase Details

### Phase 23: Database & Backend Services
**Goal**: Backend can store and retrieve sync items, subtasks, and settings with full audit trail
**Depends on**: Nothing (first phase of v1.6)
**Requirements**: DB-01, DB-02, DB-03, DB-04, DB-05, DB-06, SVC-01, SVC-02, SVC-03, SVC-04, SVC-05, SVC-06, SVC-07, SVC-08, SVC-09, SVC-10, SVC-11, SVC-12, SVC-13, SVC-14
**Success Criteria** (what must be TRUE):
  1. Projects table includes sync-specific columns (category, sync_status, team_department, is_sync_item, status_history)
  2. Tasks table includes subtask columns (project_id FK, is_subtask, completed, display_order)
  3. SyncItemService can CRUD sync items with status_history tracking
  4. SubtaskService can CRUD subtasks with display_order management
  5. SyncSettingsService can read/upsert user preferences
**Plans**: 2 plans

Plans:
- [x] 23-01-PLAN.md - Database schema migration (tables, columns, indexes, triggers)
- [x] 23-02-PLAN.md - Backend services (SyncItemService, SubtaskService, SyncSettingsService)

### Phase 24: REST API
**Goal**: Frontend can interact with sync items, subtasks, and settings via HTTP endpoints
**Depends on**: Phase 23
**Requirements**: API-01, API-02, API-03, API-04, API-05, API-06, API-07, API-08, API-09, API-10, API-11, API-12, API-13, API-14, API-15
**Success Criteria** (what must be TRUE):
  1. GET/POST/PUT/DELETE /api/sync endpoints work for sync item CRUD
  2. GET /api/sync/archived returns archived items with date filtering
  3. PUT /api/sync/:id/restore moves item from archived to active
  4. Subtask endpoints support full CRUD and reorder operations
  5. Settings endpoints return user preferences or defaults
**Plans**: 2 plans

Plans:
- [ ] 24-01-PLAN.md - Sync item routes (CRUD, archive, restore)
- [ ] 24-02-PLAN.md - Subtask and settings routes

### Phase 25: Frontend Foundation
**Goal**: User can view sync items in a Kanban board filtered by team department
**Depends on**: Phase 24
**Requirements**: CTX-01, CTX-02, CTX-03, CTX-04, CTX-05, CTX-06, UI-01, UI-02, UI-03, UI-04
**Success Criteria** (what must be TRUE):
  1. TeamSync page is accessible from main navigation
  2. Team department tabs filter displayed items (All Teams, Metering, Reporting)
  3. Kanban board displays 4 category columns (Goals, Blockers, Dependencies, Emphasis)
  4. Sync item cards show title, status badge, assignee, and subtask count
**Plans**: 2 plans

Plans:
- [ ] 25-01: SyncContext and API client
- [ ] 25-02: TeamSync page with Kanban board

### Phase 26: Item Modal & Subtasks
**Goal**: User can create/edit sync items with all fields and manage subtasks
**Depends on**: Phase 25
**Requirements**: UI-05, UI-06, UI-07, UI-08, UI-09, UI-10, UI-11, UI-12, UI-13, UI-14, UI-15
**Success Criteria** (what must be TRUE):
  1. Clicking card opens detail/edit modal with all item fields
  2. Create button opens modal for new sync item
  3. Modal includes dropdowns for category, team, status, assignee, and sprint
  4. Subtask section shows list with completion checkboxes
  5. Subtask list supports drag-and-drop reordering and adding new subtasks
**Plans**: 2 plans

Plans:
- [ ] 26-01: SyncItemModal with form fields
- [ ] 26-02: Subtask management UI

### Phase 27: Archive Flow
**Goal**: User can archive resolved items and restore them from archive modal
**Depends on**: Phase 26
**Requirements**: UI-16, UI-17, UI-18, UI-19
**Success Criteria** (what must be TRUE):
  1. Archive button in header shows count badge of archived items
  2. Archive modal lists archived items with date filter
  3. Restore action moves item back to active Kanban board
  4. Setting status to "Resolved" automatically archives the item
**Plans**: 2 plans

Plans:
- [ ] 27-01: Archive modal and restore flow
- [ ] 27-02: Auto-archive on resolve

## Progress

| Phase | Plans Complete | Status | Completed |
|-------|----------------|--------|-----------|
| 23. Database & Backend Services | 2/2 | Complete | 2026-01-29 |
| 24. REST API | 0/2 | Planned | - |
| 25. Frontend Foundation | 0/2 | Not started | - |
| 26. Item Modal & Subtasks | 0/2 | Not started | - |
| 27. Archive Flow | 0/2 | Not started | - |

---
*Roadmap created: 2026-01-29*
*Last updated: 2026-01-29 after Phase 24 planning*
