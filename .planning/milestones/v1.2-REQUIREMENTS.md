# Requirements Archive: v1.2 DevOps Bug Dashboard

**Archived:** 2026-01-28
**Status:** SHIPPED

This is the archived requirements specification for v1.2.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

## v1.2 Requirements (This Milestone)

### CSV Upload (UPLOAD)

- [x] **UPLOAD-01**: User can upload JIRA CSV export file via drag-and-drop or file picker
- [x] **UPLOAD-02**: User must specify week-ending date (Saturday) for each upload
- [x] **UPLOAD-03**: System validates CSV has required columns (Key, Summary, Priority, Status, Created, Resolved, Reporter, Assignee, Labels)
- [x] **UPLOAD-04**: System detects duplicate uploads for same week and prompts for replace/cancel
- [x] **UPLOAD-05**: System shows upload progress and summary (total bugs, components detected)
- [x] **UPLOAD-06**: System displays clear error messages for invalid CSV format

### Database Schema (DB)

- [x] **DB-01**: bug_uploads table stores upload metadata (id, user_id, week_ending, filename, uploaded_at, bug_count)
- [x] **DB-02**: bugs table stores parsed bug data with calculated fields (resolution_time_hours, component)
- [x] **DB-03**: weekly_kpis table stores pre-calculated KPI values per (upload_id, component)
- [x] **DB-04**: Indexes on user_id, status, priority, component for query performance
- [x] **DB-05**: CASCADE DELETE from bug_uploads removes associated bugs and KPIs

### KPI Calculations (KPI)

- [x] **KPI-01**: Bug Inflow Rate - Average bugs created per week over rolling 4-week period
- [x] **KPI-02**: Time to First Response (TTFR) - Median time to first status change, % under 24h
- [x] **KPI-03**: MTTR by Priority - Median resolution time for Very High, High, Medium, Low
- [x] **KPI-04**: SLA Compliance - % of VH bugs resolved <24h, % of High bugs resolved <48h
- [x] **KPI-05**: Open Bug Age Distribution - Count and avg age of open bugs by priority
- [x] **KPI-06**: Automated vs Actionable Ratio - % of bugs from automated reporters (T_*)
- [x] **KPI-07**: Bug Category Distribution - Count by category (deployment, foss, service-broker, other)
- [x] **KPI-08**: Duty Rotation Workload - Avg bugs/week and standard deviation
- [x] **KPI-09**: Backlog Health Score - 100 - (VH×10) - (High×5), clamped 0-100

### Dashboard UI (DASH)

- [x] **DASH-01**: Dashboard page shows all KPIs in card layout with status indicators
- [x] **DASH-02**: KPI cards show green/yellow/red status based on thresholds
- [x] **DASH-03**: Filter by component (All, deploy-metering, service-broker, foss, etc.)
- [x] **DASH-04**: Filter by week (dropdown of uploaded weeks)
- [x] **DASH-05**: Critical alert banner when any KPI in red zone
- [x] **DASH-06**: Aging bugs table showing open VH/High bugs with JIRA links
- [x] **DASH-07**: MTTR by priority bar chart
- [x] **DASH-08**: Bug category pie/donut chart

### Backend API (API)

- [x] **API-01**: POST /api/bugs/upload - Accept CSV file, validate, parse, store, calculate KPIs
- [x] **API-02**: GET /api/bugs/uploads - List uploaded weeks for dropdown
- [x] **API-03**: GET /api/bugs/kpis - Get KPI values for week + component
- [x] **API-04**: GET /api/bugs/list - Get bugs with filtering and pagination
- [x] **API-05**: DELETE /api/bugs/uploads/:id - Delete upload and cascade to bugs/KPIs

---

## KPI Thresholds Reference

| KPI | Green | Yellow | Red |
|-----|-------|--------|-----|
| Bug Inflow Rate | ≤6/week | 6.1-8/week | >8/week |
| TTFR Median | <24h | 24-48h | >48h |
| SLA VH (<24h) | ≥80% | 60-79% | <60% |
| SLA High (<48h) | ≥70% | 50-69% | <50% |
| Backlog Health | 70-100 | 50-69 | 0-49 |

---

## Traceability

| REQ-ID | Phase | Status |
|--------|-------|--------|
| UPLOAD-01 | Phase 11 | Complete |
| UPLOAD-02 | Phase 11 | Complete |
| UPLOAD-03 | Phase 10 | Complete |
| UPLOAD-04 | Phase 11 | Complete |
| UPLOAD-05 | Phase 11 | Complete |
| UPLOAD-06 | Phase 11 | Complete |
| DB-01 | Phase 10 | Complete |
| DB-02 | Phase 10 | Complete |
| DB-03 | Phase 10 | Complete |
| DB-04 | Phase 10 | Complete |
| DB-05 | Phase 10 | Complete |
| KPI-01 | Phase 10 | Complete |
| KPI-02 | Phase 10 | Complete |
| KPI-03 | Phase 10 | Complete |
| KPI-04 | Phase 10 | Complete |
| KPI-05 | Phase 10 | Complete |
| KPI-06 | Phase 10 | Complete |
| KPI-07 | Phase 10 | Complete |
| KPI-08 | Phase 10 | Complete |
| KPI-09 | Phase 10 | Complete |
| API-01 | Phase 11 | Complete |
| API-02 | Phase 10 | Complete |
| API-03 | Phase 10 | Complete |
| API-04 | Phase 10 | Complete |
| API-05 | Phase 10 | Complete |
| DASH-01 | Phase 12 | Complete |
| DASH-02 | Phase 12 | Complete |
| DASH-03 | Phase 12 | Complete |
| DASH-04 | Phase 12 | Complete |
| DASH-05 | Phase 12 | Complete |
| DASH-06 | Phase 12 | Complete |
| DASH-07 | Phase 12 | Complete |
| DASH-08 | Phase 12 | Complete |

---

## Milestone Summary

**Shipped:** 33 of 33 v1.2 requirements
**Adjusted:** None
**Dropped:** None

---

*Archived: 2026-01-28 as part of v1.2 milestone completion*
