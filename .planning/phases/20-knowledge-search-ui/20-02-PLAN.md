---
phase: 20-knowledge-search-ui
plan: 02
type: execute
wave: 2
depends_on: ["20-01"]
files_modified:
  - src/pages/KnowledgeSearch.jsx
  - src/components/knowledge/SearchFilters.jsx
  - src/components/knowledge/SimilarityScore.jsx
  - src/components/knowledge/CodeResultCard.jsx
  - src/components/knowledge/DocsResultCard.jsx
  - src/components/knowledge/RepositoryStats.jsx
autonomous: true

must_haves:
  truths:
    - "User can filter results by repository"
    - "User can filter results by language"
    - "User can filter results by artifact type"
    - "Each result shows similarity score"
    - "User can view repository statistics dashboard"
    - "Active filters show as badges"
  artifacts:
    - path: "src/components/knowledge/SearchFilters.jsx"
      provides: "Filter dropdowns for repository, language, artifact type"
      min_lines: 80
    - path: "src/components/knowledge/SimilarityScore.jsx"
      provides: "Visual similarity score indicator"
      min_lines: 30
    - path: "src/components/knowledge/RepositoryStats.jsx"
      provides: "Statistics dashboard with Recharts"
      min_lines: 80
  key_links:
    - from: "src/pages/KnowledgeSearch.jsx"
      to: "SearchFilters"
      via: "filter state management"
      pattern: "setFilters|filters\\."
    - from: "src/components/knowledge/RepositoryStats.jsx"
      to: "/api/knowledge/stats"
      via: "apiClient.knowledge.getStats"
      pattern: "knowledge\\.getStats"
---

<objective>
Add filtering capabilities, similarity score display, and repository statistics dashboard

Purpose: Complete the Knowledge Search feature with filtering for precise results, relevance indicators, and analytics dashboard showing indexed content breakdown.
Output: Filter controls, similarity scores on results, repository statistics chart
</objective>

<execution_context>
@/Users/i306072/.claude/get-shit-done/workflows/execute-plan.md
@/Users/i306072/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/20-knowledge-search-ui/20-RESEARCH.md
@.planning/phases/20-knowledge-search-ui/20-01-SUMMARY.md

# Patterns to follow
@src/pages/BugDashboard.jsx
@src/components/bugs/KPIGrid.jsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create SearchFilters component with filter dropdowns and active badges</name>
  <files>
    src/components/knowledge/SearchFilters.jsx
    src/pages/KnowledgeSearch.jsx
  </files>
  <action>
1. Create SearchFilters.jsx component:
```jsx
// src/components/knowledge/SearchFilters.jsx
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from '@/components/ui/select';
import { Badge } from '@/components/ui/badge';
import { X, Filter } from 'lucide-react';
import { Button } from '@/components/ui/button';

// Common languages for filter dropdown
const LANGUAGES = [
  { value: 'all', label: 'All Languages' },
  { value: 'javascript', label: 'JavaScript' },
  { value: 'typescript', label: 'TypeScript' },
  { value: 'python', label: 'Python' },
  { value: 'java', label: 'Java' },
  { value: 'go', label: 'Go' },
  { value: 'rust', label: 'Rust' },
  { value: 'html', label: 'HTML' },
  { value: 'css', label: 'CSS' },
];

// Artifact types based on MCP knowledge base
const ARTIFACT_TYPES = [
  { value: 'all', label: 'All Types' },
  { value: 'component', label: 'Components' },
  { value: 'service', label: 'Services' },
  { value: 'utility', label: 'Utilities' },
  { value: 'model', label: 'Models' },
  { value: 'hook', label: 'Hooks' },
  { value: 'api', label: 'API Routes' },
];

export function SearchFilters({ filters, setFilters, repositories = [] }) {
  const handleRepoChange = (value) => {
    setFilters({ ...filters, repoName: value === 'all' ? '' : value });
  };

  const handleLanguageChange = (value) => {
    setFilters({ ...filters, language: value === 'all' ? '' : value });
  };

  const handleArtifactTypeChange = (value) => {
    setFilters({ ...filters, artifactType: value === 'all' ? '' : value });
  };

  const clearFilters = () => {
    setFilters({ repoName: '', language: '', artifactType: '' });
  };

  const hasActiveFilters = filters.repoName || filters.language || filters.artifactType;

  // Generate repo options from provided repositories list
  const repoOptions = [
    { value: 'all', label: 'All Repositories' },
    ...repositories.map(repo => ({ value: repo, label: repo })),
  ];

  return (
    <div className="space-y-3">
      {/* Filter dropdowns */}
      <div className="flex flex-wrap items-center gap-3">
        <div className="flex items-center gap-2 text-sm text-muted-foreground">
          <Filter className="h-4 w-4" />
          <span>Filters:</span>
        </div>

        {/* Repository Filter */}
        <Select
          value={filters.repoName || 'all'}
          onValueChange={handleRepoChange}
        >
          <SelectTrigger className="w-[180px]">
            <SelectValue placeholder="Repository" />
          </SelectTrigger>
          <SelectContent>
            {repoOptions.map((option) => (
              <SelectItem key={option.value} value={option.value}>
                {option.label}
              </SelectItem>
            ))}
          </SelectContent>
        </Select>

        {/* Language Filter */}
        <Select
          value={filters.language || 'all'}
          onValueChange={handleLanguageChange}
        >
          <SelectTrigger className="w-[160px]">
            <SelectValue placeholder="Language" />
          </SelectTrigger>
          <SelectContent>
            {LANGUAGES.map((lang) => (
              <SelectItem key={lang.value} value={lang.value}>
                {lang.label}
              </SelectItem>
            ))}
          </SelectContent>
        </Select>

        {/* Artifact Type Filter */}
        <Select
          value={filters.artifactType || 'all'}
          onValueChange={handleArtifactTypeChange}
        >
          <SelectTrigger className="w-[160px]">
            <SelectValue placeholder="Artifact Type" />
          </SelectTrigger>
          <SelectContent>
            {ARTIFACT_TYPES.map((type) => (
              <SelectItem key={type.value} value={type.value}>
                {type.label}
              </SelectItem>
            ))}
          </SelectContent>
        </Select>

        {/* Clear filters button */}
        {hasActiveFilters && (
          <Button
            variant="ghost"
            size="sm"
            onClick={clearFilters}
            className="text-muted-foreground"
          >
            <X className="h-4 w-4 mr-1" />
            Clear
          </Button>
        )}
      </div>

      {/* Active filter badges */}
      {hasActiveFilters && (
        <div className="flex flex-wrap gap-2">
          {filters.repoName && (
            <Badge variant="secondary" className="text-xs">
              Repo: {filters.repoName}
              <button
                onClick={() => setFilters({ ...filters, repoName: '' })}
                className="ml-1 hover:text-destructive"
              >
                <X className="h-3 w-3" />
              </button>
            </Badge>
          )}
          {filters.language && (
            <Badge variant="secondary" className="text-xs">
              Lang: {filters.language}
              <button
                onClick={() => setFilters({ ...filters, language: '' })}
                className="ml-1 hover:text-destructive"
              >
                <X className="h-3 w-3" />
              </button>
            </Badge>
          )}
          {filters.artifactType && (
            <Badge variant="secondary" className="text-xs">
              Type: {filters.artifactType}
              <button
                onClick={() => setFilters({ ...filters, artifactType: '' })}
                className="ml-1 hover:text-destructive"
              >
                <X className="h-3 w-3" />
              </button>
            </Badge>
          )}
        </div>
      )}
    </div>
  );
}
```

2. Update KnowledgeSearch.jsx to integrate filters:

Add filter state near other state declarations:
```javascript
// Add filter state
const [filters, setFilters] = useState({
  repoName: '',
  language: '',
  artifactType: '',
});
const [repositories, setRepositories] = useState([]);
```

Update the handleSearch function to pass filters:
```javascript
const handleSearch = useCallback(async () => {
  if (!query.trim()) return;

  setLoading(true);
  setError(null);
  setHasSearched(true);

  try {
    // Search code and docs in parallel with filters
    const [codeResponse, docsResponse] = await Promise.all([
      apiClient.knowledge.searchCode({
        query: query.trim(),
        limit: 20,
        repoName: filters.repoName || undefined,
        language: filters.language || undefined,
        artifactType: filters.artifactType || undefined,
      }),
      apiClient.knowledge.searchDocs({
        query: query.trim(),
        limit: 20,
      }),
    ]);

    setCodeResults(codeResponse.results || codeResponse || []);
    setDocsResults(docsResponse.results || docsResponse || []);

    // Extract unique repo names from results for filter dropdown
    const repos = [...new Set(
      (codeResponse.results || codeResponse || [])
        .map(r => r.repoName || r.repo_name)
        .filter(Boolean)
    )];
    if (repos.length > 0) {
      setRepositories(prev => [...new Set([...prev, ...repos])]);
    }
  } catch (err) {
    console.error('Search failed:', err);
    setError(err.message || 'Search failed. Please try again.');
  } finally {
    setLoading(false);
  }
}, [query, filters]);
```

Add SearchFilters import and render in the header section (after the search button):
```jsx
import { SearchFilters } from '@/components/knowledge/SearchFilters';

// In the header section, after the search button div:
{hasSearched && (
  <div className="mt-4 max-w-4xl mx-auto">
    <SearchFilters
      filters={filters}
      setFilters={setFilters}
      repositories={repositories}
    />
  </div>
)}
```
  </action>
  <verify>
1. File exists: src/components/knowledge/SearchFilters.jsx
2. KnowledgeSearch.jsx imports and renders SearchFilters
3. Run `npm run lint` - no errors
4. Run `npm run dev`, search, verify filter dropdowns appear
  </verify>
  <done>
- SearchFilters component created with repository, language, and artifact type dropdowns
- Active filter badges with remove buttons
- KnowledgeSearch integrates filters in API calls
- Requirements SEARCH-04 satisfied
  </done>
</task>

<task type="auto">
  <name>Task 2: Create SimilarityScore component and add to result cards</name>
  <files>
    src/components/knowledge/SimilarityScore.jsx
    src/components/knowledge/CodeResultCard.jsx
    src/components/knowledge/DocsResultCard.jsx
  </files>
  <action>
1. Create SimilarityScore.jsx component:
```jsx
// src/components/knowledge/SimilarityScore.jsx
import { Progress } from '@/components/ui/progress';
import { Badge } from '@/components/ui/badge';
import { cn } from '@/lib/utils';

/**
 * Visual similarity score indicator
 * Score: 0.0 to 1.0 scale from MCP search
 */
export function SimilarityScore({ score, showLabel = true, size = 'default' }) {
  if (score === undefined || score === null) return null;

  // Convert 0.0-1.0 to 0-100 percentage
  const percentage = Math.round(score * 100);

  // Color-coded thresholds
  const getVariant = () => {
    if (score >= 0.8) return 'default'; // High relevance (green)
    if (score >= 0.6) return 'secondary'; // Medium relevance (gray)
    return 'outline'; // Low relevance
  };

  const getColorClass = () => {
    if (score >= 0.8) return 'bg-green-500';
    if (score >= 0.6) return 'bg-yellow-500';
    return 'bg-gray-400';
  };

  const getTextColorClass = () => {
    if (score >= 0.8) return 'text-green-600 dark:text-green-400';
    if (score >= 0.6) return 'text-yellow-600 dark:text-yellow-400';
    return 'text-muted-foreground';
  };

  if (size === 'compact') {
    return (
      <Badge variant={getVariant()} className="text-xs font-mono">
        {percentage}%
      </Badge>
    );
  }

  return (
    <div className="flex items-center gap-2">
      {showLabel && (
        <span className="text-xs text-muted-foreground">Relevance:</span>
      )}
      <div className="flex items-center gap-2">
        <Progress
          value={percentage}
          className={cn('w-16 h-2', size === 'small' && 'w-12 h-1.5')}
          indicatorClassName={getColorClass()}
        />
        <span className={cn('text-xs font-mono', getTextColorClass())}>
          {percentage}%
        </span>
      </div>
    </div>
  );
}

// Compact inline variant for tight spaces
export function SimilarityBadge({ score }) {
  if (score === undefined || score === null) return null;

  const percentage = Math.round(score * 100);

  const getVariant = () => {
    if (score >= 0.8) return 'default';
    if (score >= 0.6) return 'secondary';
    return 'outline';
  };

  return (
    <Badge variant={getVariant()} className="text-xs font-mono">
      {percentage}% match
    </Badge>
  );
}
```

2. Update CodeResultCard.jsx to show similarity score:

Add import at top:
```javascript
import { SimilarityScore } from './SimilarityScore';
```

Add score display in the CardHeader, after the badges div:
```jsx
// Extract similarity score from result
const similarity = result.similarity || result.score || result.similarity_score;

// In CardHeader, update the layout to include score:
<CardHeader className="py-3 px-4">
  <div className="flex items-center justify-between gap-2">
    <div className="flex items-center gap-2 min-w-0">
      <FileCode className="h-4 w-4 flex-shrink-0 text-muted-foreground" />
      <code className="text-sm truncate">{filePath}</code>
    </div>
    <div className="flex items-center gap-2 flex-shrink-0">
      {similarity !== undefined && (
        <SimilarityScore score={similarity} showLabel={false} size="small" />
      )}
      {repoName && (
        <Badge variant="outline" className="text-xs">
          {repoName}
        </Badge>
      )}
      <Badge variant="secondary" className="text-xs">
        {language}
      </Badge>
    </div>
  </div>
</CardHeader>
```

3. Update DocsResultCard.jsx to show similarity score:

Add import at top:
```javascript
import { SimilarityScore } from './SimilarityScore';
```

Add score display similarly:
```jsx
// Extract similarity score
const similarity = result.similarity || result.score || result.similarity_score;

// In CardHeader, add score display:
<CardHeader className="py-3 px-4">
  <div className="flex items-center justify-between gap-2">
    <div className="flex items-center gap-2 min-w-0">
      <FileText className="h-4 w-4 flex-shrink-0 text-muted-foreground" />
      <span className="font-medium truncate">{title}</span>
    </div>
    <div className="flex items-center gap-2 flex-shrink-0">
      {similarity !== undefined && (
        <SimilarityScore score={similarity} showLabel={false} size="small" />
      )}
      {domain && (
        <Badge variant="outline" className="text-xs">
          {domain}
        </Badge>
      )}
      {category && (
        <Badge variant="secondary" className="text-xs">
          {category}
        </Badge>
      )}
    </div>
  </div>
</CardHeader>
```
  </action>
  <verify>
1. File exists: src/components/knowledge/SimilarityScore.jsx
2. CodeResultCard and DocsResultCard import and render SimilarityScore
3. Run `npm run lint` - no errors
4. Run `npm run build:client` - builds without errors
  </verify>
  <done>
- SimilarityScore component created with progress bar and percentage
- Color-coded thresholds (green >= 80%, yellow >= 60%, gray < 60%)
- Both result cards display similarity scores
- Requirement SEARCH-05 satisfied
  </done>
</task>

<task type="auto">
  <name>Task 3: Create RepositoryStats dashboard component</name>
  <files>
    src/components/knowledge/RepositoryStats.jsx
    src/pages/KnowledgeSearch.jsx
  </files>
  <action>
1. Create RepositoryStats.jsx component using Recharts:
```jsx
// src/components/knowledge/RepositoryStats.jsx
import { useState, useEffect } from 'react';
import {
  BarChart,
  Bar,
  XAxis,
  YAxis,
  CartesianGrid,
  Tooltip,
  Legend,
  ResponsiveContainer,
  PieChart,
  Pie,
  Cell,
} from 'recharts';
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';
import { Badge } from '@/components/ui/badge';
import { Loader2, Database, BarChart3, PieChartIcon } from 'lucide-react';
import { apiClient } from '@/api/apiClient';

// Chart colors
const COLORS = ['#8884d8', '#82ca9d', '#ffc658', '#ff7c43', '#a855f7', '#06b6d4', '#f43f5e'];

export function RepositoryStats() {
  const [stats, setStats] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    async function loadStats() {
      try {
        setLoading(true);
        const data = await apiClient.knowledge.getStats();
        setStats(data);
        setError(null);
      } catch (err) {
        console.error('Failed to load stats:', err);
        setError(err.message || 'Failed to load repository statistics');
      } finally {
        setLoading(false);
      }
    }
    loadStats();
  }, []);

  if (loading) {
    return (
      <Card>
        <CardContent className="flex items-center justify-center h-64">
          <Loader2 className="h-8 w-8 animate-spin text-muted-foreground" />
        </CardContent>
      </Card>
    );
  }

  if (error) {
    return (
      <Card>
        <CardContent className="flex items-center justify-center h-64 text-muted-foreground">
          <div className="text-center">
            <Database className="h-8 w-8 mx-auto mb-2 opacity-50" />
            <p className="text-sm">{error}</p>
          </div>
        </CardContent>
      </Card>
    );
  }

  if (!stats) {
    return (
      <Card>
        <CardContent className="flex items-center justify-center h-64 text-muted-foreground">
          <div className="text-center">
            <Database className="h-8 w-8 mx-auto mb-2 opacity-50" />
            <p className="text-sm">No statistics available</p>
          </div>
        </CardContent>
      </Card>
    );
  }

  // Transform stats for charts
  const byTypeData = Object.entries(stats.byArtifactType || stats.by_artifact_type || {}).map(
    ([type, count]) => ({ name: type, count })
  );

  const byLanguageData = Object.entries(stats.byLanguage || stats.by_language || {}).map(
    ([lang, count]) => ({ name: lang, count })
  );

  const byRepoData = Object.entries(stats.byRepository || stats.by_repository || {}).map(
    ([repo, count]) => ({ name: repo, count })
  );

  const totalItems = stats.totalItems || stats.total_items ||
    byTypeData.reduce((sum, item) => sum + item.count, 0);

  return (
    <Card>
      <CardHeader>
        <div className="flex items-center justify-between">
          <div>
            <CardTitle className="flex items-center gap-2">
              <Database className="h-5 w-5" />
              Repository Statistics
            </CardTitle>
            <CardDescription>
              Indexed content breakdown from knowledge base
            </CardDescription>
          </div>
          <Badge variant="secondary" className="text-lg px-3 py-1">
            {totalItems.toLocaleString()} items
          </Badge>
        </div>
      </CardHeader>
      <CardContent>
        <Tabs defaultValue="type">
          <TabsList className="mb-4">
            <TabsTrigger value="type" className="gap-2">
              <BarChart3 className="h-4 w-4" />
              By Type
            </TabsTrigger>
            <TabsTrigger value="language" className="gap-2">
              <PieChartIcon className="h-4 w-4" />
              By Language
            </TabsTrigger>
            <TabsTrigger value="repo" className="gap-2">
              <BarChart3 className="h-4 w-4" />
              By Repository
            </TabsTrigger>
          </TabsList>

          <TabsContent value="type">
            {byTypeData.length > 0 ? (
              <ResponsiveContainer width="100%" height={300}>
                <BarChart data={byTypeData}>
                  <CartesianGrid strokeDasharray="3 3" />
                  <XAxis dataKey="name" />
                  <YAxis />
                  <Tooltip />
                  <Bar dataKey="count" fill="#8884d8" />
                </BarChart>
              </ResponsiveContainer>
            ) : (
              <div className="h-64 flex items-center justify-center text-muted-foreground">
                No artifact type data available
              </div>
            )}
          </TabsContent>

          <TabsContent value="language">
            {byLanguageData.length > 0 ? (
              <ResponsiveContainer width="100%" height={300}>
                <PieChart>
                  <Pie
                    data={byLanguageData}
                    dataKey="count"
                    nameKey="name"
                    cx="50%"
                    cy="50%"
                    outerRadius={100}
                    label={({ name, percent }) => `${name} (${(percent * 100).toFixed(0)}%)`}
                  >
                    {byLanguageData.map((entry, index) => (
                      <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />
                    ))}
                  </Pie>
                  <Tooltip />
                  <Legend />
                </PieChart>
              </ResponsiveContainer>
            ) : (
              <div className="h-64 flex items-center justify-center text-muted-foreground">
                No language data available
              </div>
            )}
          </TabsContent>

          <TabsContent value="repo">
            {byRepoData.length > 0 ? (
              <ResponsiveContainer width="100%" height={300}>
                <BarChart data={byRepoData} layout="vertical">
                  <CartesianGrid strokeDasharray="3 3" />
                  <XAxis type="number" />
                  <YAxis dataKey="name" type="category" width={150} />
                  <Tooltip />
                  <Bar dataKey="count" fill="#82ca9d" />
                </BarChart>
              </ResponsiveContainer>
            ) : (
              <div className="h-64 flex items-center justify-center text-muted-foreground">
                No repository data available
              </div>
            )}
          </TabsContent>
        </Tabs>
      </CardContent>
    </Card>
  );
}
```

2. Update KnowledgeSearch.jsx to include stats dashboard:

Add import:
```javascript
import { RepositoryStats } from '@/components/knowledge/RepositoryStats';
```

Add a Stats tab/section. Modify the page to include a tab or collapsible section for stats.

Option A - Add tabs at the top (recommended):
```jsx
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';
import { BarChart3 } from 'lucide-react';

// In the component, add activeTab state:
const [activeTab, setActiveTab] = useState('search');

// Wrap the content in Tabs:
<div className="h-full flex flex-col">
  <Tabs value={activeTab} onValueChange={setActiveTab} className="h-full flex flex-col">
    {/* Tab triggers in header */}
    <div className="p-4 border-b bg-background">
      <div className="flex items-center gap-4 max-w-4xl mx-auto">
        <TabsList>
          <TabsTrigger value="search">
            <Search className="h-4 w-4 mr-2" />
            Search
          </TabsTrigger>
          <TabsTrigger value="stats">
            <BarChart3 className="h-4 w-4 mr-2" />
            Statistics
          </TabsTrigger>
        </TabsList>

        {/* Search input only shows on search tab */}
        {activeTab === 'search' && (
          <div className="relative flex-1">
            {/* ... existing search input ... */}
          </div>
        )}
      </div>

      {/* Filters only show on search tab after search */}
      {activeTab === 'search' && hasSearched && (
        <div className="mt-4 max-w-4xl mx-auto">
          <SearchFilters ... />
        </div>
      )}
    </div>

    {/* Tab contents */}
    <TabsContent value="search" className="flex-1 min-h-0 mt-0">
      {/* ... existing search results content ... */}
    </TabsContent>

    <TabsContent value="stats" className="flex-1 p-4 overflow-auto mt-0">
      <div className="max-w-4xl mx-auto">
        <RepositoryStats />
      </div>
    </TabsContent>
  </Tabs>
</div>
```

Option B - Add stats below results (simpler):
After the ResizablePanelGroup, add:
```jsx
{hasSearched && (
  <div className="p-4 border-t">
    <RepositoryStats />
  </div>
)}
```

Choose Option A for better UX - separate tabs for Search and Statistics.
  </action>
  <verify>
1. File exists: src/components/knowledge/RepositoryStats.jsx
2. KnowledgeSearch.jsx renders RepositoryStats (in stats tab)
3. Run `npm run lint` - no errors
4. Run `npm run build:client` - builds without errors
5. Navigate to Statistics tab - charts render with data from /api/knowledge/stats
  </verify>
  <done>
- RepositoryStats component created with three chart views (by type, by language, by repository)
- Uses Recharts BarChart and PieChart following BugDashboard patterns
- Loading and error states handled
- Integrated into KnowledgeSearch page via tabs
- Requirement SEARCH-06 satisfied
  </done>
</task>

</tasks>

<verification>
After completing all tasks:
1. `npm run lint` passes
2. `npm run build:client` succeeds
3. Navigate to Knowledge Search page
4. Search tab:
   - Filter dropdowns appear after first search
   - Can filter by repository, language, artifact type
   - Active filters show as badges with remove buttons
   - Both code and docs results show similarity scores
5. Statistics tab:
   - Charts load from /api/knowledge/stats
   - By Type bar chart shows artifact type breakdown
   - By Language pie chart shows language distribution
   - By Repository horizontal bar chart shows repo counts
</verification>

<success_criteria>
- Filter dropdowns work for repository, language, and artifact type
- Active filters display as removable badges
- All search results show similarity score (when available)
- Statistics dashboard shows indexed content breakdown
- Charts follow BugDashboard patterns (Recharts)
- Requirements SEARCH-04, SEARCH-05, SEARCH-06 satisfied
</success_criteria>

<output>
After completion, create `.planning/phases/20-knowledge-search-ui/20-02-SUMMARY.md`
</output>
