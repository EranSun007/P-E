---
status: testing
milestone: v1.8
phases: [32-schema-introspection-backend, 33-visual-canvas]
source: [32-01-SUMMARY.md, 32-02-SUMMARY.md, 33-01-SUMMARY.md, 33-02-SUMMARY.md]
started: 2026-01-29T21:30:00Z
updated: 2026-01-29T21:30:00Z
---

## Current Test
<!-- OVERWRITE each test - shows where we are -->

number: 6
name: Table nodes display structure
expected: |
  Each table node shows: blue header with table name, list of columns with data types in smaller gray text
awaiting: user response

## Tests

### 1. Schema API returns all tables
expected: GET /api/schema/tables returns a JSON array with all database tables (should be 36+). Each table includes tableName, columns array, foreignKeys array, indexes array, constraints object.
result: pass

### 2. Schema API returns specific table details
expected: GET /api/schema/tables/public/tasks returns detailed schema for the tasks table - columns with types, foreign keys, indexes, and constraints.
result: pass

### 3. Non-existent table returns 404
expected: GET /api/schema/tables/public/nonexistent returns 404 status with error message "Table not found"
result: pass

### 4. Entity Model page accessible from navigation
expected: In Product mode, "Entity Model" appears in sidebar navigation with a Database icon. Clicking it navigates to /entitymodel
result: pass

### 5. Schema loads and displays on page mount
expected: Entity Model page shows loading spinner briefly, then displays a canvas with table nodes. All 36+ tables appear as rectangular nodes.
result: pass

### 6. Table nodes display structure
expected: Each table node shows: blue header with table name, list of columns with data types in smaller gray text
result: issue
reported: "i dont see any node on the screen - shows 'No tables found in database schema'"
severity: blocker

### 7. Primary keys visually distinguished
expected: Columns that are primary keys show a key icon and bold text to distinguish them from regular columns
result: [pending]

### 8. Foreign key edges visible
expected: Lines (edges) connect tables that have foreign key relationships. Edge labels show the FK column names.
result: [pending]

### 9. Edge arrows show direction
expected: Edges have arrows pointing FROM the table with the FK TO the referenced table
result: [pending]

### 10. Pan canvas by dragging
expected: Click and drag on empty canvas area to pan/move the view around
result: [pending]

### 11. Zoom canvas with controls
expected: Use mouse wheel or +/- controls in corner to zoom in and out of the canvas
result: [pending]

### 12. Click node opens details panel
expected: Clicking a table node opens a details panel/sidebar on the right showing comprehensive table information
result: [pending]

### 13. Details panel shows columns section
expected: Details panel has a "Columns" section listing all columns with their data types, nullable status, and default values if any
result: [pending]

### 14. Details panel shows relationships
expected: Details panel shows "Foreign Keys" section listing FK constraints with target table names and column mappings
result: [pending]

### 15. Details panel shows indexes
expected: Details panel has an "Indexes" section showing index names, columns, and unique indicators
result: [pending]

### 16. Close details panel with X
expected: Details panel has an X button in header that closes the panel when clicked
result: [pending]

### 17. Close details panel by clicking canvas
expected: Clicking empty canvas area closes the details panel (click-away behavior)
result: [pending]

## Summary

total: 17
passed: 5
issues: 1
pending: 11
skipped: 0

## Gaps

- truth: "Each table node shows: blue header with table name, list of columns with data types"
  status: failed
  reason: "User reported: i dont see any node on the screen - shows 'No tables found in database schema'"
  severity: blocker
  test: 6
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""
