---
phase: 25-frontend-foundation
plan: 02
type: execute
wave: 2
depends_on: ["25-01"]
files_modified:
  - src/pages/TeamSync.jsx
  - src/pages/index.jsx
  - src/pages/Layout.jsx
  - src/components/sync/SyncItemCard.jsx
  - src/components/sync/TeamDepartmentTabs.jsx
  - src/components/sync/KanbanBoard.jsx
autonomous: true
user_setup: []

must_haves:
  truths:
    - "TeamSync page is accessible from main navigation"
    - "Team department tabs filter displayed items (All Teams, Metering, Reporting)"
    - "Kanban board displays 4 category columns (Goals, Blockers, Dependencies, Emphasis)"
    - "Sync item cards show title, status badge, assignee name, and subtask count"
  artifacts:
    - path: "src/pages/TeamSync.jsx"
      provides: "TeamSync page component"
      min_lines: 50
    - path: "src/pages/index.jsx"
      provides: "Route registration for /teamsync"
      contains: "TeamSync"
    - path: "src/pages/Layout.jsx"
      provides: "Navigation item for Team Sync"
      contains: "Team Sync"
    - path: "src/components/sync/SyncItemCard.jsx"
      provides: "Card component for sync items"
      exports: ["SyncItemCard"]
    - path: "src/components/sync/KanbanBoard.jsx"
      provides: "4-column Kanban layout"
      exports: ["KanbanBoard"]
  key_links:
    - from: "src/pages/TeamSync.jsx"
      to: "src/contexts/SyncContext.jsx"
      via: "useSync hook"
      pattern: "useSync\\(\\)"
    - from: "src/pages/index.jsx"
      to: "src/pages/TeamSync.jsx"
      via: "lazy import"
      pattern: "lazy.*TeamSync"
    - from: "src/pages/Layout.jsx"
      to: "createPageUrl('TeamSync')"
      via: "navigation href"
      pattern: "createPageUrl.*TeamSync"
---

<objective>
Create TeamSync page with Kanban board UI, team department tabs, and sync item cards.

Purpose: User can view sync items organized by category in a Kanban board, filter by team department, and see item details (title, status, assignee, subtasks).

Output: TeamSync.jsx page, routing integration, navigation link, and reusable sync components.
</objective>

<execution_context>
@/Users/i306072/.claude/get-shit-done/workflows/execute-plan.md
@/Users/i306072/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/25-frontend-foundation/25-RESEARCH.md
@.planning/phases/25-frontend-foundation/25-01-SUMMARY.md

# Existing patterns to follow
@src/pages/BugDashboard.jsx
@src/pages/Projects.jsx
@src/pages/index.jsx
@src/pages/Layout.jsx
@src/components/ui/card.jsx
@src/components/ui/badge.jsx
@src/components/ui/tabs.jsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create sync component directory and SyncItemCard</name>
  <files>src/components/sync/SyncItemCard.jsx</files>
  <action>
Create src/components/sync/ directory and SyncItemCard.jsx component.

SyncItemCard displays (UI-04):
- Title (item.name) with line-clamp-2 for overflow
- Status badge with color-coded background (sync_status)
- Assignee name (assigned_to_name) with User icon
- Subtask count (subtask_count) with ListChecks icon

Component pattern based on TaskCard.jsx and Projects.jsx:
```jsx
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { User, ListChecks } from "lucide-react";

const STATUS_COLORS = {
  not_started: "bg-gray-100 text-gray-800",
  in_progress: "bg-blue-100 text-blue-800",
  blocked: "bg-red-100 text-red-800",
  done: "bg-green-100 text-green-800",
};

const STATUS_LABELS = {
  not_started: "Not Started",
  in_progress: "In Progress",
  blocked: "Blocked",
  done: "Done",
};

export function SyncItemCard({ item, onClick }) {
  // ... implementation per research doc
}
```

Add hover effect (shadow-sm hover:shadow-md transition-shadow) and cursor-pointer when onClick provided.
  </action>
  <verify>
Verify component exists:
```bash
ls -la src/components/sync/
grep -n "export function SyncItemCard" src/components/sync/SyncItemCard.jsx
```
  </verify>
  <done>
SyncItemCard.jsx created in src/components/sync/ with status badge, assignee display, and subtask count.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create TeamDepartmentTabs and KanbanBoard components</name>
  <files>
src/components/sync/TeamDepartmentTabs.jsx
src/components/sync/KanbanBoard.jsx
  </files>
  <action>
Create two components:

**TeamDepartmentTabs.jsx** (UI-02):
- Uses Tabs from @/components/ui/tabs
- Imports TEAM_DEPARTMENTS from SyncContext
- Props: value (current selection), onValueChange (setter)
```jsx
import { Tabs, TabsList, TabsTrigger } from "@/components/ui/tabs";
import { TEAM_DEPARTMENTS } from "@/contexts/SyncContext";

export function TeamDepartmentTabs({ value, onValueChange }) {
  return (
    <Tabs value={value} onValueChange={onValueChange}>
      <TabsList>
        {TEAM_DEPARTMENTS.map(dept => (
          <TabsTrigger key={dept.id} value={dept.id}>
            {dept.label}
          </TabsTrigger>
        ))}
      </TabsList>
    </Tabs>
  );
}
```

**KanbanBoard.jsx** (UI-03):
- 4-column grid layout (responsive: 1 col mobile, 2 cols md, 4 cols lg)
- Imports CATEGORIES from SyncContext
- Props: itemsByCategory (object), onItemClick (callback)
- Each column shows category label, item count badge, and SyncItemCards
```jsx
import { Badge } from "@/components/ui/badge";
import { CATEGORIES } from "@/contexts/SyncContext";
import { SyncItemCard } from "./SyncItemCard";

export function KanbanBoard({ itemsByCategory, onItemClick }) {
  return (
    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
      {CATEGORIES.map(category => (
        <div key={category.id} className="flex flex-col">
          <div className="flex items-center justify-between mb-3">
            <h3 className="font-semibold text-sm uppercase tracking-wide text-gray-600">
              {category.label}
            </h3>
            <Badge variant="secondary">
              {(itemsByCategory[category.id] || []).length}
            </Badge>
          </div>
          <div className="space-y-3 flex-1 min-h-[200px] bg-gray-50 rounded-lg p-3">
            {(itemsByCategory[category.id] || []).map(item => (
              <SyncItemCard
                key={item.id}
                item={item}
                onClick={onItemClick}
              />
            ))}
            {(itemsByCategory[category.id] || []).length === 0 && (
              <p className="text-sm text-gray-400 text-center py-8">
                No items
              </p>
            )}
          </div>
        </div>
      ))}
    </div>
  );
}
```
  </action>
  <verify>
Verify components exist:
```bash
grep -n "export function TeamDepartmentTabs" src/components/sync/TeamDepartmentTabs.jsx
grep -n "export function KanbanBoard" src/components/sync/KanbanBoard.jsx
grep -n "CATEGORIES" src/components/sync/KanbanBoard.jsx
```
  </verify>
  <done>
TeamDepartmentTabs.jsx and KanbanBoard.jsx created with proper imports and responsive layout.
  </done>
</task>

<task type="auto">
  <name>Task 3: Create TeamSync.jsx page</name>
  <files>src/pages/TeamSync.jsx</files>
  <action>
Create TeamSync.jsx page following BugDashboard.jsx patterns:

1. Import useSync hook and components:
```jsx
import { useSync } from "@/contexts/SyncContext";
import { TeamDepartmentTabs } from "@/components/sync/TeamDepartmentTabs";
import { KanbanBoard } from "@/components/sync/KanbanBoard";
import { Loader2 } from "lucide-react";
```

2. Page structure:
- Page header with title "Team Sync" and optional description
- TeamDepartmentTabs for filtering (UI-02)
- KanbanBoard showing itemsByCategory (UI-03)
- Loading state with Loader2 spinner
- Empty state when no items

3. Use context state:
```jsx
const {
  itemsByCategory,
  currentTeam,
  setCurrentTeam,
  loading
} = useSync();
```

4. Handle item click (placeholder for future detail modal):
```jsx
const handleItemClick = (item) => {
  console.log('Item clicked:', item.id);
  // Future: Open detail modal
};
```

5. Loading state pattern:
```jsx
if (loading) {
  return (
    <div className="flex items-center justify-center h-64">
      <Loader2 className="h-8 w-8 animate-spin text-indigo-600" />
    </div>
  );
}
```

6. Page layout following existing pages:
```jsx
<div className="space-y-6">
  <div className="flex items-center justify-between">
    <div>
      <h1 className="text-2xl font-bold text-gray-900">Team Sync</h1>
      <p className="text-gray-500 mt-1">Track team goals, blockers, and dependencies</p>
    </div>
    <TeamDepartmentTabs value={currentTeam} onValueChange={setCurrentTeam} />
  </div>

  <KanbanBoard itemsByCategory={itemsByCategory} onItemClick={handleItemClick} />
</div>
```

Export as default for lazy loading compatibility.
  </action>
  <verify>
Verify page structure:
```bash
grep -n "useSync" src/pages/TeamSync.jsx
grep -n "KanbanBoard" src/pages/TeamSync.jsx
grep -n "TeamDepartmentTabs" src/pages/TeamSync.jsx
grep -n "export default" src/pages/TeamSync.jsx
```
  </verify>
  <done>
TeamSync.jsx page created with department tabs, Kanban board, loading state, and proper context integration.
  </done>
</task>

<task type="auto">
  <name>Task 4: Add routing and navigation</name>
  <files>
src/pages/index.jsx
src/pages/Layout.jsx
  </files>
  <action>
**index.jsx changes:**

1. Add lazy import (after KnowledgeSearch):
```jsx
// TeamSync (v1.6 - Team Sync integration)
const TeamSync = lazy(() => retryImport(() => import(/* webpackChunkName: "pages-teamsync" */ "./TeamSync"), 3, 1000));
```

2. Add to PAGES object:
```jsx
// TeamSync (v1.6)
TeamSync: TeamSync,
```

3. Add route (BEFORE any generic routes, after KnowledgeSearch route):
```jsx
{/* TeamSync (v1.6 - Team Sync integration) */}
<Route path="/teamsync" element={<TeamSync />} />
```

IMPORTANT: Position route before any parametric routes like /:id to avoid route capture.

**Layout.jsx changes:**

1. Add Users icon import (already imported, verify)

2. Add to peopleNavigation array (after Knowledge Search):
```jsx
{
  name: "Team Sync",
  icon: Users,
  href: createPageUrl("TeamSync"),
  current: currentPageName === "TeamSync"
},
```

Position after Knowledge Search for logical grouping of team-related features.
  </action>
  <verify>
Verify routing:
```bash
grep -n "TeamSync" src/pages/index.jsx
grep -n "teamsync" src/pages/index.jsx
grep -n "Team Sync" src/pages/Layout.jsx
```

Test route manually:
```bash
# After npm run dev, navigate to http://localhost:5173/teamsync
```
  </verify>
  <done>
TeamSync page registered in routing at /teamsync and added to navigation as "Team Sync".
  </done>
</task>

</tasks>

<verification>
1. Components exist in sync directory:
   ```bash
   ls -la src/components/sync/
   ```

2. Page exists with correct structure:
   ```bash
   head -30 src/pages/TeamSync.jsx
   ```

3. Route registered:
   ```bash
   grep -n "TeamSync\|teamsync" src/pages/index.jsx
   ```

4. Navigation added:
   ```bash
   grep -n "Team Sync" src/pages/Layout.jsx
   ```

5. App builds successfully:
   ```bash
   cd /Users/i306072/Documents/GitHub/P-E && npm run build:client 2>&1 | tail -20
   ```

6. Page is accessible (manual test):
   - Run `npm run dev`
   - Navigate to http://localhost:5173/teamsync
   - Verify page loads without errors
   - Verify navigation link appears in sidebar
</verification>

<success_criteria>
- UI-01: TeamSync page accessible from main navigation at /teamsync
- UI-02: Team department tabs visible and functional (All Teams, Metering, Reporting)
- UI-03: Kanban board displays 4 category columns (Goals, Blockers, Dependencies, Emphasis)
- UI-04: Sync item cards show title, status badge, assignee name, subtask count
- Frontend builds successfully
- Page loads without console errors
</success_criteria>

<output>
After completion, create `.planning/phases/25-frontend-foundation/25-02-SUMMARY.md`
</output>
